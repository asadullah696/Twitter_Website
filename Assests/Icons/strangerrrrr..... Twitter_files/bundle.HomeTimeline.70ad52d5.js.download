(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{"/n9r":function(e,t,a){"use strict";a.r(t);const n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicPivot_topic",selections:[{alias:null,args:null,kind:"ScalarField",name:"topic_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"Topic",abstractKey:null,hash:"0572573667f235d11350335060916856"};t.default=n},cOLG:function(e,t,a){"use strict";a.r(t),a.d(t,"HomeTimeline",(function(){return Qt}));a("kYxP");var n=a("ERkP"),i=a.n(n),s=a("es0u"),l=a("wM4e"),r=a("kHBp"),c=a("rxPX"),o=a("0KEI"),d=a("wqZ5");const u=e=>r.a.selectMany(e,Object(d.f)(e));var m=Object(c.a)().propsFromState((()=>({pinnedLists:u,selectedTimelineId:l.b,settingsFetchStatus:l.c,useLatest:l.d}))).propsFromActions((()=>({createLocalApiErrorHandlerFetchPins:Object(o.createLocalApiErrorHandlerWithContextFactory)("HOME_TIMELINE_FETCH_PINS"),fetchPinsIfNeeded:d.c,updateSettings:l.e}))).withAnalytics({page:"home"}),p=a("s14A"),h=a("dwig"),_=a("v//M"),b=a("0+qk"),g=a("2dXj"),y=a("G6rE"),f=Object(c.a)().propsFromState((()=>({loggedInUser:y.e.selectLoggedInUser}))).adjustStateProps((({loggedInUser:e})=>({userAvatarURI:e&&e.profile_image_url_https,userName:e&&e.name}))),v=a("3XMw"),T=a.n(v),E=a("N5qz"),k=a("MWbm"),w=a("cHvH"),L=a("5mJL"),S=a("DNho"),F=a("XP29"),C=a("t62R"),x=a("/yvb"),I=a("rHpw"),O=a("cjZk"),P=a("3rWK"),M=a("ll3R"),A=a("pNJr"),K=a("J0mu"),H=a("KrGU");const B=T.a.g34f2c63({verb:""}),j=T.a.e349147b,R=i.a.createElement(O.a,null),z=i.a.createElement(P.a,null),U=i.a.createElement(M.a,null),D=i.a.createElement(A.a,null),N=i.a.createElement(K.a,null),V=i.a.createElement(H.a,null),Q=I.a.create((e=>({root:{backgroundColor:e.colors.cellBackground,paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.spaces.space8},avatarColumn:{flexGrow:1,minWidth:e.spaces.space32,maxWidth:e.spaces.space48},avatar:{width:"100%"},body:{flexDirection:"column",flexGrow:1},fakeInput:{paddingTop:e.spaces.space16,paddingBottom:e.spaces.space8,paddingHorizontal:e.spaces.space2},toolbar:{alignItems:"center",flexDirection:"row",justifyContent:"space-between",marginRight:e.spaces.space2,marginTop:e.spaces.space20},toolbarSection:{alignItems:"center",flexDirection:"row"},toolBarButton:{marginHorizontal:0},firstToolBarButton:{marginLeft:`-${e.spaces.space8}`},iconContainer:{marginLeft:e.spacesPx.space2},icon:{color:e.colors.primary,height:"1.5em",marginRight:e.spaces.space12,marginLeft:`calc(${e.spaces.space4} + ${e.spaces.space1})`,width:"1.5em"},firstIcon:{marginLeft:0},lastIcon:{marginRight:0},tweetButton:{marginLeft:e.spaces.space12}})));var W=f((({userAvatarURI:e})=>i.a.createElement(w.a,null,(({windowWidth:t})=>{const a=!E.a.isOneColumnSquishedLayout(t);return i.a.createElement(L.a,{avatarCell:i.a.createElement(S.a.Consumer,null,(({avatarSize:t})=>i.a.createElement(F.a,{size:t,style:Q.avatar,uri:e}))),avatarCellStyle:Q.avatarColumn,cellStyle:Q.body,style:Q.root},i.a.createElement(C.b,{color:"gray700",numberOfLines:1,size:"headline1",style:Q.fakeInput},j),i.a.createElement(k.a,{style:Q.toolbar},i.a.createElement(k.a,{style:[Q.toolbarSection,Q.iconContainer]},i.a.createElement(x.a,{disabled:!0,icon:R,size:"medium",style:[Q.toolBarButton,Q.firstToolBarButton],type:"brandText"}),i.a.createElement(x.a,{disabled:!0,icon:z,size:"medium",style:Q.toolBarButton,type:"brandText"}),a?i.a.createElement(x.a,{disabled:!0,icon:U,size:"medium",style:Q.toolBarButton,type:"brandText"}):null,i.a.createElement(x.a,{disabled:!0,icon:D,size:"medium",style:Q.toolBarButton,type:"brandText"}),a?i.a.createElement(x.a,{disabled:!0,icon:N,size:"medium",style:Q.toolBarButton,type:"brandText"}):null,i.a.createElement(x.a,{disabled:!0,icon:V,size:"medium",style:Q.toolBarButton,type:"brandText"})),i.a.createElement(k.a,{style:Q.toolbarSection},i.a.createElement(x.a,{disabled:!0,style:Q.tweetButton,type:"brandFilled"},B))))})))),J=a("zb92"),q=Object(J.a)({loader:()=>(g.a.preload()||Promise.resolve()).then((()=>Promise.all([a.e(0),a.e(3),a.e(4),a.e(5),a.e(84)]).then(a.bind(null,"RrO2")))),renderPlaceholder:()=>i.a.createElement(W,null)}),G=a("v6aA"),Z=a("1YZw"),$=Object(c.a)().propsFromState((()=>({selectedTimelineId:l.b,useLatest:l.d}))).propsFromActions((()=>({addToast:Z.b,updateSettings:l.e}))).withAnalytics(),X=a("EY8L"),Y=a("yZDr");var ee=({accessibilityLabel:e,hoverLabel:t,onPress:a,renderMenu:n})=>{const s=i.a.createElement(Y.a,null);return i.a.createElement(x.a,{accessibilityLabel:e,hoverLabel:{label:t},icon:s,onPress:a,pullRight:!0,renderMenu:n,type:"primaryText"})},te=a("mjJ+"),ae=a("Lsrn"),ne=a("k/Ka");const ie=(e={})=>Object(ne.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[ae.a.root,e.style],viewBox:"0 0 36 36"},i.a.createElement("g",null,i.a.createElement("path",{d:"M27.325 20.595c0 7.333-5.913 13.278-13.206 13.278S.912 27.928.912 20.595 6.825 7.317 14.12 7.317s13.205 5.944 13.205 13.278",fill:"#71C9F8"}),i.a.createElement("path",{d:"M24.576 20.682c0 5.802-4.678 10.506-10.45 10.506-5.77 0-10.448-4.704-10.448-10.506s4.678-10.506 10.45-10.506c5.77 0 10.448 4.704 10.448 10.506",fill:"#97E3FF"}),i.a.createElement("path",{d:"M18.98 20.94l-3.86-.583v-6.215c0-.552-.45-1-1-1s-1 .448-1 1v7.076c0 .06.023.112.033.17.007.042.012.082.025.123.026.084.063.158.11.23.022.038.044.075.072.11.05.06.11.11.173.158.042.03.08.06.128.086.065.034.133.055.204.074.04.01.072.035.114.04l4.704.71c.05.01.1.012.15.012.487 0 .914-.355.988-.85.08-.548-.295-1.058-.84-1.14z",fill:"#005FD1"}),i.a.createElement("path",{d:"M24.553 20.682c0 5.79-4.68 10.5-10.434 10.5S3.683 26.47 3.683 20.68c0-2.953 1.227-5.707 3.31-7.665l.674 1.127c.38.635 1.227.668 1.524.06l1.153-2.36 1.312-2.687c.24-.49-.104-1.067-.65-1.088l-2.988-.116-2.625-.1c-.678-.027-1.05.735-.67 1.37l.804 1.344C2.613 13.065.883 16.736.883 20.683c0 7.333 5.937 13.298 13.234 13.298s13.234-5.964 13.234-13.297h-2.8z",fill:"#1DA1F2"}),i.a.createElement("path",{d:"M35 13.36h-1.467v-1.34c0-.552-.448-1-1-1s-1 .448-1 1v1.34h-1.467c-.552 0-1 .45-1 1s.448 1 1 1h1.467v1.342c0 .552.448 1 1 1s1-.448 1-1v-1.34H35c.552 0 1-.45 1-1s-.448-1-1-1z",fill:"#FFAD1F"}),i.a.createElement("path",{d:"M28.646 4.138h-2.01v-2.01c0-.552-.448-1-1-1s-1 .448-1 1v2.01h-2.01c-.552 0-1 .448-1 1s.448 1 1 1h2.01v2.01c0 .552.448 1 1 1s1-.448 1-1v-2.01h2.01c.552 0 1-.448 1-1s-.447-1-1-1z",fill:"#F6809A"})));ie.metadata={width:36,height:36};var se=ie;const le=(e={})=>Object(ne.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[ae.a.root,e.style],viewBox:"0 0 36 36"},i.a.createElement("g",null,i.a.createElement("path",{d:"M35.508 15.41l-9.295-3.387L22.438 1.47c-.108-.302-.357-.48-.722-.495-.322.007-.604.22-.698.53l-3.293 10.71-9.132 3.805c-.285.118-.467.4-.46.708.007.308.203.58.492.686L17.92 20.8l3.775 10.552c.107.298.39.496.704.496h.016c.322-.007.604-.22.698-.53l3.293-10.712 9.132-3.803c.284-.118.466-.4.46-.708-.007-.308-.203-.58-.492-.686z",fill:"#61BCF6"}),i.a.createElement("path",{d:"M9.57 4.715l-2.906.065-.06-2.715C6.585 1.34 5.983.763 5.256.78 4.53.796 3.955 1.4 3.97 2.125l.063 2.715-2.747.062C.56 4.92-.016 5.522 0 6.248c.017.726.62 1.302 1.346 1.285l2.747-.062.062 2.716c.017.726.62 1.302 1.345 1.286.726-.016 1.302-.62 1.286-1.345l-.062-2.715 2.905-.066c.725-.017 1.3-.62 1.285-1.346-.017-.726-.62-1.302-1.346-1.285z",fill:"#F16888"}),i.a.createElement("path",{d:"M14.205 29.69l-1.65.036-.034-1.518c-.016-.726-.618-1.302-1.344-1.286s-1.302.62-1.286 1.345l.034 1.518-1.54.035c-.726.016-1.302.62-1.286 1.345.017.726.62 1.302 1.345 1.286l1.54-.034.034 1.518c.017.726.62 1.302 1.345 1.286.726-.016 1.302-.62 1.286-1.345l-.034-1.518 1.65-.037c.726-.016 1.302-.62 1.286-1.345-.016-.727-.62-1.303-1.345-1.286z",fill:"#FD9E1A"})));le.metadata={width:36,height:36};var re=le,ce=a("3JQt"),oe=a("M2x3");const de=T.a.j681ac0d,ue=T.a.g8220472,me=T.a.ccdd3766,pe=T.a.g2657de3,he=T.a.d126cb7c,_e=T.a.c41ecf3c,be=T.a.d18aa6d4,ge=T.a.c90dcfa2,ye=T.a.bc52b0cd,fe=T.a.j6382fe9,ve=T.a.f89f6785,Te=T.a.e4acfd11,Ee=T.a.f0c7628a,ke=T.a.j7d0cac5,we=T.a.eeab4419,Le=T.a.cae804f9;const Se=I.a.create((e=>({description:{fontSize:e.fontSizes.headline1,color:e.colors.text,textAlign:"center",fontWeight:e.fontWeights.bold}})));var Fe=function({onContentPreferencesSelect:e,onPress:t,onToggle:a,useLatest:n}){const{featureSwitches:s}=i.a.useContext(G.a),l=n?ue:me,r=n?he:pe,c=i.a.useCallback((t=>{t(),e()}),[e]),o=i.a.useCallback((e=>{e(),a()}),[a]),d=i.a.useCallback((e=>{let t,a,l;s.isTrue("responsive_web_home_pinned_timelines_latest_enabled")?(t=n?ge:_e,a=n?Le:ke,l=n?we:Ee):(t=n?be:_e,a=n?Te:ve,l=n?ye:fe);const r=n?se:re,d=[{text:l,onClick:o,Icon:ce.a,subText:a},{link:"/settings/content_preferences",text:de,onClick:c,Icon:oe.a}];return i.a.createElement(te.a,{DescriptionIcon:r,description:t,descriptionStyle:Se.description,isFixed:!0,items:d,onCloseRequested:e})}),[s,c,o,n]);return i.a.createElement(ee,{accessibilityLabel:l,hoverLabel:r,onPress:t,renderMenu:d})};const Ce=T.a.e4c6d14c,xe=T.a.bffa2da7;var Ie=$((function({addToast:e,analytics:t,selectedTimelineId:a,updateSettings:n,useLatest:s}){const{featureSwitches:l}=i.a.useContext(G.a),r=i.a.useCallback((()=>{t.scribe({component:"customize",element:"see_preferences",action:"click"})}),[t]),c=i.a.useCallback((()=>{t.scribe({section:"navigation_bar",element:"customize_button",action:"click"})}),[t]),o=i.a.useCallback((()=>{const i=l.isTrue("responsive_web_home_pinned_timelines_latest_enabled"),r=s?Ce:xe;let c;i&&s&&a===X.a.HOME_LATEST&&(c=X.a.HOME),i||(c=a===X.a.HOME?X.a.HOME_LATEST:X.a.HOME),t.scribe({component:"customize",element:s?"see_top":"see_latest",action:"click"}),n({...c&&{selectedTimelineId:c},useLatest:!s}).then((()=>{i||e({text:r})}))}),[e,t,l,a,n,s]);return i.a.createElement(Fe,{onContentPreferencesSelect:r,onPress:c,onToggle:o,useLatest:s})})),Oe=a("lUZE");const Pe=()=>window.performance&&"function"==typeof window.performance.now;var Me=a("yoO3"),Ae=a("ZB2A"),Ke=a("aeN7"),He=a("hqKg"),Be=a("9TPy"),je=a("wrlS"),Re=a("WA1W");var ze=Object(c.a)().propsFromState((()=>({module:Object(He.createSelector)(((e,t)=>t.isLatestActive),((e,t)=>t.isList),l.b,je.d,((e,t,a,n)=>t?Object(Be.a)({listId:a}):e?Object(Re.e)(n.isTrue("responsive_web_graphql_home_latest_enabled")):Object(Re.f)(n.isTrue("responsive_web_graphql_home_enabled"))))}))).propsFromActions((()=>({updateSettings:l.e}))).withAnalytics(),Ue=a("QIgh"),De=a("8UdT"),Ne=a("iu0J"),Ve=a("AP4B"),Qe=({withUserPresence:e=!1})=>({...Object(Ue.a)({allowDownvote:!0,tweetDismissable:!0,shouldSelfThreadIncludeAvatar:!0,withUserPresence:e}),...Ve.a,[De.b.EventSummary]:Object(Ne.a)({})}),We=a("MDbM"),Je=a("97Jx"),qe=a.n(Je),Ge=a("FIs5");const Ze=[{height:200,uri:"https://abs.twimg.com/sticky/illustrations/empty-states/hatched-baby-chick-400x200.v1.png",width:400},{height:400,uri:"https://abs.twimg.com/sticky/illustrations/empty-states/hatched-baby-chick-800x400.v1.png",width:800},{height:600,uri:"https://abs.twimg.com/sticky/illustrations/empty-states/hatched-baby-chick-1200x600.v1.png",width:1200}],$e={headerMessage:T.a.d4d5785f,bodyMessage:T.a.f3f4c67b,buttonText:T.a.a399ed2f},Xe=T.a.d2c66f1f,Ye=T.a.c3fbf1da,et=T.a.bf17ded9;var tt=({onButtonPress:e,onImpression:t})=>{const{featureSwitches:a}=i.a.useContext(G.a),n=a.getStringValue("responsive_web_htl_empty_state_redesign_variant"),s="a_no_graphic_new_copy"===(l=n)||"b_new_graphic_new_copy"===l?$e:void 0;var l;const r=(e=>"b_new_graphic_new_copy"===e||"c_new_graphic_old_copy"===e?Ze:void 0)(n);return i.a.createElement(Ge.a,qe()({buttonLink:"/i/connect_people",buttonText:s?s.buttonText:et,header:s?s.headerMessage:Xe},r&&{imageVariants:r},{message:s?s.bodyMessage:Ye,onButtonPress:e,onImpression:t}))},at=a("EUHl"),nt=a("7BdX"),it=a("fTQJ");const st={count:void 0},lt=T.a.f089620b;var rt,ct=ze((({analytics:e,isLatestActive:t=!1,isLatestPinned:a=!1,module:n,recordTTFT:s=Ke.e,shouldFetchLoadedContentOnMount:l=!0,timelineRef:r,updateSettings:c,withUserPresence:o=!1})=>{const d=i.a.useRef(!0),u=i.a.useCallback((()=>{e.scribe({component:"empty_message",action:"impression"})}),[e]),m=i.a.useCallback((()=>{e.scribe({component:"empty_message",element:"primary_cta",action:"click"})}),[e]),p=i.a.useCallback((({entries:e,fetchStatus:t})=>{if(t===We.a.FAILED&&(d.current=!1),d.current&&e.length){const t=e.some((({type:e})=>e===De.b.Tweet));d.current=!1,t&&s()}}),[s,d]),h=i.a.useCallback((()=>i.a.createElement(tt,{onButtonPress:m,onImpression:u})),[m,u]);return i.a.createElement(it.a,{entryConfiguration:Qe({withUserPresence:o}),fetchTopOptions:st,module:n,newTweetsPillMode:at.a.URT,onEntriesRendered:p,prerollDisplayLocation:nt.c.TIMELINE_HOME,renderEmptyState:h,shouldFetchLoadedContentOnMount:l,timelineRef:r,title:lt,withUserPresence:o})})),ot=a("7JQg"),dt=a("VS6U"),ut=a("Es6L"),mt=a("LsPn"),pt=a("gZV8"),ht=(a("enFi"),a("Fr3L")),_t=a("lnL+"),bt=a("Rp9C"),gt=a("FGLp"),yt=a("jAXQ"),ft=a.n(yt);const vt=e=>{const{name:t,topic_id:n}=ft()(void 0!==rt?rt:rt=a("/n9r"),e.topic);Object(gt.a)((()=>{e.analytics.scribe({element:"topic",action:"impression",data:{items:[bt.a.forTopic(n)]}})}));const s=i.a.useCallback((()=>{e.analytics.scribe({element:"topic",action:"click",data:{items:[bt.a.forTopic(n)]}})}),[e.analytics,n]);return i.a.createElement(_t.a,{link:`/i/topics/${n}`,onClick:s,text:t})};var Tt,Et=a("Irs7"),kt=a("yUQf"),wt=a("DQzJ"),Lt=a("6iuV");const St=T.a.j0310b9b,Ft=T.a.ffd9cfe6,Ct=T.a.i0560231,xt=void 0!==Tt?Tt:Tt=a("yKhE"),It={context:"TOPIC_PIVOTS_CAROUSEL"},Ot=()=>{var e,t,a,n,s,l,r;const c=i.a.useRef(0),o=Object(Et.b)(),d=Object(kt.a)(y.e.selectLoggedInUser),{data:u}=Object(wt.a)(xt,{}),m=("User"===(null==u||null==(e=u.viewer)||null==(t=e.user_results)||null==(a=t.result)?void 0:a.__typename)&&(null==u||null==(n=u.viewer)||null==(s=n.user_results)||null==(l=s.result)||null==(r=l.home_topics_navigator_slices)?void 0:r.items)||[]).map(((e,t)=>null!=e&&e.topic?i.a.createElement(vt,{analytics:o,key:t,topic:e.topic}):null)),p=i.a.useCallback((()=>{o.scribeAction("impression"),o.scribe({element:"see_more",action:"impression"})}),[o]),h=i.a.useCallback((({next:e,previous:t})=>{t>e?o.scribeAction("scroll_left"):t<e&&o.scribeAction("scroll_right")}),[o]),_=i.a.useCallback((({index:e,intersectionRatio:t})=>{e===c.current-1&&t>=pt.c&&o.scribeAction("reached_end")}),[o]);Object(gt.a)((()=>{m.length>0&&p()})),i.a.useEffect((()=>{c.current=m.length+1}),[m]);const b=i.a.useCallback((()=>{o.scribe({element:"see_more",action:"click"})}),[o]),g=d?`/${d.screen_name}/topics`:"/i/topics/picker",f=i.a.createElement(x.a,{accessibilityLabel:Ct,borderColor:"primary",color:"primary",key:"seeMorePivot",link:g,onClick:b},Ft);return m.length>0?i.a.createElement(Lt.a,{accessibilityLabel:St,childrenStyle:Pt.childrenStyle,onScroll:h,onVisibleRangeChange:_,style:Pt.carousel},[...m,f]):null},Pt=I.a.create((e=>({carousel:{marginHorizontal:`calc(${e.spaces.space12} - ${e.spaces.space2})`,marginBottom:e.spaces.space1,backgroundColor:e.colors.navigationBackground,zIndex:1},childrenStyle:{marginHorizontal:e.spaces.space4,marginVertical:e.spaces.space12}})));var Mt=()=>i.a.createElement(ht.a,{errorConfig:It},i.a.createElement(Ot,null)),At=a("aITJ"),Kt=a("0yYu"),Ht=a("mw9i"),Bt=a("k/OQ");const jt=T.a.i5f7b6b8,Rt=T.a.d126cb7c,zt=T.a.ha8209bb,Ut=Ae.a.HOME,Dt={page:"home"},Nt={page:"home_latest"},Vt={section:"topics_navigator",component:"suggest_topics_module"};class Qt extends i.a.Component{constructor(e,t){super(e,t),this._lastTimelineSwitchTimestamp=0,this._unmounted=!1,this._getLink=(e,t)=>{const{analytics:a,selectedTimelineId:n,updateSettings:i}=this.props;return{isActive:()=>n===e,label:t,key:e,onClick:()=>{if(n===e){var t;null==(t=this._timeline)||t.refreshOrGoTop()}else{const t=Date.now()-this._lastTimelineSwitchTimestamp;i({selectedTimelineId:e}),a.scribe({section:n,element:e,action:"click",data:{duration_ms:t}})}},retainScrollPosition:!1,to:"/home"}},this._getLinks=()=>{const{pinnedLists:e,useLatest:t}=this.props,a=this._getLink(X.a.HOME,zt),n=t?this._getLink(X.a.HOME_LATEST,Rt):void 0,i=this._pinnedListsEnabled?e.map((({id_str:e,name:t})=>this._getLink(Object(X.c)(e),t))):[],s=[a,n],l=t&&this._latestTimelineSwitchEnabled?[n]:[a];return[...this._isLatestPinned()?s:l,...i]},this._getTimelineMetadata=()=>{const e=this._isLatestActive();let t=e?Nt:Dt;return this.context.featureSwitches.isTrue("responsive_web_home_namespace_update_enabled")&&(t={...Dt,section:e?"latest":"home"}),{scribeNamespace:t,title:this._pinnedListsEnabled?zt:e?Rt:zt}},this._handleSoftLeftClick=()=>this.props.history.push("/account"),this._handleTabRefresh=()=>{var e;return null==(e=this._timeline)?void 0:e.refreshOrGoTop()},this._handleWindowFocus=()=>{var e;return null==(e=this._timeline)?void 0:e.fetchTop({onlyIfStale:!0})},this._isLatestActive=()=>this._isLatestPinned()?this.props.selectedTimelineId===X.a.HOME_LATEST:this.props.useLatest&&this._latestTimelineSwitchEnabled,this._isLatestPinned=()=>this.props.useLatest&&this.context.featureSwitches.isTrue("responsive_web_home_pinned_timelines_latest_enabled"),this._renderTimeline=()=>{const{selectedTimelineId:e}=this.props,t=this._isLatestActive(),a=this._isLatestPinned(),n=this._pinnedListsEnabled&&e!==X.a.HOME&&e!==X.a.HOME_LATEST,s=this.context.featureSwitches.isTrue("responsive_web_audio_space_ring_home_timeline");return i.a.createElement(p.a,null,this.context.featureSwitches.isTrue("home_timeline_topics_navigator_enabled")?i.a.createElement(ot.c,{namespace:Vt},i.a.createElement(Mt,null)):null,i.a.createElement(ct,{isLatestActive:t,isLatestPinned:a,isList:n,shouldFetchLoadedContentOnMount:t,timelineRef:this._setTimelineRef,withUserPresence:s}))},this._renderPrimaryContent=()=>{const{history:e,location:t,settingsFetchStatus:a}=this.props,{isRestrictedSession:n}=this.context,s=i.a.createElement(b.a,{history:e});return i.a.createElement(i.a.Fragment,null,Object(ut.a)()&&!n?i.a.createElement(i.a.Fragment,null,i.a.createElement(q,{history:e,location:t}),i.a.createElement(Kt.a,null)):null,i.a.createElement(h.a,{component:Ht.a,fab:s},At.b.isKaiOS()?i.a.createElement(mt.a,{leftText:jt,onLeftClick:this._handleSoftLeftClick}):null,i.a.createElement(_.a,{fetchStatus:a,render:this._renderTimeline})))},this._setTimelineRef=e=>{this._timeline=e};const{featureSwitches:a}=this.context;this._latestTimelineSwitchEnabled=a.isTrue("home_timeline_latest_timeline_switch_enabled"),this._pinnedListsEnabled=a.isTrue("responsive_web_home_pinned_timelines_lists_enabled")}componentDidMount(){const{createLocalApiErrorHandlerFetchPins:e,fetchPinsIfNeeded:t}=this.props;if(this._lastTimelineSwitchTimestamp=Date.now(),window.addEventListener("focus",this._handleWindowFocus),this._pinnedListsEnabled&&t().catch(e()),this.context.featureSwitches.isTrue("responsive_web_framerate_tracking_home_enabled")){const e=`home${At.b.isDesktopOS()?"":"_mobile"}`;(Pe()?a.e(351).then(a.bind(null,"Iid0")).then((({default:e})=>e)):Promise.resolve(void 0)).then((t=>{!this._unmounted&&t&&(this._fpsTracking=t({reportNamespace:e}))}))}}componentWillUnmount(){this._unmounted=!0,window.removeEventListener("focus",this._handleWindowFocus),this._fpsTracking&&this._fpsTracking.stop()}componentDidUpdate(e){e.selectedTimelineId!==this.props.selectedTimelineId&&(this._lastTimelineSwitchTimestamp=Date.now())}render(){const{history:e,selectedTimelineId:t}=this.props,{scribeNamespace:a,title:n}=this._getTimelineMetadata(),l=!Object(ut.a)(),r=this._getLinks(),c=r.length>1,o=l&&c?i.a.createElement(Oe.a,{style:Wt.iconTwitter}):void 0,d=(c?this._latestTimelineSwitchEnabled&&(t===X.a.HOME||t===X.a.HOME_LATEST):this._latestTimelineSwitchEnabled)?i.a.createElement(Ie,null):void 0,u=c?i.a.createElement(Bt.a,{links:r}):void 0,m=!l||!c?n:null;return i.a.createElement(ot.c,{namespace:a},i.a.createElement(Me.a,{behavioralEventViewType:Ut,locationKey:a.page},i.a.createElement(dt.a,{centeredLogo:o,documentTitle:n,history:e,onTabRefresh:this._handleTabRefresh,primaryContent:this._renderPrimaryContent,rightControl:d,secondaryBar:u,sidebarContent:i.a.createElement(s.a,null),title:m})))}}Qt.contextType=G.a;const Wt=I.a.create((e=>({iconTwitter:{flexGrow:1,height:"1.75rem",color:e.colors.primary}})));t.default=m(Qt)},yKhE:function(e,t,a){"use strict";a.r(t);const n={fragment:{argumentDefinitions:i=[{defaultValue:null,kind:"LocalArgument",name:"cursor_string"},{defaultValue:20,kind:"LocalArgument",name:"max_count"}],kind:"Fragment",metadata:null,name:"TopicPivotsCarouselQuery",selections:[{alias:"viewer",args:s=[{kind:"Literal",name:"s",value:23}],concreteType:"Viewer",kind:"LinkedField",name:"viewer_v2",plural:!1,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:"home_topics_navigator_slices",args:r=[{kind:"Variable",name:"cursor_string",variableName:"cursor_string"},{kind:"Variable",name:"max_count",variableName:"max_count"}],concreteType:null,kind:"LinkedField",name:"__TopicPivotsCarouselQuery_home_topics_navigator_slices_slice",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Topic",kind:"LinkedField",name:"topic",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"TopicPivot_topic"}],storageKey:null}],type:"TopicItem",abstractKey:null}],storageKey:null},c={alias:null,args:null,concreteType:"SliceInfo",kind:"LinkedField",name:"slice_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"next_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"previous_cursor",storageKey:null}],storageKey:null}],type:"HomeTopicsNavigatorSlices",abstractKey:null}],storageKey:null}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:"viewer_v2(s:23)"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"TopicPivotsCarouselQuery",selections:[{alias:"viewer",args:s,concreteType:"Viewer",kind:"LinkedField",name:"viewer_v2",plural:!1,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{alias:null,args:r,concreteType:null,kind:"LinkedField",name:"home_topics_navigator_slices",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[l,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Topic",kind:"LinkedField",name:"topic",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"topic_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"TopicItem",abstractKey:null}],storageKey:null},c],type:"HomeTopicsNavigatorSlices",abstractKey:null}],storageKey:null},{alias:null,args:r,filters:["cursor_string","max_count"],handle:"slice",key:"TopicPivotsCarouselQuery_home_topics_navigator_slices",kind:"LinkedHandle",name:"home_topics_navigator_slices"},o],type:"User",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:"viewer_v2(s:23)"}]},params:{id:"3hVap2vZoYE-XviTGbAiRQ",metadata:{sliceInfoPath:["viewer","user_results","result","home_topics_navigator_slices","slice_info"]},name:"TopicPivotsCarouselQuery",operationKind:"query",text:null}};var i,s,l,r,c,o;n.hash="00b62fb55ad091187417013cbaa9e6a0",t.default=n}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/bundle.HomeTimeline.70ad52d5.js.map