(window.webpackJsonp=window.webpackJsonp||[]).push([[84,7,11,12,78],{"+/sI":function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return d}));var n=a("ERkP"),i=a.n(n),o=a("TGcR"),s=a("t62R"),r=a("a6qo"),l=a("rHpw");const c="animated_gif",d="video";class u extends i.a.PureComponent{render(){const{durationInMilliseconds:e,type:t}=this.props;let a;if(t===c||"vine"===t)a=t===c?i.a.createElement(s.b,{weight:"bold"},"GIF"):i.a.createElement(o.a,{style:h.icon});else if(t===d&&e){const t=Math.trunc(e/6e4),n=`0${Math.trunc(e%6e4/1e3)}`.slice(-2);a=i.a.createElement(s.b,{color:"white"},`${t}:${n}`)}return a?i.a.createElement(r.a,{align:"left"},a):null}}const h=l.a.create((e=>({icon:{color:e.colors.white}})));t.c=u},"/Imo":function(e,t,a){"use strict";var n=a("97Jx"),i=a.n(n),o=(a("kYxP"),a("ERkP")),s=a.n(o),r=a("/yvb"),l=a("k/Ka"),c=a("3XMw"),d=a.n(c),u=a("rHpw");const h=d.a.i5450beb,p=d.a.f7432494;class m extends s.a.Component{constructor(...e){super(...e),this._handlePress=e=>{const{onPress:t}=this.props;t&&t(e),this._fileInput&&this._fileInput.click()},this._handleChange=e=>{const{onChange:t}=this.props,a=e.target,n=a.files;n.length&&t&&t(n),a.value=""},this._handleFileInputButtonRef=e=>{this._fileInput=e}}render(){const{accept:e,disabled:t,multiple:a,onChange:n,testID:o,...c}=this.props,d=!(null!=e&&e.includes("video")||null!=e&&e.includes("gif"));return s.a.createElement(s.a.Fragment,null,s.a.createElement(r.a,i()({hoverLabel:e?{label:d?p:h}:void 0},c,{disabled:t,onPress:this._handlePress})),Object(l.a)("input",{accept:e,disabled:t,multiple:a,onChange:this._handleChange,ref:this._handleFileInputButtonRef,style:g.input,tabIndex:-1,testID:o,type:"file"}))}}m.defaultProps={disabled:!1,multiple:!1};const g=u.a.create((e=>({input:{width:"0.1px",height:"0.1px",opacity:0,overflow:"hidden",position:"absolute",zIndex:-1}})));t.a=m},"/Rsk":function(e,t,a){"use strict";a.d(t,"f",(function(){return p})),a.d(t,"e",(function(){return m})),a.d(t,"h",(function(){return g})),a.d(t,"g",(function(){return b})),a.d(t,"d",(function(){return _})),a.d(t,"c",(function(){return f})),a.d(t,"b",(function(){return w})),a.d(t,"a",(function(){return C})),a.d(t,"i",(function(){return T}));var n=a("oEOe"),i=a("kGix");var o=a("M6MT"),s=a("Ssj5"),r=a("qlwE"),l=a("a/ea"),c=a("474o");const d="placePicker",u=Object.freeze({REQUEST:"rweb/placePicker/SEARCH_REQUEST",SUCCESS:"rweb/placePicker/SEARCH_SUCCESS",FAILURE:"rweb/placePicker/SEARCH_FAILURE"}),h=Object.freeze({initial:{fetchStatus:i.a.NONE},lastSearch:{fetchStatus:i.a.NONE},lastSelectedPlace:void 0});const p=e=>e.placePicker.initial.results,m=e=>e.placePicker.initial.fetchStatus,g=e=>e.placePicker.lastSearch.results,b=e=>e.placePicker.lastSearch.fetchStatus,_=e=>((e,t)=>null!=t?t:null==e?void 0:e.places.find((t=>(null==e?void 0:e.autotag_place_id)===t.place.id)))(p(e),(e=>e.placePicker.lastSelectedPlace)(e)),y=(e,t)=>(a,i,{api:o})=>Object(n.b)(a,{request:o.Places.search,params:e})({actionTypes:u,context:"SEARCH_PLACES_ACTION",meta:{resultSet:t}}),f=e=>(t,a,{api:n})=>{const i=Object(l.d)(a());return t(y({query_type:c.a.tweet_compose_location,lat:null==i?void 0:i.coords.latitude,long:null==i?void 0:i.coords.longitude,hacc:null==i?void 0:i.coords.accuracy,search_term:e},c.c.lastSearch))},w=()=>(e,t,{api:a})=>{const n=m(t()),o=p(t());if(n===i.a.LOADING||o)return Promise.resolve();const s=Object(l.d)(t());return s?e(y({lat:s.coords.latitude,long:s.coords.longitude,hacc:s.coords.accuracy,query_type:c.a.tweet_compose_location,count:50},c.c.initial)):Promise.resolve()},C=()=>(e,t,{api:a})=>Object(r.l)(t())&&Object(l.c)(t())===o.b.granted?e(Object(l.b)()).then((()=>e(w()))).then((()=>_(t()))):Promise.resolve(),v="rweb/placePicker/UPDATE_LAST_SELECTED_PLACE",T=e=>({type:v,payload:e});s.a.register({[d]:function(e=h,t){switch(t.type){case u.REQUEST:{const{resultSet:a}=t.meta;return{...e,[a]:{fetchStatus:i.a.LOADING}}}case u.FAILURE:{const{resultSet:a}=t.meta;return{...e,[a]:{fetchStatus:i.a.FAILED}}}case u.SUCCESS:{const{meta:{resultSet:a},payload:n}=t;return{...e,[a]:{fetchStatus:i.a.LOADED,results:n}}}case v:{const{payload:a}=t;return{...e,lastSelectedPlace:null!=a?a:void 0}}default:return e}}})},"07FG":function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("cnVF");const i=e=>e===n.B},"0uGn":function(e,t,a){"use strict";a.d(t,"a",(function(){return ie}));a("kYxP");var n=a("ERkP"),i=a.n(n),o=a("xZGM"),s=a("GTeL"),r=a("3XMw"),l=a.n(r),c=a("rHpw");var d=c.a.create((e=>({formTextInput:{width:"100%",backgroundColor:e.colors.navigationBackground,paddingHorizontal:e.spaces.space12,paddingBottom:0,borderTopWidth:e.spaces.space1,borderTopStyle:"solid",borderTopColor:e.colors.borderColor},attachmentContainer:{width:"100%",height:"100%",flexGrow:1},root:{display:"flex",flexDirection:"column",flexWrap:"nowrap",height:"100%",flexGrow:1}}))),u="altTextInput",h="endEditingButton",p="altTextEducationSheetPrimaryAction",m=a("MWbm"),g=a("t62R"),b=a("p+r5");const _=l.a.feabf2a0,y=l.a.e36287c6,f=l.a.cf565d08;class w extends i.a.Component{constructor(...e){super(...e),this._renderInputHelperText=()=>{const{onShowEducation:e}=this.props;return e?i.a.createElement(g.b,{color:"link",onPress:e,withInteractiveStyling:!0},f):null},this._handleChange=e=>{const{currentMediaId:t,mediaItem:a,onChange:n}=this.props,{value:i}=e.target;a?n(i,a.id.toString()):t&&n(i,t)}}render(){const{autofocus:e,maxLength:t,mediaItem:a,orientedImage:n,value:o}=this.props;return i.a.createElement(m.a,{style:d.root},i.a.createElement(m.a,{style:d.attachmentContainer},i.a.createElement(s.a,{mediaItem:a,orientedImage:n}),i.a.createElement(b.a,{accessibilityLabel:_,autoFocus:e,helperText:this._renderInputHelperText(),label:y,maxLength:t,maxNumberOfLines:6,multiline:!0,name:"altTextInput",numberOfLines:2,onChange:this._handleChange,style:d.formTextInput,testID:u,value:o})))}}var C=a("rxPX");const v=(e,t)=>Object(o.D)(e,o.a);var T=Object(C.a)().propsFromState((()=>({showEducationOnMount:v}))).propsFromActions((()=>({addFlag:o.z}))).withAnalytics(),E=a("feu+");const x=l.a.ffe9ec3a,S=l.a.j063b261,I=l.a.e57144f0,k=l.a.f9f9210c;class R extends i.a.Component{constructor(...e){super(...e),this.state={showAltTextEducationSheet:!1},this._handleOpenEducationPrompt=()=>{const{analytics:e}=this.props;this.setState({showAltTextEducationSheet:!0}),e.scribe({component:"education",action:"click"})},this._handleCloseEducationPrompt=()=>{this.setState({showAltTextEducationSheet:!1})},this._handleEducationPromptPrimaryAction=()=>{const{analytics:e}=this.props;this._handleCloseEducationPrompt(),e.scribe({component:"education",element:"alt_text_button",action:"click"})},this._handleEducationPromptSecondaryAction=()=>{const{history:e}=this.props;e.goBack()}}componentDidMount(){const{addFlag:e,analytics:t,showEducationOnMount:a}=this.props;a&&(this.setState({showAltTextEducationSheet:!0}),t.scribe({component:"education",action:"open"}),e(o.a))}render(){const{mediaItem:e,onAltTextChange:t,orientedImage:a,value:n}=this.props,{showAltTextEducationSheet:o}=this.state,s=e&&e.id.toString();return i.a.createElement(m.a,{style:P.root},o?i.a.createElement(E.a,{actionLabel:I,headline:x,onAction:this._handleEducationPromptPrimaryAction,onClose:this._handleCloseEducationPrompt,onSecondaryAction:this._handleEducationPromptSecondaryAction,primaryButtonTestID:p,secondaryActionLabel:k,subtext:S}):null,i.a.createElement(w,{autofocus:!0,currentMediaId:s,maxLength:1e3,mediaItem:e,onChange:t,onShowEducation:this._handleOpenEducationPrompt,orientedImage:a,value:n}))}}const P=c.a.create((e=>({root:{flexGrow:1}})));var M=T(R),D=a("jHSc"),L=a("EeFI"),A=a("7JQg"),O=a("9Q4p"),F=a("PrL8"),B=a("k/OQ"),N=a("/yvb"),U=a("oQhu"),j=e=>{const t=new Map;return e.forEach((([e,a])=>{t.set(e,a)})),t},H=a("mN6z"),z=a("95Se"),W=a("7Mjr"),V=a("Mbn/"),G=a("zIWA"),K=a("1auM"),q=a("eYns");const $={section:"alt_text"},Q={section:"crop"},X={section:"sensitive_media"},Y=l.a.e070024a,J=l.a.i2209530,Z=l.a.i7d24b36,ee=l.a.f96a38a2,te=l.a.hac7c548,ae=l.a.e3dbfba3,ne=l.a.dd4a83a5,ie={crop:"crop",altText:"alt_text",sensitiveMedia:"sensitive_media"};class oe extends i.a.Component{constructor(e){super(e),this._cropper=i.a.createRef(),this._getMemoizedTabMetadata=Object(U.a)(((e,t)=>t&&e===ie.sensitiveMedia?{namespace:X,title:ne,renderer:this._renderSensitiveMediaTab}:e===ie.altText?{namespace:$,title:ae,renderer:this._renderAltTextTab}:{namespace:Q,title:te,renderer:this._renderCropTab})),this._renderTabContent=e=>{var t;const{location:a,sensitiveMediaTabEnabled:n}=this.props,o=this._getMemoizedTabMetadata(e,n),s=!(null!=(t=a.state)&&t.hideTabs),r=s?this._getTabLinks(e):[],l=o.renderer();return s&&r.length>1?i.a.createElement(i.a.Fragment,null,i.a.createElement(B.a,{accessibilityLabel:Y,links:r}),i.a.createElement(m.a,{style:F.a.segmentedControlChildren},l)):l},this._renderAltTextTab=()=>{const{history:e}=this.props,{currentMediaId:t,mediaMetadata:a,orientedImage:n}=this.state,o=this._getCurrentMediaItem(),s=a[t]&&a[t].altText;return i.a.createElement(M,{history:e,key:t,mediaItem:o,onAltTextChange:this._handleAltTextChange,orientedImage:n.get(t),value:s})},this._renderCropTab=()=>{const{cropData:e,currentMediaId:t}=this.state,a=this._getCurrentMediaItem();return i.a.createElement(L.a,{defaultCropData:e.get(t),key:t,media:a,ref:this._cropper,withAspectRatioOptions:!0})},this._renderSensitiveMediaTab=()=>{const{currentMediaId:e,mediaMetadata:t,orientedImage:a}=this.state,n=this._getCurrentMediaItem(),o=t[e]&&t[e].sensitiveMediaWarning;return i.a.createElement(O.a,{currentWarnings:o,key:e,mediaItem:n,onWarningChange:this._handleSensitiveWarningChange,orientedImage:a.get(e)})},this._renderAppBarRightControl=()=>{const{isProcessing:e}=this.state,t=this._getNextMediaIndex(1),a=this._getNextMediaIndex(-1);return i.a.createElement(m.a,{style:F.a.rightControl},this._hasMediaAtIndex(a)||this._hasMediaAtIndex(t)?i.a.createElement(m.a,{style:[F.a.rightControl,F.a.leftRightButtons]},i.a.createElement(N.a,{accessibilityLabel:ee,disabled:!this._hasMediaAtIndex(a),icon:i.a.createElement(z.a,null),onPress:this._handleClickToMediaAtIndex(a),size:"small",style:F.a.prevButton,type:"primaryOutlined"}),i.a.createElement(N.a,{accessibilityLabel:Z,disabled:!this._hasMediaAtIndex(t),icon:i.a.createElement(W.a,null),onPress:this._handleClickToMediaAtIndex(t),size:"small",type:"primaryOutlined"})):null,i.a.createElement(N.a,{disabled:e,onPress:this._handleEndEditingClick,size:"small",style:F.a.saveButton,testID:h,type:"primaryFilled"},J))},this._handleCancelEditingClick=e=>{this._scribeWithNamespace({action:"cancel"}),e()},this._handleClickTab=e=>{const{analytics:t}=this.props;this._handleSaveCropData(),this._scribeWithNamespace({element:e,action:"click"}),t.scribePageImpression()},this._getCurrentMediaItem=()=>{const{media:e}=this.props,{currentMediaId:t}=this.state;return e.find((e=>e.id===t))},this._getNextMediaIndex=e=>{const{media:t}=this.props,a=this._getCurrentMediaItem();return t.indexOf(a)+e},this._hasMediaAtIndex=e=>{const{media:t}=this.props;return e>=0&&e<t.length},this._handleClickToMediaAtIndex=e=>()=>{const{media:t}=this.props;if(this._hasMediaAtIndex(e)){this._handleSaveCropData();const a=t[e].id;this.setState({currentMediaId:a})}},this._saveMediaMetadata=()=>{const{media:e,setMediaMetadata:t}=this.props,{mediaMetadata:a}=this.state;e.forEach((e=>{t(e.id,a[e.id])}))},this._handleEndEditingClick=()=>{const{history:e}=this.props,t=this._cropper&&this._cropper.current,{cropData:a}=this.state;if(t||a.size){const{media:e,processMedia:n,updateMediaUpload:i}=this.props,{currentMediaId:o}=this.state;this.setState({isProcessing:!0});const s=t?j([...a,[o,t.getCropData()]]):a,r=e.map((e=>s.get(e.id)?(i({id:e.id,cropData:s.get(e.id)}),n(e.id)):Promise.resolve()));Promise.all(r).then((()=>{this._scribeWithNamespace({action:"done"})}))}this._saveMediaMetadata(),e.goBack()},this._handleAltTextChange=e=>{this.setState((t=>({mediaMetadata:{...t.mediaMetadata,[t.currentMediaId]:{...t.mediaMetadata[t.currentMediaId],altText:e}}})))},this._handleSensitiveWarningChange=(e,t)=>{this.setState((a=>{const n=a.mediaMetadata[a.currentMediaId]&&a.mediaMetadata[a.currentMediaId].sensitiveMediaWarning||new Set;return t?n.add(e):n.delete(e),{mediaMetadata:{...a.mediaMetadata,[a.currentMediaId]:{...a.mediaMetadata[a.currentMediaId],sensitiveMediaWarning:n}}}}))},this._handleSaveCropData=()=>{const e=this._cropper&&this._cropper.current;if(e){const{currentMediaId:t}=this.state,a=e.getCropData(),n=this._getCurrentMediaItem();if(n&&!Object(H.a)(a,this.state.cropData.get(t))&&(this.setState((e=>({orientedImage:j([...e.orientedImage,[t,null]])}))),n.originalMediaFile&&n.originalMediaFile instanceof K.a)){const{cropData:e}=n;Object(q.b)(n.originalMediaFile,{cropData:a||e}).then((e=>new K.a(e).withDimensionsAndOrientation().then((e=>{this.setState((n=>({orientedImage:j([...n.orientedImage,[t,e]]),cropData:j([...n.cropData,[t,a]])})))})))).catch((()=>{this.setState((e=>({orientedImage:j([...e.orientedImage,[t,void 0]])})))}))}this.setState((e=>({cropData:j([...e.cropData,[t,a]])})))}},this._scribeWithNamespace=e=>{const{analytics:t,sensitiveMediaTabEnabled:a}=this.props,n=this._getCurrentTab(),i=this._getMemoizedTabMetadata(n,a);t.scribe({...i.namespace,...e})},this._getMediaMetadata=e=>{const t={};return e.forEach((e=>t[e.id]=e.mediaMetadata)),t};const{initialMediaId:t,media:a}=e,n=this._getMediaMetadata(a);this.state={cropData:new Map,isProcessing:!1,mediaMetadata:n,currentMediaId:t||-1,orientedImage:new Map}}render(){const{history:e,sensitiveMediaTabEnabled:t}=this.props,a=this._getCurrentTab(),n=this._getMemoizedTabMetadata(a,t);return i.a.createElement(A.c,{namespace:n.namespace},i.a.createElement(D.b,{backButtonType:"back",containerStyle:F.a.root,documentTitle:n.title,history:e,onBackClick:this._handleCancelEditingClick,rightControl:this._renderAppBarRightControl(),title:n.title},this._renderTabContent(a)))}_getCurrentTab(){var e;const{location:t,sensitiveMediaTabEnabled:a}=this.props,n=null==(e=t.state)?void 0:e.tab;return a&&n===ie.sensitiveMedia?ie.sensitiveMedia:n===ie.altText?ie.altText:ie.crop}_getTabLinks(e){var t;const{analytics:a,location:n,sensitiveMediaTabEnabled:o}=this.props,s=this._getCurrentMediaItem(),r=[];return null!=s&&null!=(t=s.originalMediaFile)&&t.isImage&&r.push({to:{...n,state:{...n.state,tab:ie.crop}},label:i.a.createElement(V.a,null),key:ie.crop,accessibilityLabel:te,isActive:()=>e===ie.crop,onClick:()=>a.scribePageImpression()}),r.push({to:{...n,state:{...n.state,tab:ie.altText}},label:i.a.createElement(g.b,{weight:"bold"},"ALT"),key:ie.altText,accessibilityLabel:ae,isActive:()=>e===ie.altText,onClick:()=>this._handleClickTab("alt_text_button")}),o&&r.push({to:{...n,state:{...n.state,tab:ie.sensitiveMedia}},label:i.a.createElement(G.a,null),key:ie.sensitiveMedia,accessibilityLabel:ne,isActive:()=>e===ie.sensitiveMedia,onClick:()=>this._handleClickTab("sensitive_media_tab")}),r}}t.b=oe},"21U8":function(e,t,a){"use strict";var n=a("ERkP"),i=a.n(n),o=a("/yvb"),s=a("3XMw"),r=a.n(s),l=a("3rX5"),c=a("rHpw"),d=a("MWbm");const u=c.a.create((e=>({mask:{backgroundColor:"transparent",borderWidth:e.spaces.space4,borderColor:e.colors.primary,boxShadow:`0 0 0 9999px ${e.colors.activeFaintGray}`},circle:{borderRadius:e.borderRadii.infinite}})));var h=({circle:e,height:t,width:a})=>i.a.createElement(d.a,{pointerEvents:"none",style:[u.mask,{width:a,height:t},e&&u.circle]}),p=a("ZvMt"),m=a("97Jx"),g=a.n(m),b=a("CHgo"),_=a("7ep7");class y extends i.a.Component{constructor(e){super(e),this._previousTouchDistance=0,this._previousPositionX=0,this._previousPositionY=0,this._centerPosition={x:0,y:0},this._panResponder={},this._setRef=e=>{const{onPanEnd:t,onPanMove:a,onPinchMove:n,onWheel:i}=this.props;if(e){(a||t||n)&&(this._removeTouchMoveToScrollListener=Object(b.a)(e,this._preventDefaultEvent,!1)),i&&(this._removeScrollToScaleListener=Object(b.b)(e,this._preventDefaultEvent,!1));const o=e.getBoundingClientRect();this._centerPosition={x:o.width/2+o.left,y:o.height/2+o.top}}},this._preventDefaultEvent=e=>{e.preventDefault()},this._handlePanResponderMove=(e,t)=>{const{onPanMove:a,onPinchMove:n}=this.props,i=e.nativeEvent.touches;if(2===t.numberActiveTouches){if(n){const e=(o=i[0],s=i[1],Math.sqrt(Math.pow(o.pageY-s.pageY,2)+Math.pow(o.pageX-s.pageX,2))),{pageX:t,pageY:a}=((e,t)=>({pageX:Math.min(t.pageX,e.pageX)+Math.abs(t.pageX-e.pageX)/2,pageY:Math.min(t.pageY,e.pageY)+Math.abs(t.pageY-e.pageY)/2}))(i[0],i[1]),r=this._previousPositionX?t-this._previousPositionX:0,l=this._previousPositionY?a-this._previousPositionY:0,c=this._previousTouchDistance?e-this._previousTouchDistance:0;this._previousPositionX=t,this._previousPositionY=a,this._previousTouchDistance=e;const{x:d,y:u}=this._centerPosition;n(c,d-t,u-a,r,l)}}else a&&a(t.dx,t.dy);var o,s;document.addEventListener("selectstart",this._preventDefaultEvent,!1)},this._handlePanResponderEnd=(e,t)=>{this.props.onPanEnd&&this.props.onPanEnd(t.dx,t.dy),this.props.onPinchMove&&(this._previousTouchDistance=0),this._previousPositionX=0,this._previousPositionY=0,this._removeSelectStartListener()},this._handleWheel=e=>{const{clientX:t,clientY:a,deltaX:n,deltaY:i}=e,{x:o,y:s}=this._centerPosition,r=o-t,l=s-a;this.props.onWheel&&this.props.onWheel(n,i,r,l)},this._panResponder=_.a.create({onStartShouldSetPanResponder:()=>!0,onMoveShouldSetPanResponder:()=>!0,onPanResponderMove:this._handlePanResponderMove,onPanResponderRelease:this._handlePanResponderEnd,onPanResponderTerminate:this._handlePanResponderEnd}),this._removeSelectStartListener=()=>document.removeEventListener("selectstart",this._preventDefaultEvent,!1)}render(){const{children:e,onPanEnd:t,onPanMove:a,onPinchMove:n,onWheel:o,...s}=this.props;return i.a.createElement(d.a,g()({},s,{onWheel:this._handleWheel,ref:this._setRef},this._panResponder.panHandlers),this.props.children)}componentWillUnmount(){this._removeTouchMoveToScrollListener&&this._removeTouchMoveToScrollListener(),this._removeScrollToScaleListener&&this._removeScrollToScaleListener(),this._removeSelectStartListener()}}var f=y,w=a("9RkS"),C=a("rOXj"),v=a("aITJ"),T=a("Lsrn"),E=a("k/Ka");const x=(e={})=>Object(E.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[T.a.root,e.style],viewBox:"0 0 24 24"},i.a.createElement("g",null,i.a.createElement("path",{d:"M19.75 19.944H4.25c-1.24 0-2.25-1.01-2.25-2.25V6.306c0-1.24 1.01-2.25 2.25-2.25h15.5c1.24 0 2.25 1.01 2.25 2.25v11.39c0 1.24-1.01 2.248-2.25 2.248zM4.25 5.556c-.413 0-.75.337-.75.75v11.39c0 .412.337.75.75.75h15.5c.413 0 .75-.338.75-.75V6.305c0-.413-.337-.75-.75-.75H4.25z"})));x.metadata={width:24,height:24};var S=x;const I=(e={})=>Object(E.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[T.a.root,e.style],viewBox:"0 0 24 24"},i.a.createElement("g",null,i.a.createElement("path",{d:"M19.75 19.89H4.25C3.01 19.89 2 18.88 2 17.64v-7.28c0-1.24 1.01-2.25 2.25-2.25h15.5c1.24 0 2.25 1.01 2.25 2.25v7.277c0 1.24-1.01 2.25-2.25 2.25zM4.25 9.61c-.413 0-.75.338-.75.75v7.278c0 .413.337.75.75.75h15.5c.413 0 .75-.337.75-.75V10.36c0-.412-.337-.75-.75-.75H4.25z"})));I.metadata={width:24,height:24};var k=I;const R=(e={})=>Object(E.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[T.a.root,e.style],viewBox:"0 0 24 24"},i.a.createElement("g",null,i.a.createElement("path",{d:"M19.75 22H4.25C3.01 22 2 20.99 2 19.75V4.25C2 3.01 3.01 2 4.25 2h15.5C20.99 2 22 3.01 22 4.25v15.5c0 1.24-1.01 2.25-2.25 2.25zM4.25 3.5c-.413 0-.75.337-.75.75v15.5c0 .413.337.75.75.75h15.5c.413 0 .75-.337.75-.75V4.25c0-.413-.337-.75-.75-.75H4.25z"})));R.metadata={width:24,height:24};var P=R;const M=(e={})=>Object(E.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[T.a.root,e.style],viewBox:"0 0 24 24"},i.a.createElement("g",null,i.a.createElement("path",{d:"M21.53 20.47l-3.66-3.66C19.195 15.24 20 13.214 20 11c0-4.97-4.03-9-9-9s-9 4.03-9 9 4.03 9 9 9c2.215 0 4.24-.804 5.808-2.13l3.66 3.66c.147.146.34.22.53.22s.385-.073.53-.22c.295-.293.295-.767.002-1.06zM3.5 11c0-4.135 3.365-7.5 7.5-7.5s7.5 3.365 7.5 7.5-3.365 7.5-7.5 7.5-7.5-3.365-7.5-7.5z"}),i.a.createElement("path",{d:"M15.21 11c0 .41-.34.75-.75.75h-2.71v2.71c0 .41-.34.75-.75.75s-.75-.34-.75-.75v-2.71H7.54c-.41 0-.75-.34-.75-.75s.34-.75.75-.75h2.71V7.54c0-.41.34-.75.75-.75s.75.34.75.75v2.71h2.71c.41 0 .75.34.75.75z"})));M.metadata={width:24,height:24};var D=M;const L=(e={})=>Object(E.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[T.a.root,e.style],viewBox:"0 0 24 24"},i.a.createElement("g",null,i.a.createElement("path",{d:"M21.53 20.47l-3.66-3.66C19.195 15.24 20 13.214 20 11c0-4.97-4.03-9-9-9s-9 4.03-9 9 4.03 9 9 9c2.215 0 4.24-.804 5.808-2.13l3.66 3.66c.147.146.34.22.53.22s.385-.073.53-.22c.295-.293.295-.767.002-1.06zM3.5 11c0-4.135 3.365-7.5 7.5-7.5s7.5 3.365 7.5 7.5-3.365 7.5-7.5 7.5-7.5-3.365-7.5-7.5z"}),i.a.createElement("path",{d:"M14.46 11.75H7.54c-.414 0-.75-.336-.75-.75s.336-.75.75-.75h6.92c.415 0 .75.336.75.75s-.335.75-.75.75z"})));L.metadata={width:24,height:24};var A=L;const O=r.a.d85bc1b8,F=r.a.f596ace8,B=r.a.df031fca,N=r.a.b40332c5,U=r.a.e547b368,j=r.a.f7571204,H=r.a.e6e16811,z=Math.log2||function(e){return Math.log(e)*Math.LOG2E};class W extends i.a.Component{constructor(e){var t;super(e),this._previousLeft=0,this._previousTop=0,this._panStyles={top:0,left:0},this._shouldShowZoomControl=()=>(!v.b.isMobileOS()||!C.a.isTouchSupported())&&this.props.withZoomControl,this._renderControls=()=>{const{image:e,withAspectRatioOptions:t}=this.props,{aspectRatio:a}=this.state,n=e.width/e.height,s=this._shouldShowZoomControl();return t||s?i.a.createElement(d.a,{style:V.controlsContainer},t?i.a.createElement(d.a,{style:V.ratioContainer},i.a.createElement(o.a,{accessibilityLabel:F,borderColor:"transparent",color:a===n?"primary":"gray700",hoverLabel:{label:U},icon:i.a.createElement(S,null),onPress:this._setAspectRatio(n),size:"medium"}),i.a.createElement(o.a,{accessibilityLabel:B,borderColor:"transparent",color:a===16/9?"primary":"gray700",hoverLabel:{label:j},icon:i.a.createElement(k,null),onPress:this._setAspectRatio(16/9),size:"medium"}),i.a.createElement(o.a,{accessibilityLabel:N,borderColor:"transparent",color:1===a?"primary":"gray700",hoverLabel:{label:H},icon:i.a.createElement(P,null),onPress:this._setAspectRatio(1),size:"medium"})):null,s?i.a.createElement(d.a,{style:V.zoomContainer},i.a.createElement(w.a,{accessibilityLabel:O,max:this._maxScale,maxIcon:i.a.createElement(D,{style:V.icon}),min:0,minIcon:i.a.createElement(A,{style:V.icon}),onChange:this._handleScaleChange,step:"any",value:this.state.imageScale})):null):null},this._setImageRef=e=>{this._imageRef=e},this._handleScaleChange=e=>{this.setState({imageScale:e})},this._getImageDimensions=()=>{const{imageScale:e}=this.state,t=this.props.image.width/this.props.image.height,{height:a,width:n}=this._getMaskDimensions(),{height:i,width:o}=p.a.getCoverDimensions({width:n,height:a},t);return{width:o*Math.pow(2,e),height:i*Math.pow(2,e)}},this._getMaskDimensions=()=>{const{aspectRatio:e,containerHeight:t,containerWidth:a}=this.state,{height:n,width:i}=p.a.getContainDimensions({width:a-50,height:t-50},e);return{width:i,height:n}},this._handleLayout=e=>{const{height:t,width:a}=e.nativeEvent.layout;this.state.containerHeight||this.state.containerWidth?this.setState({containerHeight:t,containerWidth:a}):(this.setState({containerHeight:t,containerWidth:a}),this._setDefaultCropData())},this._setDefaultCropData=()=>{const{defaultCropData:e,image:t}=this.props;if(!e)return;const{width:a}=this._getImageDimensions(),{width:n}=this._getMaskDimensions(),i=a/t.width,o=z(n/(e.width*i));this.setState({imageScale:o});const{left:s,top:r}=this._getUnscaledCropData();this._panStyles.top=r-e.top*i*Math.pow(2,o),this._previousTop=this._panStyles.top,this._panStyles.left=s-e.left*i*Math.pow(2,o),this._previousLeft=this._panStyles.left,this._updateNativeStyles()},this._handleWheel=(e,t,a,n)=>{const i=-1*t/500;this.setState((({imageScale:e})=>{const t=Math.min(this._maxScale,Math.max(e+i,0));return this._panStyles.left+=a*(t-e),this._panStyles.top+=n*(t-e),this._previousLeft=this._panStyles.left,this._previousTop=this._panStyles.top,{imageScale:t}}))},this._handlePanMove=(e,t)=>{this._panStyles.left=this._previousLeft+e,this._panStyles.top=this._previousTop+t,this._updateNativeStyles(),this._adjustToInBounds()},this._handlePanEnd=(e,t)=>{this._previousLeft=this._panStyles.left,this._previousTop=this._panStyles.top},this._handlePinchMove=(e,t,a,n,i)=>{const o=e/200;this.setState((({imageScale:e})=>{const s=Math.min(this._maxScale,Math.max(e+o,0));return this._panStyles.left+=t*(s-e)+n,this._panStyles.top+=a*(s-e)+i,this._previousLeft=this._panStyles.left,this._previousTop=this._panStyles.top,{imageScale:s}}))},this._adjustToInBounds=()=>{const e=this._getUnscaledCropData(),t=this._getImageDimensions(),a=e.left,n=e.top,i=e.left+e.width-t.width,o=e.top+e.height-t.height;let s=!1;a<0&&(s=!0,this._panStyles.left+=a,this._previousLeft+=a),n<0&&(s=!0,this._panStyles.top+=n,this._previousTop+=n),i>0&&(s=!0,this._panStyles.left+=i,this._previousLeft+=i),o>0&&(s=!0,this._panStyles.top+=o,this._previousTop+=o),s&&this._updateNativeStyles()},this._updateNativeStyles=()=>{const{left:e,top:t}=this._panStyles;this._imageRef&&this._imageRef.setNativeProps({style:{transform:[{translate3d:`${e}px, ${t}px, 0`}]}})},this._getUnscaledCropData=()=>{const{height:e,width:t}=this._getImageDimensions(),{height:a,width:n}=this._getMaskDimensions(),{left:i,top:o}=this._panStyles;return{top:(e-a)/2-o,left:(t-n)/2-i,width:n,height:a}},this._setAspectRatio=e=>()=>{this.setState({aspectRatio:e})},this.state={aspectRatio:e.defaultAspectRatio||e.image.width/e.image.height,imageScale:0,containerHeight:0,containerWidth:0},this._maxScale=(t=e.image,Math.max(Math.min(z(t.width/150),z(t.height/150),3),.5))}render(){const{circle:e,image:t,withZoomControl:a}=this.props,{height:n,width:o}=this._getImageDimensions(),{height:s,width:r}=this._getMaskDimensions(),c=this.state.containerWidth&&this.state.containerHeight;return i.a.createElement(d.a,{style:V.container},i.a.createElement(f,{onLayout:this._handleLayout,onPanEnd:this._handlePanEnd,onPanMove:this._handlePanMove,onPinchMove:a?this._handlePinchMove:void 0,onWheel:a?this._handleWheel:void 0,style:V.root},c?i.a.createElement(i.a.Fragment,null,i.a.createElement(l.a,{ref:this._setImageRef,source:{uri:t.src,width:o,height:n},style:V.image}),i.a.createElement(h,{circle:e,height:s,width:r})):null),c?this._renderControls():null)}componentDidUpdate(e,t){this._updateNativeStyles(),this._adjustToInBounds()}getCropData(){const{width:e}=this._getImageDimensions(),t=this.props.image.width/e,a=this._getUnscaledCropData();return{aspectRatio:this.state.aspectRatio,top:Math.round(t*a.top),left:Math.round(t*a.left),width:Math.round(t*a.width),height:Math.round(t*a.height)}}}W.defaultProps={circle:!1,withZoomControl:!0};const V=c.a.create((e=>({container:{flexGrow:1,flexShrink:1},controlsContainer:{backgroundColor:e.colors.navigationBackground,minHeight:e.spaces.space20,flexDirection:"row",paddingVertical:e.spaces.space4,alignSelf:"stretch",justifyContent:"center",alignItems:"center"},ratioContainer:{flexBasis:0,flexGrow:1,flexShrink:0,flexDirection:"row",justifyContent:"space-around"},zoomContainer:{flexBasis:0,flexGrow:1,flexShrink:1,justifyContent:"center",height:e.spaces.space40,paddingHorizontal:e.spaces.space20,maxWidth:400},root:{flexGrow:1,flexShrink:1,overflow:"hidden",justifyContent:"center",alignItems:"center",cursor:"move"},image:{position:"absolute"},icon:{color:e.colors.gray700}})));t.a=W},"2WeA":function(e,t,a){"use strict";a.r(t);a("ERkP");var n=a("pcjM"),i=a("ORQL");t.default=Object(i.a)(n.default)},"2qZs":function(e,t,a){"use strict";var n=a("ERkP"),i=a.n(n),o=a("Lsrn"),s=a("k/Ka");const r=(e={})=>Object(s.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[o.a.root,e.style],viewBox:"0 0 24 24"},i.a.createElement("g",null,i.a.createElement("path",{d:"M2.264 22.983c-.322 0-.638-.126-.88-.368-.374-.374-.473-.926-.25-1.405L2.8 17.58c-1.017-1.7-1.55-3.62-1.55-5.58C1.25 6.072 6.072 1.25 12 1.25S22.75 6.072 22.75 12 17.928 22.75 12 22.75c-1.957 0-3.876-.533-5.55-1.54l-3.66 1.657c-.17.078-.35.116-.526.116zm4.158-3.286c.278 0 .558.077.807.23 1.434.864 3.085 1.323 4.77 1.323 5.1 0 9.25-4.15 9.25-9.25S17.1 2.75 12 2.75 2.75 6.9 2.75 12c0 1.688.458 3.338 1.326 4.774.266.44.298.977.086 1.434l-1.384 3.014 3.016-1.386c.2-.093.413-.14.628-.14z"}),i.a.createElement("path",{d:"M12 18.25c-3.446 0-6.25-2.804-6.25-6.25S8.554 5.75 12 5.75s6.25 2.804 6.25 6.25-2.804 6.25-6.25 6.25zm0-11c-2.62 0-4.75 2.13-4.75 4.75s2.13 4.75 4.75 4.75 4.75-2.13 4.75-4.75S14.62 7.25 12 7.25z"}),i.a.createElement("path",{d:"M14.5 12.75c-.414 0-.75-.336-.75-.75 0-.965-.785-1.75-1.75-1.75-.414 0-.75-.336-.75-.75s.336-.75.75-.75c1.792 0 3.25 1.458 3.25 3.25 0 .414-.336.75-.75.75z"})));r.metadata={width:24,height:24},t.a=r},"45mF":function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a("1YZw"),i=a("pXBW"),o=a("3XMw"),s=a.n(o),r=a("SrIh");const l=s.a.a5d4fda0,c=(e=l,t=!0)=>({customErrorHandler:a=>{const{context:o}=a;return!a instanceof i.a&&(a.message=`Strato error occurred in ${o.id}: ${o.action}`),Object(r.a)(a,{extra:{context:o,isStrato:!0}}),t?Object(n.b)({text:e}):[]}})},"474o":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return o}));const n=Object.freeze({profile_location:"profile_location",tweet_compose_location:"tweet_compose_location"}),i=Object.freeze({foursquare:"foursquare",yelp:"yelp"}),o=Object.freeze({initial:"initial",lastSearch:"lastSearch"})},"4bHO":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n=(e,t)=>{switch(e.type){case"user":return"users"===t?`@${e.data.screen_name} `:`@${e.data.name} `;case"hashtag":case"topic":case"event":return`${e.data.topic} `;case"dm_conversation":return`${e.data.name} `;case"no_result":return`${e.data.text} `;default:return""}}},"5emT":function(e,t,a){"use strict";var n=a("ERkP"),i=a.n(n),o=a("Lsrn"),s=a("k/Ka");const r=(e={})=>Object(s.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[o.a.root,e.style],viewBox:"0 0 24 24"},i.a.createElement("g",null,i.a.createElement("path",{d:"M14.548 11.634c-1.207 0-2.188-.98-2.188-2.188 0-.664.302-1.25.77-1.653-.363-.097-.736-.165-1.13-.165-2.416 0-4.375 1.96-4.375 4.376S9.585 16.38 12 16.38c2.418 0 4.377-1.96 4.377-4.376 0-.4-.07-.78-.17-1.146-.402.47-.992.776-1.66.776z"}),i.a.createElement("path",{d:"M12 19.79c-7.228 0-10.12-6.724-10.24-7.01-.254-.466-.254-1.105.035-1.642C1.88 10.923 4.772 4.2 12 4.2s10.12 6.723 10.24 7.01c.254.465.254 1.104-.035 1.64-.085.216-2.977 6.94-10.205 6.94zm0-14c-6.154 0-8.668 5.787-8.772 6.033-.068.135-.068.208-.033.273.137.316 2.65 6.104 8.805 6.104 6.18 0 8.747-5.973 8.772-6.033.07-.136.07-.21.034-.274-.138-.316-2.652-6.103-8.806-6.103z"})));r.metadata={width:24,height:24},t.a=r},"6XNv":function(e,t,a){"use strict";a("kYxP");var n=a("ERkP"),i=a.n(n),o=a("t62R"),s=a("piX5"),r=a("4r2z"),l=a("FG+G"),c=a("rHpw"),d=a("k/Ka"),u=a("shC7"),h=a("MWbm");const p=i.a.forwardRef(((e,t)=>Object(d.a)("select",{...e,ref:t}))),m=e=>Object(d.a)("option",e);let g=1;class b extends i.a.PureComponent{constructor(e){super(e),this._selectRef=i.a.createRef(),this.state={isFocused:!1},this._handleChange=e=>{const{onChange:t,withEmptyOption:a}=this.props,{selectedIndex:n,value:i}=e.target;t&&t(i,n-(a?1:0))},this._handleBlur=e=>{const{onBlur:t}=this.props;this.setState({isFocused:!1}),t&&t()},this._handleFocus=e=>{const{onFocus:t}=this.props;this.setState({isFocused:!0}),t&&t()},this._id=`SELECTOR_${g}`,this._errorID=`${this._id}_ERROR`,this._helperID=`${this._id}_HELP`,this._labelID=`${this._id}_LABEL`,g+=1}componentDidMount(){this.props.autofocus&&this._selectRef&&this._selectRef.current&&this._selectRef.current.focus()}render(){const{accessibilityDescribedBy:e,disabled:t,errorText:a,hasError:n,helperText:d,options:g,style:b,testID:y,value:f,withEmptyOption:w}=this.props,{isFocused:C}=this.state,v=o.b.getLanguage(),T="ja"===v?c.a.theme.fontFamilies.japan:u.a.getConstants().isRTL||r.a.isLocaleRTL(v)?c.a.theme.fontFamilies.rtl:c.a.theme.fontFamilies.normal,E=void 0===n?!!a:n,x=new Set;a&&x.add(this._errorID),e&&x.add(e),d&&x.add(this._helperID);const S=x.size?[...x].join(" "):void 0;return i.a.createElement(i.a.Fragment,null,i.a.createElement(h.a,{style:[s.a.border,_.container,t&&s.a.disabled,C&&s.a.focusedBorderValid,E&&s.a.invalidBorderColor,C&&E&&s.a.focusedBorderInvalid,b]},this._renderLabel(),i.a.createElement(p,{accessibilityDescribedBy:S,accessibilityInvalid:E,accessibilityLabelledBy:this._labelID,disabled:t,nativeID:this._id,onBlur:this._handleBlur,onChange:this._handleChange,onFocus:this._handleFocus,ref:this._selectRef,style:[_.select,{fontFamily:T},t&&s.a.disabled],testID:y||"",value:f},w?i.a.createElement(m,{disabled:!0,style:_.option,value:""}):null,g.map((e=>{const{disabled:t,label:a,value:n}=e;return i.a.createElement(m,{disabled:t,key:`${a}-${n}`,style:_.option,value:n},a)}))),i.a.createElement(l.a,{style:[_.dropdownCaret,C&&s.a.validColor,(n||a)&&s.a.invalidColor]})),d?this._renderHelperText():null,E&&a?this._renderErrorText():null)}_renderLabel(){const{errorText:e,hasError:t,label:a}=this.props,{isFocused:n}=this.state;return i.a.createElement(o.b,{accessibilityRole:"label",color:t||e?"red500":n?"primary":"gray700",nativeID:this._labelID,style:_.label},a)}_renderHelperText(){return i.a.createElement(h.a,{accessibilityLiveRegion:"polite"},i.a.createElement(o.b,{color:"gray700",nativeID:this._helperID,style:_.helperText},this.props.helperText))}_renderErrorText(){return i.a.createElement(h.a,{accessibilityLiveRegion:"polite"},i.a.createElement(o.b,{color:"red500",nativeID:this._errorID,style:_.helperText},this.props.errorText))}}b.defaultProps={disabled:!1,autofocus:!1,withEmptyOption:!1},b.propTypes={};const _=c.a.create((e=>({container:{backgroundColor:e.colors.cellBackground},dropdownCaret:{color:e.colors.gray700,height:"1.5em",pointerEvents:"none",position:"absolute",marginTop:"-0.75em",top:"50%",right:e.spaces.space12},label:{position:"absolute",fontSize:e.fontSizes.subtext2,paddingHorizontal:e.spaces.space8,paddingTop:e.spaces.space8,pointerEvents:"none",lineHeight:e.lineHeights.subtext2},option:{backgroundColor:e.colors.navigationBackground},select:{appearance:"none",backgroundColor:"transparent",borderRadius:e.borderRadii.none,borderWidth:e.borderWidths.none,color:e.colors.text,cursor:"pointer",fontSize:e.fontSizes.headline2,lineHeight:e.lineHeights.headline2,margin:0,marginTop:e.spaces.space16,outlineStyle:"none",padding:0,paddingTop:e.spaces.space12,paddingBottom:e.spaces.space8,paddingHorizontal:e.spaces.space8},helperText:{fontSize:e.fontSizes.subtext2,paddingHorizontal:e.spaces.space8,paddingTop:e.spaces.space2}})));t.a=b},"6vad":function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a("ERkP"),i=a.n(n),o=a("t62R"),s=a("EHV7"),r=a("rHpw");const l=r.a.create((e=>({icon:{color:e.colors.primary,height:e.fontSizes.title4,paddingRight:e.spaces.space12,width:e.fontSizes.title4}})));var c=a("7Mjr"),d=a("I4+6"),u=a("cm6r"),h=a("MWbm");const p=Object.freeze({TopicFilled:"TOPIC_FILLED"});const m=r.a.create((e=>({root:{justifyContent:"space-between",paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical},mainContent:{flexDirection:"row"},subtext:{alignSelf:"flex-start"},withSubtext:{alignSelf:"center"},icon:{alignSelf:"flex-start",height:e.spaces.space20,justifyContent:"center"},iconArrow:{color:e.colors.text},rightControlGroup:{flexDirection:"row",justifyContent:"flex-end",flexGrow:1,alignSelf:"center"}})));t.b=function({icon:e,landingUrl:t,nativeID:a,rightControl:n,style:g,subtext:b,testID:_,text:y}){const f=(e=>{switch(e){case p.TopicFilled:return i.a.createElement(s.a,{style:l.icon});default:return null}})(e),w=b?null:m.withSubtext,C=d.a.generate({backgroundColor:r.a.theme.colors.gray0,color:r.a.theme.colors.cellBackground,customFocusBackgroundColor:r.a.theme.colors.gray0,customHoverBackgroundColor:r.a.theme.colors.gray0,customPressedBackgroundColor:r.a.theme.colors.gray0});return i.a.createElement(u.a,{interactiveStyles:t?C:null,link:null==t?void 0:t.url,nativeID:a,style:[m.root,g],testID:_},i.a.createElement(h.a,{accessibilityLevel:2,accessibilityRole:"heading",style:m.mainContent},i.a.createElement(h.a,{style:m.icon},f),i.a.createElement(o.b,{numberOfLines:3,size:"headline1",style:w,weight:"heavy",withHashflags:!0},y),i.a.createElement(h.a,{style:m.rightControlGroup},t?i.a.createElement(h.a,{style:w},i.a.createElement(c.a,{style:m.iconArrow})):null,n?i.a.createElement(h.a,null,n):null)),b?i.a.createElement(o.b,{color:"gray700",numberOfLines:2,size:"subtext2",style:m.subtext,withHashflags:!0},b):null)}},"7myi":function(e,t,a){"use strict";a("kYxP"),a("849X");var n=a("ERkP"),i=a.n(n),o=a("oEoC"),s=a("2dXj"),r=a("4bHO"),l=a("dzqK"),c=a("GZwR");class d extends i.a.Component{constructor(...e){super(...e),this._genericWrapperRef=i.a.createRef(),this.state={queryContext:void 0,canShowTypeahead:!1},this.render=()=>{const{children:e,contextText:t,isInline:a,isInlineReply:n,onTypeaheadStateChange:o,source:r}=this.props,{canShowTypeahead:l,queryContext:d}=this.state,u=l&&d?{word:d.word,resultType:d.resultType}:void 0;return i.a.createElement(s.a,{contextText:t,isInline:a,isInlineReply:n,onDismiss:this._handleDismiss,onSelectItem:this._handleSelectItem,onTypeaheadStateChange:o,query:u,ref:this._genericWrapperRef,source:r||c.d.Compose},e(this._handleInputChange))},this._handleSelectItem=e=>{const{onTextUpdated:t}=this.props,{queryContext:a}=this.state;if(a){const n=Object(r.a)(e,a.resultType),{newCursor:i,newTweetText:o}=this._replaceToken(n,a);t({target:{value:o}}),this._updateDOMTextArea(i,o)}this._setQueryContext(void 0)},this._updateDOMTextArea=(e,t)=>{this._textAreaRef&&(this._textAreaRef.value=t,this._textAreaRef.selectionStart=e,this._textAreaRef.selectionEnd=e,this._textAreaRef.focus())},this._handleInputChange=e=>{if(Object(l.a)(e))throw new Error("PlainTextTypeaheadComposeWrapper cannot handle rich text input changes");const t=e&&(e.currentTarget||e.target),{queryContext:a}=this.state;this._textAreaRef=t;const n=a&&a.word,i=t.value,{end:s,start:r,word:c}=o.c(t.selectionStart,i),d=o.e(c||"","compose");if((null==d?void 0:d.q)!==n)if(this._genericWrapperRef.current&&this._genericWrapperRef.current.resetSelectedItem(),-1===r)this._setQueryContext(void 0);else if(d){const{q:e,result_type:a}=d;this._setQueryContext({word:e,resultType:a,fullText:t.value,startIndex:r,endIndex:s})}else this._setQueryContext(void 0)},this._setQueryContext=e=>this.setState({queryContext:e,canShowTypeahead:!!e}),this._handleDismiss=()=>this.setState({canShowTypeahead:!1})}_replaceToken(e,t){const{endIndex:a,fullText:n,startIndex:i}=t,o=n.slice(0,i);return{newTweetText:o+e+n.slice(a),newCursor:o.length+e.length}}}t.a=d},"8A5z":function(e,t,a){"use strict";var n=a("ERkP"),i=a.n(n),o=a("Lsrn"),s=a("k/Ka");const r=(e={})=>Object(s.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[o.a.root,e.style],viewBox:"0 0 24 24"},i.a.createElement("g",null,i.a.createElement("path",{d:"M9.008 15.205c-1.766 0-3.187-1.35-3.187-3.196v-.02c0-1.8 1.388-3.214 3.26-3.214 1.26 0 2.075.53 2.62 1.29L10.494 11c-.306-.42-.798-.695-1.357-.695-.93 0-1.684.754-1.684 1.684s.755 1.684 1.685 1.684c.578 0 1.087-.292 1.39-.735l1.22.87c-.583.802-1.368 1.394-2.737 1.394h-.002zm6.582 0c-1.764 0-3.185-1.35-3.185-3.196v-.02c0-1.8 1.386-3.214 3.258-3.214 1.262 0 2.075.53 2.622 1.29l-1.21.935c-.305-.42-.797-.694-1.356-.694-.93 0-1.685.754-1.685 1.684s.754 1.685 1.684 1.685c.577 0 1.086-.292 1.39-.735l1.22.87c-.584.803-1.37 1.395-2.738 1.395z"}),i.a.createElement("path",{d:"M20.5 2.02h-17c-1.24 0-2.25 1.007-2.25 2.247v15.507c0 1.238 1.01 2.246 2.25 2.246h17c1.24 0 2.25-1.008 2.25-2.246V4.267c0-1.24-1.01-2.247-2.25-2.247zm.75 17.754c0 .41-.336.746-.75.746h-17c-.414 0-.75-.336-.75-.746V4.267c0-.412.336-.747.75-.747h17c.414 0 .75.335.75.747v15.507z"})));r.metadata={width:24,height:24},t.a=r},"9B+1":function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return o}));var n=a("PbbS");const i=e=>({topicId:e.topicId,functionalityType:e.functionalityType}),o=e=>e===n.a.Star?n.a.Star:e===n.a.Favorite?n.a.Favorite:e===n.a.Interested?n.a.Interested:n.a.Default},"9Jxp":function(e,t,a){"use strict";var n=a("97Jx"),i=a.n(n),o=a("ERkP"),s=a.n(o),r=a("CXUS"),l=a("rHpw"),c=a("MWbm");const d=l.a.create((()=>({hidden:{opacity:0}})));t.a=e=>{const{children:t,draggableId:a,fromVirtualList:n,index:o,isBeingDragged:l,isDragDisabled:u}=e;return n&&l?s.a.createElement(c.a,{style:d.hidden},t):s.a.createElement(r.b,{draggableId:a,index:o,isDragDisabled:u},(e=>s.a.createElement("div",i()({ref:e.innerRef},e.draggableProps,e.dragHandleProps),t)))}},"9Q4p":function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var n=a("ERkP"),i=a.n(n),o=a("GTeL"),s=a("3XMw"),r=a.n(s),l=a("MWbm"),c=a("PbQQ"),d=a("6vad"),u=a("e0ey"),h=a("rHpw"),p=a("ZkMC");const m=r.a.j9cf595f,g=r.a.d69a782e,b=r.a.faf745f9,_=r.a.b96e6682,y=r.a.h2437f25;function f(e){const{currentWarnings:t,mediaItem:a,onWarningChange:n,orientedImage:s}=e,r=[{label:b,value:"adult_content"},{label:_,value:"graphic_violence"},{label:y,value:"other"}],h=c.b.useOpaqueIdentifier(),f=i.a.createElement(o.a,{mediaItem:a,orientedImage:s});return i.a.createElement(l.a,{style:w.root},i.a.createElement(l.a,{style:w.modalContainer},null!=t&&t.size?i.a.createElement(p.a,{revealableTombstoneConfig:p.c,sensitiveMediaWarnings:t,withRoundedCorners:!1},f):f,i.a.createElement(d.b,{nativeID:h,subtext:g,text:m}),i.a.createElement(l.a,{accessibilityLabelledBy:h,accessibilityRole:"group"},r.map((({label:e,value:a})=>i.a.createElement(u.a,{checked:t&&t.has(a),key:a,label:e,name:a,onChange:n}))))))}const w=h.a.create((e=>({modalContainer:{width:"100%",height:"100%",flexGrow:1},root:{display:"flex",flexDirection:"column",flexWrap:"nowrap",height:"100%",flexGrow:1}})))},BLtI:function(e,t,a){"use strict";a.d(t,"a",(function(){return Ta}));var n=a("97Jx"),i=a.n(n),o=(a("kYxP"),a("849X"),a("ERkP")),s=a.n(o),r=a("rcen"),l=a("Rp9C"),c=a("MWbm"),d=a("Irs7"),u=a("htQn"),h=a("t62R"),p=a("OOKO"),m=a("/yvb"),g=a("rHpw"),b=a("v6aA"),_=a("Lsrn"),y=a("k/Ka");const f=(e={})=>Object(y.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[_.a.root,e.style],viewBox:"0 0 24 24"},s.a.createElement("g",null,s.a.createElement("path",{d:"M20.937 3.223c-.403-.263-.948-.375-1.48-.195-.726.247-1.906.534-3.457.534-1.38 0-2.286-.225-3.273-.472l-.01-.003c-1.01-.252-2.1-.525-3.717-.525-1.67 0-3.235.484-4.357.946-.16.066-.312.132-.455.197V2.75c0-.518-.42-.938-.938-.938s-.937.42-.937.938v18.5c0 .518.42.938.938.938s.94-.42.94-.938v-2.457c.28-.15.682-.35 1.168-.55 1.002-.414 2.312-.806 3.642-.806 1.38 0 2.286.225 3.273.472l.01.002c1.01.253 2.102.525 3.717.525 2.4 0 4.075-.6 4.804-.922.58-.257.883-.823.883-1.378V4.577c0-.612-.343-1.088-.75-1.354zm-3.28 8.717c-.465.226-1.026.03-1.25-.435-.71-1.462-2.598-1.42-3.234.113l-.307.74c-.145.35-.487.58-.866.58-.38 0-.72-.23-.866-.58l-.308-.74c-.636-1.532-2.525-1.576-3.233-.113-.226.466-.786.66-1.252.435-.465-.226-.66-.786-.434-1.252C7.16 8.1 10.392 7.905 12 9.94c1.608-2.035 4.84-1.84 6.094.748.225.466.03 1.026-.436 1.252z"})));f.metadata={width:24,height:24};var w=f;const C=(e={})=>Object(y.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[_.a.root,e.style],viewBox:"0 0 24 24"},s.a.createElement("g",null,s.a.createElement("path",{d:"M3.25 22c-.414 0-.75-.336-.75-.75V2.75c0-.414.336-.75.75-.75s.75.336.75.75v1.247C5.144 3.453 7.007 2.75 9 2.75c1.592 0 2.655.266 3.682.522.982.246 1.91.478 3.318.478 1.687 0 2.945-.332 3.704-.61.41-.15.87-.086 1.235.168.35.244.56.64.56 1.054V16.21c0 .474-.272.905-.694 1.1-.62.284-2.325.94-4.806.94-1.593 0-2.654-.266-3.682-.522-.983-.246-1.91-.478-3.318-.478-2.147 0-4.203.996-5 1.433v2.567c0 .414-.336.75-.75.75zM4 5.683v11.314c1.144-.544 3.007-1.247 5-1.247 1.592 0 2.655.266 3.682.522.982.245 1.91.478 3.318.478 1.975 0 3.36-.458 4-.725v-11.4c-.887.302-2.246.625-4 .625-1.593 0-2.654-.266-3.682-.522-.983-.246-1.91-.478-3.318-.478-2.147 0-4.203.996-5 1.433z"}),s.a.createElement("path",{d:"M17.925 10.77c-1.23-2.543-4.46-2.65-5.925-.496-1.465-2.153-4.695-2.047-5.925.495-.18.372-.025.82.348 1 .373.182.82.026 1.002-.347.78-1.61 2.878-1.556 3.575.123l.308.74c.116.28.39.464.693.464s.578-.182.694-.463l.306-.74c.697-1.68 2.795-1.734 3.575-.124.18.373.63.53 1.002.348.373-.18.53-.628.348-1z"})));C.metadata={width:24,height:24};var v=C,T=a("OKMS"),E=a("7Mjr");class x extends s.a.Component{constructor(...e){super(...e),this._scribeAction=e=>{const{analytics:t,destinationUrl:a,note:n}=this.props;t.scribe({action:e,data:{items:[l.a.getBirdwatchItem(null==n?void 0:n.rest_id,a)]}})},this._handlePivotClick=()=>{this._scribeAction("click")},this._getBirdwatchIcon=e=>{switch(e){case"BirdwatchFlagFill":return s.a.createElement(w,{style:S.birdwatchIcon,testID:"icon-birdwatch-flag"});case"BirdwatchFlagStroke":return s.a.createElement(v,{style:S.birdwatchIcon,testID:"icon-birdwatch-flag-stroke"});default:return s.a.createElement(T.a,{style:S.birdwatchIcon,testID:"icon-birdwatch-fill"})}}}componentDidMount(){this._scribeAction("impression")}render(){const{callToAction:e,destinationUrl:t,footer:a,iconType:n,subtitle:i,title:o}=this.props,l="#"===t?void 0:{pathname:t,anchorless:!0},d=l?this._handlePivotClick:void 0,g=(null==e?void 0:e.destinationUrl)||"#",b="#"===g?void 0:g;return s.a.createElement(s.a.Fragment,null,s.a.createElement(u.a,{link:l,onPress:d,style:S.pivotContainer,testID:"birdwatch-pivot",withInteractiveStyling:!!l},s.a.createElement(c.a,{style:S.headerContainer},s.a.createElement(c.a,{style:[S.headerTextContainer,!e&&S.headerTextAndThumbnailContainer]},this._getBirdwatchIcon(n),s.a.createElement(h.b,{size:"subtext1",style:S.birdwatchLabel,weight:"bold"},o)),e?null:s.a.createElement(E.a,{style:S.icon,testID:"icon-arrow-right"})),i?s.a.createElement(r.a,{entities:i.entities,size:"body",style:S.subtitle,text:i.text}):null,e?s.a.createElement(s.a.Fragment,null,s.a.createElement(p.a,{spacing:"space2"}),s.a.createElement(c.a,{style:S.callToActionContainer},s.a.createElement(h.b,{size:"subtext1"},e.prompt),s.a.createElement(m.a,{link:b,onPress:this._handlePivotClick,size:"small",type:"primaryOutlined"},e.title))):null),a?s.a.createElement(r.a,{color:"gray700",entities:a.entities,size:"subtext2",style:S.footer,text:a.text}):null)}}x.contextType=b.a;const S=g.a.create((e=>({birdwatchLabel:{display:"flex",alignItems:"center"},footer:{paddingVertical:e.spaces.space12},pivotContainer:{borderColor:e.colors.nestedBorderColor,borderWidth:e.borderWidths.small,borderRadius:e.borderRadii.xLarge,marginTop:e.spaces.space12,overflow:"hidden"},headerContainer:{paddingVertical:e.spaces.space12,paddingHorizontal:e.spaces.space12,backgroundColor:e.colors.hoverBlack,justifyContent:"space-between",alignItems:"center",flexDirection:"row",flexGrow:1},headerTextContainer:{flexDirection:"row",width:"100%"},headerTextAndThumbnailContainer:{width:"80%"},callToActionContainer:{paddingVertical:e.spaces.space12,paddingHorizontal:e.spaces.space12,justifyContent:"space-between",alignItems:"center",flexDirection:"row",flexGrow:1},icon:{color:e.colors.text,paddingLeft:e.spaces.space12,flexShrink:0},birdwatchIcon:{marginRight:e.spacesPx.space4,padding:e.spacesPx.space2,color:e.colors.primary,flexShrink:0},thumbnail:{color:e.colors.whiteOnColor},subtitle:{paddingVertical:e.spaces.space12,paddingHorizontal:e.spaces.space12}})));var I=Object(d.a)(x,{element:"birdwatch_pivot"}),k=a("6/RC"),R=a("3XMw"),P=a.n(R),M=a("5S/X");function D(e){this.name="AssertionError",this.message=e,this.stack=(new Error).stack}D.prototype=Object.create(Error.prototype),D.prototype.constructor=D;var L=(e,t)=>{if(!e)throw new D(t?`Assertion failed: ${t}`:"Assertion failed (also, no message was provided)")},A=a("E6XO"),O=a("sXY3"),F=a("tn7R"),B=a("+d3d"),N=a("oECP"),U=a("fs1G");let j={},H=0;const z={mount:["didMount","willMount"],update:["didUpdate","willUpdate"]},W=()=>{Object(O.a)(j).forEach((([e,t],a)=>{const n=Object(F.a)(t),i=n.length;n.forEach((t=>{Object(O.a)(z).map((([a,[n,o]])=>{(e=>1===e||Math.random()<=.01)(i)&&n in t&&o in t&&Object(A.c)(((e,t)=>`lifecycle:${e.toLowerCase()}:${t}`)(e,a),{duration_ms:t[n]-t[o]})}))}))})),Object(A.a)(),j={}},V=Object(B.a)(W,2e4)||W,G=(e,t=!1)=>{const a=e.constructor.displayName;L(a,`${e.constructor.name} component has "displayName" set.`);let n=e.__lifecycleIdentifier;return!n&&t&&(H+=1,n=e.__lifecycleIdentifier=H),j[a]&&j[a][n]||(j[a]={...j[a],[n]:{}}),[a,n]},K=(e,t,a,n)=>{j[e][t][a]=n};var q=k.canUseDOM?function(e){const t={UNSAFE_componentWillMount:e.prototype.UNSAFE_componentWillMount||U.a,componentDidMount:e.prototype.componentDidMount||U.a,UNSAFE_componentWillUpdate:e.prototype.UNSAFE_componentWillUpdate||U.a,componentDidUpdate:e.prototype.componentDidUpdate||U.a,componentWillUnmount:e.prototype.componentWillUnmount||U.a};return e.prototype.UNSAFE_componentWillMount=function(...e){const[a,n]=G(this,!0);t.UNSAFE_componentWillMount.apply(this,e),K(a,n,"willMount",Date.now())},e.prototype.componentDidMount=function(...e){const[a,n]=G(this);t.componentDidMount.apply(this,e),K(a,n,"didMount",Date.now()),V()},e.prototype.UNSAFE_componentWillUpdate=function(...e){const[a,n]=G(this,!0);t.UNSAFE_componentWillUpdate.apply(this,e),K(a,n,"willUpdate",Date.now())},e.prototype.componentDidUpdate=function(...e){const[a,n]=G(this);t.componentDidUpdate.apply(this,e),K(a,n,"didUpdate",Date.now()),V()},e.prototype.componentWillUnmount=function(...e){t.componentWillUnmount.apply(this,e),V()},e}:N.a,$=a("caTy"),Q=a("Y6L+"),X=a("zb92");var Y=Object(X.a)({loader:()=>a.e(180).then(a.bind(null,"mL9d"))}),J=a("xM7j"),Z=a("LKCq");const ee="inner_tombstone";function te({children:e,config:t,nativeID:a}){var n;const o=Object(d.b)();if(M.b)return e;const l=(null==(n=t.richRevealText)?void 0:n.text)||t.revealText,u=t.richText?s.a.createElement(r.a,{alignment:t.richText.alignment,entities:t.richText.entities,onEntityClick:function(){o.scribe({action:"open_link",component:ee})},rtl:t.richText.rtl,text:t.richText.text}):t.text;return s.a.createElement(c.a,{nativeID:a},l?s.a.createElement(Z.a,{label:u,onReveal:function(){o.scribe({action:"click",component:ee})},render:({onActionClick:e,...t})=>s.a.createElement(J.a,i()({},t,{inline:!0,onClick:e})),revealLabel:l},e):s.a.createElement(J.a,{inline:!0},u))}var ae=a("PeW/"),ne=a("3IPs"),ie=a("PbbS"),oe=a("LWCC"),se=a("JUsM");const re=g.a.create((e=>({topicFollowPrompt:{marginBottom:e.spaces.space12,marginTop:`-${e.spaces.space8}`}})));var le=({defaultRef:e,topic:t,topicFollowPrompt:a})=>{const{entities:n,text:i}=(null==a?void 0:a.description)||{};return s.a.createElement(c.a,{style:re.topicFollowPrompt},s.a.createElement(se.a,{containerRef:e,primaryAction:s.a.createElement(oe.a,{showRelationshipChangeConfirmation:!0,textMode:ie.a.FollowTopic,topic:t}),text:s.a.createElement(r.a,{entities:n,text:i})}))},ce=a("SrIh"),de=a("gdQ4"),ue=a("qbku"),he=a("tocL"),pe="analyticsButton",me="promotedIndicator",ge="readerModeBottomBar",be="socialContext",_e="tweet",ye=a("X04g"),fe=a("v/3V"),we=a("RqPI"),Ce=a("3zvM"),ve=a("lMB6"),Te=a("iChn");const Ee=Object(Ce.e)({namespace:"translationsTweets",fetchOneContext:"FETCH_TWEET_TRANSLATION",fetchOneEndpoint:e=>(t,a)=>e.Tweets.fetchTranslation(t,a).then(xe),fetchOneParams:e=>({id:e})}),xe=e=>{const t=Array.isArray(e)?e:[e];return{entities:{translationsTweets:Object(Te.a)(t,(e=>e.id_str))}}};var Se=ve.a.register(Ee),Ie=a("rxPX"),ke=a("0KEI");const Re=(e,t)=>Se.select(e,t.tweetId),Pe=(e,t)=>Se.selectFetchStatus(e,t.tweetId);var Me=Object(Ie.a)().propsFromState((()=>({translation:Re,translationFetchStatus:Pe,userLanguage:we.p}))).propsFromActions((()=>({createLocalApiErrorHandler:Object(ke.createLocalApiErrorHandlerWithContextFactory)("TRANSLATE_TWEET"),fetchTranslation:Se.fetchOneIfNeeded}))),De=a("PdwO"),Le=a("cTG8"),Ae=a("oQhu"),Oe=a("YeIG"),Fe=a("Gpeq");const Be=P.a.b4947556;class Ne extends s.a.Component{constructor(...e){super(...e),this._fetchTranslation=()=>{const{createLocalApiErrorHandler:e,fetchTranslation:t,tweetId:a}=this.props;t(a).catch(e())},this._shouldDisableTranslation=()=>{const{disableTranslation:e,displayTextRange:t,entities:a,isFocal:n,lang:i,supplementalLang:o,text:s,userLanguage:r}=this.props;return this._getMemoizedDisableTranslation(e,t,a,s,i,o,r)||!(n||this.context.featureSwitches.isTrue("tweet_translation_timeline_enabled"))},this._renderTranslation=()=>{const{createLocalApiErrorHandler:e,disableTranslation:t,enrichments:a,fetchTranslation:n,header:o,hitHighlights:r,isFocal:l,onMediaTranslation:c,style:d,supplementalLang:u,translation:h,translationFetchStatus:p,tweetId:m,userLanguage:g,weight:b,withOriginalText:_,...y}=this.props;if(h)return s.a.createElement(Le.a,i()({},y,{displayTextRange:this._getMemoizedDisplayTextRange(h.text),entities:h.entities,lang:h.destinationLanguage,text:h.text}))},this._getMemoizedDisplayTextRange=Object(Ae.a)((e=>[0,e.length])),this._getMemoizedDisableTranslation=Object(Ae.a)(((e,t,a,n,i,o,s)=>{const r=s&&Object(Fe.c)(i.split("-")[0])!==Object(Fe.c)(s.split("-")[0]);return e||!!o||!r||!Object(Fe.b)({displayTextRange:t,entities:a,text:n,language:i})}))}componentDidUpdate(e){const{onMediaTranslation:t,translation:a}=this.props;if(e.translation!==a&&a){var n;const{featureSwitches:e}=this.context,i={};((null==a||null==(n=a.entities)?void 0:n.media)||[]).forEach((e=>{e.alt_text&&(i[e.id_str]=e.alt_text)})),t&&!Object(Oe.a)(i)&&e.isTrue("responsive_web_alt_text_translations_enabled")&&t(i)}}render(){const{createLocalApiErrorHandler:e,disableTranslation:t,fetchTranslation:a,header:n,isFocal:i,onMediaTranslation:o,style:r,supplementalLang:l,translation:c,translationFetchStatus:d,tweetId:u,userLanguage:h,withOriginalText:p,...m}=this.props;return s.a.createElement(De.a,{disableTranslation:this._shouldDisableTranslation(),fetchTranslation:this._fetchTranslation,header:n,key:u,originLanguage:c&&c.localizedSourceLanguage,style:r,translateButtonText:Be,translatedMessage:this._renderTranslation(),translationFetchStatus:d,withOriginalText:p},s.a.createElement(Le.a,m))}}Ne.contextType=b.a;var Ue=Me(Ne),je=a("2qZs"),He=a("wwsH");const ze={viewType:"birdwatch"},We=g.a.create((e=>({birdwatchIcon:{marginLeft:e.spaces.space12}})));var Ve=({onPress:e,onShow:t,tweetId:a})=>{const n={pathname:`/i/birdwatch/t/${a}`,external:!0};return s.a.useEffect((()=>{t&&t()}),[t]),s.a.createElement(He.a,{Icon:je.a,accessibilityLabel:"Birdwatch note",activeColor:"primary",behavioralEventContext:ze,link:n,onPress:e,style:We.birdwatchIcon})},Ge=a("xXop"),Ke=a("xrkw"),qe=a("mqpi");const $e=P.a.e6901eeb;class Qe extends s.a.PureComponent{constructor(...e){super(...e),this._shouldDisable=qe.b.bind(null,this.context.featureSwitches)}render(){const{endControl:e,loggedInUserId:t,onAnalyticsClick:a,style:n,tweet:i}=this.props;return!this._shouldDisable(i,qe.a.Analytics)&&t===i.user.id_str?s.a.createElement(c.a,{style:[Xe.analyticsContainerWithChildren,n]},s.a.createElement(u.a,{link:`${i.permalink}/analytics`,onPress:a,style:Xe.analyticsButton,testID:pe},s.a.createElement(Ke.a,{style:Xe.analyticsIcon}),s.a.createElement(h.b,{color:"gray700"},$e)),e):null}}Qe.contextType=b.a;const Xe=g.a.create((e=>({analyticsIcon:{color:e.colors.gray700,paddingRight:e.spaces.space4},analyticsButton:{paddingVertical:e.spaces.space16,flexDirection:"row",flexGrow:1},analyticsContainerWithChildren:{justifyContent:"space-between",borderTopColor:e.colors.borderColor,borderTopStyle:"solid",borderTopWidth:"1px",flexDirection:"row",alignItems:"center"}})));var Ye=Qe,Je=a("tmUV"),Ze=a("YBcl"),et=a("k89r");var tt=e=>{const t=Object(et.a)();return s.a.createElement(Ze.a,i()({},e,{handleAnchorAction:()=>{t.scribe({component:"conversation_control_prompt",element:"see_conversation",action:"click"})},handleAnchorOpen:e=>{t.scribe({element:e,action:"click"})},handleAnchorSecondaryAction:()=>{t.scribe({component:"conversation_control_prompt",element:"ok",action:"click"})},handleHeadsUpImpression:(e,a)=>{t.scribe({element:"heads_up_context",action:a,data:{tweet_id:e}})}}))},at=a("uFYP");const nt=P.a.g6237a1e,it=P.a.d6b5949e,ot=e=>{switch(e){case"paused":return it;case"in-progress":default:return nt}};var st=e=>{const{nativeID:t,status:a,style:n}=e,i="paused"===a;return s.a.createElement(c.a,{style:[rt.root,n]},s.a.createElement(at.a,{style:[rt.icon,i?rt.withGray700:null]}),s.a.createElement(h.b,{color:i?"gray700":"text",nativeID:t,size:"subtext2"},ot(a)))};const rt=g.a.create((e=>({root:{alignItems:"center",flexDirection:"row"},icon:{color:e.colors.buttonBlack,height:"1em",marginRight:e.spaces.space4,flexShrink:0},withGray700:{color:e.colors.gray700}})));var lt=a("TuTd");const ct=(e,t)=>Object(lt.a)(e,t.tweetId);var dt=Object(Ie.a)().propsFromState((()=>({liveCounts:ct}))).adjustStateProps((({liveCounts:e})=>({liveLikeCount:e&&e.likeCount,liveQuoteCount:e&&e.quoteCount,liveRetweetCount:e&&e.retweetCount}))),ut=a("Jkc4"),ht=a("855f"),pt=a("MtXG"),mt=a("de1q"),gt=a("cHvH");const bt=P.a.fd80ffbf,_t=g.a.theme.spacesPx.space20;class yt extends s.a.PureComponent{constructor(e,t){super(e,t),this._reactionsLegacyHeartEnabled=this.context.featureSwitches.isTrue("responsive_web_reactions_legacy_heart"),this._renderQuoteTweetTimelinePivot=()=>{const{permalink:e}=this.props;return s.a.createElement(u.a,{link:`${e}/retweets/with_comments`,onPress:this._handleQuoteTweetPivotScribeOnClick,style:ft.quoteTweetPivot,withDarkerInteractiveBackground:!1},s.a.createElement(h.b,{color:"primary"},bt))},this._updateStateIfChanged=(e,t)=>a=>{const{nativeEvent:{layout:{width:n}}}=a;n!==e()&&t(n)},this._handleQuoteTweetStatLayout=this._updateStateIfChanged((()=>this.state.quoteTweetLabelWidth),(e=>this.setState({quoteTweetLabelWidth:e}))),this._handleRetweetStatLayout=this._updateStateIfChanged((()=>this.state.retweetLabelWidth),(e=>this.setState({retweetLabelWidth:e}))),this._handleLikeStatLayout=this._updateStateIfChanged((()=>this.state.likeLabelWidth),(e=>this.setState({likeLabelWidth:e}))),this._handleStatGroupLayout=this._updateStateIfChanged((()=>this.state.groupWidth),(e=>this.setState({groupWidth:e}))),this._handleRetweetScribeOnClick=()=>{const{analytics:e}=this.props;e.scribe({element:"retweet_stat",action:"click"})},this._handleQuoteTweetScribeOnClick=()=>{const{analytics:e}=this.props;e.scribe({element:"quote_tweet_stat",action:"click"})},this._handleQuoteTweetPivotScribeOnClick=()=>{const{analytics:e}=this.props;e.scribe({element:"quote_tweet_pivot",action:"click"})},this.state={retweetLabelWidth:void 0,likeLabelWidth:void 0,quoteTweetLabelWidth:void 0,groupWidth:void 0}}componentDidMount(){const{analytics:e,isNonCompliantTweet:t,quoteTweetCount:a}=this.props;t&&e.scribe({element:"quote_tweet_pivot",action:"impression"}),a&&a>0&&e.scribe({element:"quote_tweet_stat",action:"impression"})}render(){const{isNonCompliantTweet:e}=this.props;return e?this._renderQuoteTweetTimelinePivot():this._renderStats()}_renderReaction(e){const{permalink:t}=this.props,a=ht.a.getTruncatedCount(e.count),n={pathname:`${t}/reactions`,state:{reactionType:e.type}};return s.a.createElement(c.a,{key:e.type},s.a.createElement(ut.a,null,(t=>s.a.createElement(pt.a,{count:e.count,link:n,onPress:t()},s.a.createElement(c.a,{style:ft.reactionStat},s.a.createElement(mt.a,{legacyHeart:this._reactionsLegacyHeartEnabled,reactionType:e.type,style:ft.reaction}),s.a.createElement(pt.a.Value,{animated:!0,count:e.count,weight:"normal"},a))))))}_renderReactionsStatsGroup(){const{permalink:e,reactionCount:t}=this.props,a=t&&t.reduce(((e,t)=>(t.count||0)+e),0)||0;if(!a||!t)return null;const n=ht.a.getTruncatedCount(a),i=t.sort(((e,t)=>t.count-e.count)).filter((e=>e.count>0));return s.a.createElement(gt.a,null,(({windowWidth:t})=>s.a.createElement(pt.a.Group,{style:[ft.detailItemContainer,ft.detailItem]},t>g.a.theme.breakpoints.small?s.a.createElement(c.a,null,s.a.createElement(ut.a,null,(t=>s.a.createElement(pt.a,{count:a,link:`${e}/reactions`,onPress:t()},s.a.createElement(P.a.I18NFormatMessage,{$i18n:"d01be6d8"},s.a.createElement(pt.a.Value,{animated:!0,count:a},P.a.b4a4e4aa({displayCountAll:n})),s.a.createElement(pt.a.Label,null,P.a.ifa70ada({count:a}))))))):null,i.map((e=>this._renderReaction(e))))))}_renderLikesStat(e){const t=ht.a.getTruncatedCount(e),{permalink:a}=this.props;return s.a.createElement(c.a,{onLayout:this._handleLikeStatLayout},s.a.createElement(ut.a,null,(n=>s.a.createElement(pt.a,{count:e,link:`${a}/likes`,onPress:n()},s.a.createElement(P.a.I18NFormatMessage,{$i18n:"e4eeeefe"},s.a.createElement(pt.a.Value,{animated:!0,count:e},P.a.ha054943({displayCount:t})),s.a.createElement(pt.a.Label,null,P.a.d260af55({count:e})))))))}_renderRetweetsStat(e){const t=ht.a.getTruncatedCount(e),{permalink:a}=this.props;return s.a.createElement(c.a,{onLayout:this._handleRetweetStatLayout},s.a.createElement(ut.a,null,(n=>s.a.createElement(pt.a,{count:e,link:`${a}/retweets`,onPress:n(this._handleRetweetScribeOnClick)},s.a.createElement(P.a.I18NFormatMessage,{$i18n:"b07c7c02"},s.a.createElement(pt.a.Value,{animated:!0,count:e},P.a.j142cb3f({displayCount:t})),s.a.createElement(pt.a.Label,null,P.a.e59a4e90({count:e})))))))}_renderQuoteTweetsStat(e){const t=ht.a.getTruncatedCount(e),{permalink:a}=this.props;return s.a.createElement(c.a,{onLayout:this._handleQuoteTweetStatLayout},s.a.createElement(ut.a,null,(n=>s.a.createElement(pt.a,{count:e,link:`${a}/retweets/with_comments`,onPress:n(this._handleQuoteTweetScribeOnClick)},s.a.createElement(P.a.I18NFormatMessage,{$i18n:"f0259953"},s.a.createElement(pt.a.Value,{animated:!0,count:e},P.a.f6e12705({displayCount:t})),s.a.createElement(pt.a.Label,null,P.a.e2414184({count:e})))))))}_renderStats(){const{containerStyle:e,likeCount:t,quoteTweetCount:a,reactionCount:n,retweetCount:i,style:o,withReactions:r}=this.props,{groupWidth:l,likeLabelWidth:d,quoteTweetLabelWidth:u,retweetLabelWidth:h}=this.state,p=h&&u&&d&&l&&h+_t+(r?0:d+_t)+u>l,m=l,g=r?void 0:t;return i||g||a||n?s.a.createElement(c.a,{onLayout:this._handleStatGroupLayout,style:m?e:ft.hidden},r?this._renderReactionsStatsGroup():null,i||g||a?s.a.createElement(pt.a.Group,{style:[ft.detailItemContainer,ft.detailItem,ft.noWrap,o]},i?this._renderRetweetsStat(i):null,a?this._renderQuoteTweetsStat(a):null,g&&!p?this._renderLikesStat(g):null):null,p&&g?s.a.createElement(pt.a.Group,{style:[ft.detailItemContainer,ft.detailItem,o]},this._renderLikesStat(g)):null):null}}yt.contextType=b.a;const ft=g.a.create((e=>({detailItem:{paddingHorizontal:e.spaces.space4,paddingVertical:e.spaces.space16},detailItemContainer:{borderTopColor:e.colors.borderColor,borderTopStyle:"solid",borderTopWidth:"1px",flexDirection:"row"},hidden:{visibility:"hidden"},noWrap:{flexWrap:"nowrap"},quoteTweetPivot:{borderTopColor:e.colors.borderColor,borderTopStyle:"solid",borderTopWidth:"1px",paddingVertical:e.spaces.space16},reaction:{width:"1.2em",height:"1.2em",marginRight:"0.5em"},reactionStat:{flexDirection:"row",alignItems:"center",display:"inline-flex"}})));var wt=Object(d.a)(yt);var Ct=dt((function(e){const{containerStyle:t,isNonCompliantTweet:a,liveLikeCount:n,liveQuoteCount:i,liveRetweetCount:o,tweetLikeCount:r,tweetPermalink:l,tweetQuoteTweetCount:c,tweetReactionCount:d,tweetRetweetCount:u,withReactions:h}=e;return s.a.createElement(wt,{containerStyle:t,isNonCompliantTweet:a,likeCount:n||r,permalink:l,quoteTweetCount:i||c,reactionCount:d,retweetCount:o||u,withReactions:h})})),vt=a("avOP");var Tt=e=>{const{children:t}=e;return M.b?s.a.createElement(vt.a,{itemProp:"articleBody"},t):t},Et=a("hqKg"),xt=a("B/Qy"),St=a("M0jS");const It=(e,t)=>St.b.select(e,t.userId);var kt=Object(Ie.a)().propsFromState((()=>({userSpace:Object(Et.createSelector)(It,(e=>{const t=e?e.spaces:void 0;return t?{presenceRingType:"space",link:{pathname:Object(xt.a)(t.live_content.audiospace.broadcast_id),state:{origin:"audiospace_ring"}}}:void 0}))}))),Rt=a("Sksh"),Pt=a("1I0O"),Mt=a("jhWN");const Dt=e=>{const{avatarRef:t,imageLayoutCache:a,nativeID:n,onClick:o,onHoverCardScreenNameClick:r,promotedContent:l,screenName:c,size:d,style:u,uri:h,userId:p,userSpace:m,withHoverCard:g,withLink:b}=e;return s.a.useEffect((()=>(Rt.a.registerUserInApp(p),()=>{Rt.a.deregisterUserInApp(p)})),[p]),m?s.a.createElement(Pt.a,i()({avatarRef:t,imageLayoutCache:a,nativeID:n,onClick:o,onHoverCardScreenNameClick:r,promotedContent:l,screenName:c,size:d,style:u,uri:h,withHoverCard:g,withLink:b},m)):s.a.createElement(Mt.a,{avatarRef:t,imageLayoutCache:a,nativeID:n,onClick:o,onHoverCardScreenNameClick:r,promotedContent:l,screenName:c,size:d,style:u,uri:h,withHoverCard:g,withLink:b})};var Lt=kt(s.a.memo(Dt)),At=a("FGLp"),Ot=a("TIdA"),Ft=a("DNho");const Bt=Ot.a.createLayoutCache(),Nt=g.a.create((e=>({avatar:{display:"block"},avatarWrapper:{flexShrink:1,flexGrow:0,width:"100%"}})));var Ut=e=>{const t=Object(d.b)(),{featureSwitches:a}=s.a.useContext(b.a),{avatarRef:n,nativeID:i,onClick:o,onHoverCardScreenNameClick:r,promotedContent:l,screenName:u,uri:h,userId:p,withHoverCard:m=!0,withLink:g=!0,withNftAvatar:_,withUserPresence:y=!1}=e;return Object(At.a)((()=>{_&&a.isTrue("responsive_web_nft_avatar")&&t.scribe({element:"nft_avatar",action:"impression"})})),s.a.createElement(c.a,{style:Nt.avatarWrapper},s.a.createElement(Ft.a.Consumer,null,(({avatarSize:e})=>y?s.a.createElement(Lt,{avatarRef:n,imageLayoutCache:Bt,nativeID:i,onClick:o,onHoverCardScreenNameClick:r,promotedContent:l,screenName:u,size:e,style:Nt.avatar,uri:h,userId:p,withHoverCard:m,withLink:g}):s.a.createElement(Mt.a,{avatarRef:n,imageLayoutCache:Bt,nativeID:i,onClick:o,onHoverCardScreenNameClick:r,promotedContent:l,screenName:u,size:e,style:Nt.avatar,uri:h,withHoverCard:m,withLink:g}))))},jt=a("aITJ"),Ht=a("E0cF"),zt=a("Z6aJ"),Wt=a("dCqJ"),Vt=a("Olb6"),Gt=a("nBUg"),Kt=a("r7g+"),qt=a("PbQQ"),$t=a("e5HP"),Qt=a("JWUO"),Xt=a("9VO7"),Yt=a("GBcw"),Jt=a("jV+4"),Zt=a("ir4X"),ea=a("aA1u"),ta=a("kY28"),aa=a("6nXH");function na(e,t,a){var n;const i=Ht.a.getOriginalTweet(e),o=null==i||null==(n=i.entities)?void 0:n.hashtags;if(!Array.isArray(o)||o.length<1)return;const s=o[0];return a&&function(e){const t=Ht.a.getOriginalTweet(e),a=t.extended_entities&&t.extended_entities.media;return!!(a&&a.length>0)&&a.some((e=>"animated_gif"===e.type))}(e)&&t.isTrue("responsive_web_hashtag_highlight_is_enabled")?s.text:void 0}var ia=a("9B+1"),oa=a("YICZ"),sa=a("21zW"),ra=a("8bWS");const la=P.a.gf5e9ea6,ca=P.a.e2f2b658,da=Object.freeze({see_more:P.a.ffd9cfe6,discover_more:P.a.d172116a,more:P.a.h63a5c3b,more_tweets:P.a.iac074c3,more_suggestions:P.a.g11ebd34,browse:P.a.g4a69019,browse_tweets:P.a.b1abb17d});const ua=({onUndoTopicNotInterestedClick:e})=>s.a.createElement(c.a,{style:ma.tombstone},s.a.createElement(J.a,{actionText:la,children:ca,inline:!0,onClick:e})),ha=Object(d.a)((e=>{const{analytics:t,bannerText:a,label:n,link:i,linkText:o,onNotInterestedPress:l,topic:d,withRightControl:u}=e,p=a&&""===a.text,m=o&&""===o.text,g=!m,b=!(p||m);return s.a.createElement(c.a,{style:ma.topicActions},b&&s.a.createElement(sa.a,null),g&&s.a.createElement(h.b,{color:"primary",link:i,onClick:()=>{t.scribeAction("click")},size:"subtext2",weight:"bold"},o?s.a.createElement(r.a,o):n),u?s.a.createElement(c.a,{style:ma.notInterestedButtonWrapper},s.a.createElement(oa.a,{onPress:l,size:"small",topicId:d.id,type:"brandText",withIconOnly:!0})):null)})),pa=e=>{const{isExpanded:t,onNotInterestedPress:a,topic:n}=e,i=n.following?ma.followingTopicButtonWrapper:ma.followTopicButtonWrapper,o=[t&&i,!t&&ma.followTopicButtonWrapperNotExpanded],r=t?ma.largeNotInterestedButtonWrapper:ma.notInterestedButtonWrapper;return s.a.createElement(c.a,{style:ma.topicActions},t?null:s.a.createElement(sa.a,{style:ma.topicMiddot}),s.a.createElement(c.a,{style:o},s.a.createElement(oe.a,{isTransparent:!t,showRelationshipChangeConfirmation:!0,size:t?"small":"xSmall",style:ma.followTopicButton,textMode:ie.a.FollowTopic,topic:n})),a||t&&!n.following?s.a.createElement(c.a,{style:r},s.a.createElement(oa.a,{onPress:a,size:"small",topicId:n.id,type:t?"primaryOutlined":"brandText",withIconOnly:!t})):null)};const ma=g.a.create((e=>({tombstone:{paddingBottom:e.componentDimensions.gutterVertical},iconStyle:{paddingBottom:`calc(${e.spaces.space2} + ${e.spaces.space1})`,marginBottom:e.spaces.space4},topicActions:{flexDirection:"row",flexGrow:1,alignItems:"center",minHeight:e.spaces.space32},topicMiddot:{alignSelf:"center",paddingRight:0},followTopicButton:{marginTop:e.spaces.space1},followTopicButtonWrapperNotExpanded:{marginBottom:e.spaces.space2},followTopicButtonWrapper:{marginVertical:e.spaces.space4,paddingRight:e.spaces.space4,width:"50%"},followingTopicButtonWrapper:{marginVertical:e.spaces.space4,width:"100%"},notInterestedButtonWrapper:{alignItems:"flex-end",flexGrow:1},largeNotInterestedButtonWrapper:{marginVertical:e.spaces.space4,paddingLeft:e.spaces.space4,width:"50%"}})));var ga=a("0zXz");const ba=g.a.theme.aspectRatios.maxTimelineImage,_a=g.a.theme.aspectRatios.minTimelineImage,ya=P.a.f277e949,fa=P.a.ee79367a,wa=P.a.a2a3824a,Ca=P.a.c14cdb18,va=P.a.e8adeec8;class Ta extends s.a.Component{constructor(...e){super(...e),this._defaultInlinePromptRef=s.a.createRef(),this._iconContainerRef=s.a.createRef(),this.state={mediaAltTranslations:{}},this._transformPromotedUrl=fe.a.bind(null,this.context.featureSwitches),this._isEdgeToEdgeEnabled=this.context.featureSwitches.isTrue("media_edge_to_edge_content_enabled"),this._getWithTopLine=()=>{const{conversationTreeMetadata:e,isFocal:t,tweet:a}=this.props,n=Ht.a.getOriginalTweet(a),i=this._getConversationPosition(),o=this._getIsConversationStart(),s=e&&e.ancestorConnector,r=e&&e.indents,l=t&&!!n.in_reply_to_status_id_str||i&&!o;return r?"top"===s:l},this._getWithBottomLine=()=>{const{conversationTreeMetadata:e,tweet:t}=this.props,a=Ht.a.getOriginalTweet(t),n=this._getConversationPosition(),i=e&&e.indents,o=e&&e.descendantConnector,s=n&&!n.isEnd;return i?o:!(!a.in_reply_to_status_id_str&&"ancestor"!==(null==n?void 0:n.position)&&this._isEdgeToEdgeEnabled)&&s},this._getFeatureConfigurationContextProviderValue=()=>{const{onMediaHashtagHighlightClick:e,promotedContent:t,promotedContentAdvertiser:a,tweet:n}=this.props,{featureSwitches:i}=this.context,o={highlightedHashtag:()=>na(n,i,zt.a.isPromoted(t)),avatarURIForHashtagHighlight:()=>function(e,t){if(e&&t.isTrue("responsive_web_hashtag_highlight_show_avatar"))return e.profile_image_url_https}(a,i),shouldUseSmallFontForHashtagHighlight:()=>i.isTrue("responsive_web_hashtag_highlight_use_small_font"),onMediaHashtagHighlightClick:e},s={c9sEnabled:()=>i.isTrue("c9s_enabled"),trustedFriendsEnabled:()=>i.isTrue("trusted_friends_consumption_enabled")},r=this._getWithTopLine(),l=this._getWithBottomLine(),c=!this.props.isFocal&&(r||l);return{...o,...s,withEdgeToEdgeContent:()=>!c&&i.isTrue("media_edge_to_edge_content_enabled"),withEdgeToEdgeTweetAnatomy:()=>i.isTrue("media_edge_to_edge_content_enabled"),headsUpVariant:()=>i.getStringValue("conversational_safety_heads_up_treatment_A_enabled"),misinfoLabelRevampTweaksEnabled:()=>i.isTrue("responsive_web_misinfo_label_revamp_tweaks_enabled"),sensitiveMediaWarningsEnabled:()=>i.isTrue("sensitive_tweet_warnings_enabled"),tweetRendersPromotedContentBadgeBelowHeader:()=>i.isTrue("responsive_web_promoted_badge_below_header"),socialContextRefreshEnabled:()=>this.context.featureSwitches.isTrue("social_context_and_topic_context_refresh_alignment_enabled")}},this._renderPromotedDetails=e=>{const{onPoliticalSponsorWebsiteClick:t,onPromotedDisclaimerLearnMoreClick:a,onPromotedIndicatorClick:n,promotedContent:i,promotedContentAdvertiser:o,tweet:r}=this.props;return a&&t&&n?s.a.createElement(Wt.a,{onPoliticalSponsorWebsiteClick:t,onPromotedDisclaimerLearnMoreClick:a,onPromotedIndicatorClick:n,promotedContent:i,promotedContentAdvertiser:o,style:Ea.promotedDetails,testID:me,tweet:r,withCircleIcon:e}):null},this._getPromoteButtonOnPress=e=>{const{onPromoteAgainButtonClick:t,onPromoteButtonClick:a}=this.props;return"EligibleWithPreviousCampaign"===e?t:a},this._renderBirdwatchPivot=()=>{const{tweet:e,withBirdwatchPivots:t}=this.props,a=Ht.a.getOriginalTweet(e);return a.birdwatch_pivot&&t&&this.context.featureSwitches.isTrue("responsive_web_birdwatch_pivots_enabled")?s.a.createElement(I,a.birdwatch_pivot):null},this._renderModeratedRepliesIcon=()=>{const{hasModeratedReplies:e,onModeratedIconClick:t,tweet:a}=this.props;return e?s.a.createElement(Vt.a,{link:`${a.permalink}/hidden`,onPress:t}):null},this._renderBirdwatchNotesIcon=()=>{const{onBirdwatchNotesIconClick:e,onBirdwatchNotesIconShown:t,tweet:a}=this.props;return!(a.birdwatch_pivot&&!0===this.context.featureSwitches.getValueWithoutScribeImpression("responsive_web_birdwatch_pivots_enabled"))&&a.has_birdwatch_notes&&this.context.featureSwitches.isTrue("responsive_web_birdwatch_consumption_enabled")&&this.context.featureSwitches.isTrue("responsive_web_birdwatch_contribution_enabled")?s.a.createElement(Ve,{onPress:e,onShow:t,tweetId:a.id_str}):null},this._getUsernameStackedLayoutEnabled=()=>this.props.isFocal||this._isEdgeToEdgeEnabled,this._handleSocialContextClick=()=>{const{saveAsRecentSearch:e,shouldStoreTypeaheadItem:t,socialContext:a}=this.props;if(e&&a&&t&&t(ye.a.ItemType.USER)){var n;const t=(null==(n=a.landingUrl)?void 0:n.url.match(Q.A.id))||"",i=a.text||"";e({topic:{id:t&&t[0],name:i,description:wa,type:ne.a.Topic}})}},this._renderTweetTextHWTweet=e=>{const{excludeCardUrl:t,hitHighlights:a,isFocal:n,linkify:o,onEntityClick:r,tweet:l,tweetTextSize:c,withCardLinks:d,withInlineMedia:u,withQuotedTweetLinks:h}=this.props,p=Ht.a.getOriginalTweet(l),m=Ht.a.hasInteractiveText(p),g=c||(m?"title4":e.size),b={...e,excludeCardUrl:t,hitHighlights:a,linkify:o,onEntityClick:r,size:g,style:m&&Ea.interactiveHighlightSpacer,transformUrl:this._transformUrl,unmentionedUserIds:p.unmentioned_user_ids,weight:m?"heavy":void 0,withCardLinks:d,withMediaLinks:!u,withQuoteLinks:h||Ht.a.isQuotedTweetUnavailable(p),withUnicodeEmojis:M.b};return s.a.createElement(Tt,null,s.a.createElement(Ue,i()({},b,{disableTranslation:p.user.protected,isFocal:n,lang:p.lang,onMediaTranslation:this._handleMediaTranslations,supplementalLang:p.supplemental_language,text:p.text,tweetId:p.id_str,withOriginalText:n})))},this._renderTweetText=e=>{const{excludeCardUrl:t,hitHighlights:a,isFocal:n,linkify:i,onEntityClick:o,tweet:r,tweetTextSize:l,withCardLinks:c,withInlineMedia:d,withQuotedTweetLinks:u}=this.props,h=Ht.a.getOriginalTweet(r),p=Ht.a.hasInteractiveText(h),m=l||(n||p?"title4":"body");return s.a.createElement(Tt,null,s.a.createElement(Ue,{disableTranslation:h.user.protected,displayTextRange:h.display_text_range,enrichments:h.enrichments,entities:h.entities,excludeCardUrl:t,hitHighlights:n?void 0:a,isFocal:n,lang:h.lang,linkify:!!n||i,nativeID:e,onEntityClick:o,onMediaTranslation:this._handleMediaTranslations,quotedTweetId:h.quoted_status&&h.quoted_status.id_str,quotedTweetPermalink:h.quoted_status_permalink,size:m,style:n?Ea.expandedTweetText:p&&Ea.interactiveHighlightSpacer,supplementalLang:h.supplemental_language,text:h.text,transformUrl:this._transformUrl,tweetId:h.id_str,unmentionedUserIds:h.unmentioned_user_ids,weight:p?"heavy":void 0,withCardLinks:n?void 0:c,withMediaLinks:n?void 0:!d,withOriginalText:n,withQuoteLinks:!n&&u||Ht.a.isQuotedTweetUnavailable(h),withUnicodeEmojis:M.b}))},this._handleMediaTranslations=e=>{this.setState({mediaAltTranslations:e})},this._transformUrl=e=>{var t;return this._transformPromotedUrl(e,null==(t=this.props.promotedContent)?void 0:t.click_tracking_info)}}render(){const{conversationTreeMetadata:e,forwardPivotInfo:t,hideConversationControlsEducationText:a,hideExclusivityInfoEducationTextInReplies:n,hideTrustedFriendsEducationTextInReplies:o,isFocal:r,loggedInUser:l,onBlur:d,onClick:u,onFocus:p,promotedContent:b,quotedTweetTombstoneInfo:_,readerModeAvailable:y,renderCurationActionMenu:f,showConversationHeadsUp:w,socialContext:C,to:v,tweet:T,withReaderModeBottomBar:E,withTimestamp:x,withTimestampLink:S,withUnreadStyles:I}=this.props,R=Ht.a.getOriginalTweet(T),{has_super_follower:P,quick_promote_eligibility:M,user:D}=R,L=null==M?void 0:M.eligibility,A=this._getIsQuickPromoteEligible(L),O=zt.a.isPromoted(b),F=!!O&&this.context.featureSwitches.isTrue("responsive_web_promoted_badge_below_header"),B=!!O&&this.context.featureSwitches.isTrue("responsive_web_promoted_badge_use_circle_icon"),N=!(!D.professional||!A),U="IneligibleCampaignRunning"===L||"IneligibleCampaignPaused"===L,j="string"==typeof v?{pathname:v}:v,H=e&&e.ancestorConnector,z=e&&e.indents,W=this._getWithTopLine(),V=this._getWithBottomLine(),G=W||V,K=G&&!r||!this._isEdgeToEdgeEnabled,q=j?{...j,anchorless:!0}:void 0,Q=r?"detail":"inline";return!r&&this.context.featureSwitches.isTrue("responsive_web_consumes_horizon_web_tweet_in_timelines")?s.a.createElement(Gt.b.Provider,{value:this._getFeatureConfigurationContextProviderValue()},s.a.createElement(Je.a,{forwardPivotInfo:t,tweet:T},s.a.createElement(Kt.a,{conversationTreeMetadata:e?{ancestorConnector:e.ancestorConnector,depth:e.depth,indents:e.indents}:void 0,link:k.canUseDOM?q:void 0,onBlur:d,onFocus:p,onPress:u,promotedContent:b,quotedTweetTombstoneInfo:_,renderActionMenu:f&&k.canUseDOM?f:ga.a,renderActionsBar:T.isPreview?()=>s.a.createElement(Y,{previewTweetId:T.id_str}):e=>s.a.createElement(s.a.Fragment,null,this._renderTweetActions({actionSize:e.actionSize,displayStyle:e.displayStyle,nativeID:e.nativeID,style:e.style,withCount:e.withCount,withAnalyticsAction:!0}),this.props.withReaderModeBottomBar?s.a.createElement(c.a,{style:Ea.readerBottomBar,testID:ge}):null),renderEducation:e=>s.a.createElement(s.a.Fragment,null,N&&s.a.createElement(m.a,{link:`${T.permalink}/quick_promote_web/intro`,onPress:this._getPromoteButtonOnPress(L),style:Ea.promoteButton,type:"primaryOutlined"},this._getPromoteButtonText(L)),s.a.createElement(tt,i()({},e,{hideConversationControlsEducationText:!!a,hideExclusivityInfoEducationTextInReplies:!!n,hideTrustedFriendsEducationTextInReplies:!!o,loggedInUser:l}))),renderHighlightedUserLabel:e=>{var t;return"AutomatedLabel"!==(null==(t=e.label)?void 0:t.userLabelType)||this.context.featureSwitches.isTrue("account_taxonomy_automated_label_enabled")?s.a.createElement(Kt.a.HighlightedUserLabel,e):null},renderPromotedIndicator:e=>s.a.createElement(Kt.a.PromotedIndicator,i()({},e,{withCircleIcon:B})),renderPromotionStatusBadge:U?e=>s.a.createElement(st,{nativeID:e.nativeID,status:this._getTweetPromotionStatus(L),style:Ea.promotionStatus}):()=>null,renderReplyContext:e=>this._renderReplyContext({nativeID:e.nativeID}),renderRichContent:e=>this._renderRichContent({nativeID:e.nativeID,withRoundMediaCorners:K}),renderSelfThreadCTA:()=>this._renderSelfThreadCTA(),renderSocialContext:e=>this._renderSocialContext({nativeID:e.nativeID}),renderText:e=>this._renderTweetTextHWTweet(e),renderTimestamp:x?e=>s.a.createElement(Kt.a.Timestamp,i()({},e,{link:S?e.link:void 0,nativeID:this._isEdgeToEdgeEnabled?void 0:e.nativeID})):ga.a,renderTombstone:e=>this._renderTombstoneHWTweet(e),renderUserAvatar:e=>this._renderAvatar(e.nativeID),renderUserName:e=>this._renderUserNameHWTweet(e),socialContext:C?{contextType:C.contextType,isSelfRetweet:C.isSelfRetweet,link:C.landingUrl?Object($.b)(C.landingUrl):void 0,name:C.name,screenName:C.screenName,text:C.text}:void 0,staticLinkConfig:null,testID:_e,tweet:T,withBottomLine:V,withTopLine:W,withUnreadStyles:I}))):s.a.createElement(qt.c.UseTweetA11yIds,{tweet:T},(([i,_])=>{const C=F?Ht.a.hasInteractiveText(R)?Ea.promotedIndicatorBelowHeaderWithInteractiveHighlights:Ea.promotedIndicatorBelowHeader:Ea.promotedIndicator,v=b&&O?s.a.createElement($t.a,{contentAuthorId:D.id_str,nativeID:i.promotedLabel,promotedContent:b,style:C,withCircleIcon:B}):null,S=U?s.a.createElement(st,{nativeID:i.promotionStatusLabel,status:this._getTweetPromotionStatus(L),style:Ea.promotionStatus}):null,M=e?s.a.createElement(h.b,{nativeID:i.conversationLevel,style:g.a.visuallyHidden},fa({conversationTreeDepth:e.depth.toString()})):null,A=R.tombstoneInfo||T.tombstoneInfo,j=s.a.createElement(s.a.Fragment,null,A?this._renderTombstone(i.tombstone,A):null,r||!A?s.a.createElement(s.a.Fragment,null,this._renderReplyContext({nativeID:i.replyContext}),s.a.createElement(c.a,null,this._renderTweetText(i.text)),s.a.createElement(c.a,null,this._renderRichContent({nativeID:i.richContent,withRoundMediaCorners:K}))):null);return s.a.createElement(Gt.b.Provider,{value:this._getFeatureConfigurationContextProviderValue()},s.a.createElement(Je.a,{forwardPivotInfo:t,tweet:T},s.a.createElement(Qt.a,{a11yDomIds:_,actionMenu:f&&k.canUseDOM?f():null,avatar:this._renderAvatar(i.avatar),footer:this._renderFooter(),header:this._renderHeader(i),indents:z,link:r||!k.canUseDOM?void 0:q,onBlur:d,onFocus:p,onPress:u,testID:_e,timestamp:O||this._getUsernameStackedLayoutEnabled()||!x?null:this._renderTweetRelativeTimestamp(i.timestamp),userFollowIndicators:P?s.a.createElement(Xt.a,{type:"superFollower"}):void 0,userLabel:this._renderUserLabel(D,i.userLabel),userName:this._renderUserName(i.username,i.timestamp),withBottomLine:V,withElbow:z?"side"===H:void 0,withFooterGap:!r,withFullWidthChildren:r||!G&&this._isEdgeToEdgeEnabled,withTopLine:W,withUnreadStyles:I},F&&r?this._renderPromotedDetails(B):null,F&&!r?v:null,M,j,N&&"inline"===Q&&s.a.createElement(m.a,{link:`${T.permalink}/quick_promote_web/intro`,onPress:this._getPromoteButtonOnPress(L),style:Ea.promoteButton,type:"primaryOutlined"},this._getPromoteButtonText(L)),this._renderFocalContent(F,N,S),"inline"===Q&&s.a.createElement(tt,{conversationControlLabelNativeID:i.conversationControlLabel,displayStyle:"inline",exclusivityInfoLabelNativeID:i.exclusivityInfoLabel,hideConversationControlsEducationText:!!a,hideExclusivityInfoEducationTextInReplies:!!n,hideTrustedFriendsEducationTextInReplies:!!o,loggedInUser:l,trustedFriendsLabelNativeID:i.trustedFriendsLabel,tweet:T}),T.isPreview?s.a.createElement(Y,{previewTweetId:T.id_str}):this._renderTweetActions({actionSize:r?"large":void 0,displayStyle:r?"block":void 0,nativeID:i.actionsBar,style:[r?Ea.actionBarFocalTweet:Ea.actionBar,r&&!y&&Ea.actionBarWithInlineReply],withAnalyticsAction:!r,withCount:!r}),this._renderReaderModeButton(),F||r?null:v,r?null:S,"detail"===Q&&s.a.createElement(tt,{conversationControlLabelNativeID:i.conversationControlLabel,displayStyle:"detail",exclusivityInfoLabelNativeID:i.exclusivityInfoLabel,hideConversationControlsEducationText:!!a,hideExclusivityInfoEducationTextInReplies:!!n,hideTrustedFriendsEducationTextInReplies:!!o,loggedInUser:l,showConversationHeadsUp:w,trustedFriendsLabelNativeID:i.trustedFriendsLabel,tweet:T}),E?s.a.createElement(c.a,{style:Ea.readerBottomBar,testID:ge}):null)))}))}_renderTweetRelativeTimestamp(e){const{promotedContent:t,tweet:a,withTimestampLink:n}=this.props,i=Ht.a.getOriginalTweet(a);return s.a.createElement(Yt.a,{link:n?{pathname:i.permalink,state:{contextTweetId:i.id_str,promotedContent:t}}:void 0,nativeID:e,timestamp:i.created_at})}_renderUserNameHWTweet(e){const{onAvatarClick:t,onScreenNameClick:a,tweet:n,withUserHoverCard:o,withUserName:r}=this.props,l=Ht.a.getOriginalTweet(n),{user:c}=l;return r?s.a.createElement(Kt.a.UserName,i()({},e,{onAvatarClick:t,onLinkClick:a,onScreenNameClick:a,withHoverCard:o&&!c.blocking,withLink:!!a})):null}_renderUserName(e,t){const{isFocal:a,onAvatarClick:n,onScreenNameClick:i,promotedContent:o,tweet:r,withUserHoverCard:l,withUserName:c}=this.props,d=Ht.a.getOriginalTweet(r),{user:u}=d,h=zt.a.isPromoted(o);return c?s.a.createElement(Jt.a,{isProtected:u.protected,isVerified:u.verified,name:u.name,nativeID:e,onAvatarClick:n,onLinkClick:i,onScreenNameClick:i,promotedContent:o,screenName:u.screen_name,screenNameSuffix:h||a||!this._isEdgeToEdgeEnabled?null:this._renderTweetRelativeTimestamp(),withHoverCard:l&&!u.blocking,withLink:!!i,withStackedLayout:this._getUsernameStackedLayoutEnabled()}):null}_renderUserLabel(e,t){const{highlightedLabel:a}=e,n="AutomatedLabel"===(null==a?void 0:a.userLabelType),i=!!n&&this.context.featureSwitches.isTrue("account_taxonomy_automated_label_enabled");return!a||n&&!i?null:s.a.createElement(Zt.a,{label:a,nativeID:t})}_renderFocalContent(e,t,a){const{isFocal:n,onAnalyticsClick:i,tweet:o}=this.props,r=Ht.a.getOriginalTweet(o),{created_at:l,place:d,quick_promote_eligibility:u,source:h,source_name:p}=r,g=null==u?void 0:u.eligibility,b=this.context.featureSwitches.isTrue("responsive_web_reactions_enabled");return n?s.a.createElement(s.a.Fragment,null,s.a.createElement(c.a,{style:Ea.footerContainer},s.a.createElement(c.a,{style:Ea.footerContent},s.a.createElement(ea.a,{linkColor:"gray700",place:d&&d.full_name,placeLink:d&&d.id?`/places/${d.id}`:void 0,source:h&&p?p:void 0,sourceLink:"https://help.twitter.com/using-twitter/how-to-tweet#source-labels",style:Ea.timeLocSource,timestamp:l,timestampLink:r.permalink}),s.a.createElement(c.a,{style:Ea.footerIcons},this._renderModeratedRepliesIcon(),this._renderBirdwatchNotesIcon())),e?null:this._renderPromotedDetails(),a),s.a.createElement(Ye,{endControl:t?s.a.createElement(m.a,{link:`${o.permalink}/quick_promote_web/intro`,onPress:this._getPromoteButtonOnPress(g),style:Ea.tweetAnalyticsPromoteButton,type:"primaryFilled"},this._getPromoteButtonText(g)):null,loggedInUserId:this.context.loggedInUserId,onAnalyticsClick:i,tweet:r}),s.a.createElement(Ct,{isNonCompliantTweet:"non_compliant"===r.limited_actions,tweetId:r.id_str,tweetLikeCount:r.favorite_count,tweetPermalink:r.permalink,tweetQuoteTweetCount:r.quote_count,tweetReactionCount:r.reaction_count,tweetRetweetCount:r.retweet_count,withReactions:b})):null}_renderFooter(){const{isFocal:e,topic:t,topicFollowPrompt:a}=this.props;return s.a.createElement(s.a.Fragment,null,this._renderSelfThreadCTA(),!e&&t&&a&&this.context.featureSwitches.isTrue("topics_context_controls_inline_prompt_enabled")?le({defaultRef:this._defaultInlinePromptRef,topic:t,topicFollowPrompt:a}):null)}_renderHeader(e){const{isFocal:t,topic:a,topicFollowPrompt:n}=this.props;return s.a.createElement(s.a.Fragment,null,t&&n&&a&&this.context.featureSwitches.isTrue("topics_context_controls_inline_prompt_enabled")?le({defaultRef:this._defaultInlinePromptRef,topic:a,topicFollowPrompt:n}):this._renderSocialContext({nativeID:e.socialContext}))}_renderSelfThreadCTA(){const{onSelfThreadClick:e,onSelfThreadImpression:t,tweet:a}=this.props,n=Ht.a.getOriginalTweet(a),i=this._shouldShowSelfThreadWithAvatar();return this._shouldShowSelfThread()?s.a.createElement(de.a,{avatarUrl:i?n.user.profile_image_url_https:void 0,onClick:e,onImpression:t,style:Ea.selfThreadCTA,to:a.permalink,userName:n.user.screen_name,withConversationLine:i}):null}_shouldShowSelfThread(){const{conversationPosition:e,tweet:t,withSelfThread:a}=this.props,n=Ht.a.getOriginalTweet(t);return a&&!e&&n.self_thread&&!t.isPreview}_shouldShowSelfThreadWithAvatar(){const{shouldSelfThreadIncludeAvatar:e,tweet:t}=this.props,a=Ht.a.getOriginalTweet(t);return this._shouldShowSelfThread()&&e&&!a.in_reply_to_status_id_str}_getConversationPosition(){return this._shouldShowSelfThreadWithAvatar()?{isStart:!0,isEnd:!1}:this.props.conversationPosition}_getIsConversationStart(){const{tweet:e}=this.props,t=this._getConversationPosition(),a=Ht.a.getOriginalTweet(e);return t&&(t.isStart||!a.in_reply_to_status_id_str)}_getIsQuickPromoteEligible(e){switch(e){case"Eligible":case"EligibleWithPreviousCampaign":return!0;default:return!1}}_getPromoteButtonText(e){switch(e){case"Eligible":return Ca;case"EligibleWithPreviousCampaign":return va;default:return Object(ce.a)(new Error(`Tweet promote button should never render when quick promote eligibility is ${e||"null"}`),{level:"warning"}),Ca}}_getTweetPromotionStatus(e){switch(e){case"IneligibleCampaignRunning":return"in-progress";case"IneligibleCampaignPaused":return"paused";default:return Object(ce.a)(new Error(`Tweet promotion badge should never render when quick promote eligibility is ${e||"null"}`),{level:"warning"}),"in-progress"}}_renderSocialContext({nativeID:e}){const{conversationPosition:t,injectedFeedbackItem:a,isFocal:n,onUndoTopicNotInterestedClick:o,promotedContent:l,socialContext:c,topic:d,withSocialContext:u}=this.props;if(!u||!c||zt.a.isPromoted(l))return null;const{featureSwitches:h}=this.context,p=t&&!this._getIsConversationStart(),{contextType:m,isSelfRetweet:g,landingUrl:b,name:_,screenName:y,text:f,topicContext:w}=c,C=b?Object($.b)(b):void 0;if(w&&d&&function({featureSwitches:e,isExpanded:t,topic:a,topicContext:n}){return Object(ra.c)(n)&&t&&a.not_interested&&(!(e.getStringValue("topics_context_controls_implicit_variation")in da)||e.isTrue("topics_context_controls_implicit_context_x_enabled"))}({featureSwitches:h,isExpanded:n,topic:d,topicContext:w}))return s.a.createElement(ua,{onUndoTopicNotInterestedClick:o});const v={contextType:m,iconSize:"large",withLeftPadding:this.context.featureSwitches.isTrue("social_context_and_topic_context_refresh_alignment_enabled")?p||!1:!p&&!n,text:f},T=w&&d?function(e){var t;const{featureSwitches:a,iconSize:n,injectedFeedbackItem:i,isExpanded:o,socialContext:l,topic:c,withLeftPadding:d}=e,{contextType:u,landingUrl:h,topicContext:p}=l,m=h?Object($.b)(h):void 0,g=p&&Object(ra.b)(p),b=p&&Object(ra.c)(p),_=a.isTrue("media_edge_to_edge_content_enabled"),y=_?he.a.TextOnly:he.a.Topic,f=null==i||null==(t=i.markNotInterestedTopic)?void 0:t.onClick,w=p?Object(ia.a)(p):void 0,C=null!=p&&p.bannerText?s.a.createElement(r.a,p.bannerText):l.text;if(g&&a.getStringValue("topics_context_controls_followed_variation")in da){const e=da[a.getStringValue("topics_context_controls_followed_variation")];return{iconSize:n,contextType:y,rightControl:s.a.createElement(ha,{bannerText:l.topicContext&&l.topicContext.bannerText,label:e,link:m,linkText:l.topicContext&&l.topicContext.linkText,topic:c}),withBottomBorder:!1,withLeftPadding:!(a.isTrue("social_context_and_topic_context_refresh_alignment_enabled")||_),topicData:w,text:C}}if(b){if(a.getStringValue("topics_context_controls_implicit_variation")in da){var v;const e=da[a.getStringValue("topics_context_controls_implicit_variation")];return{iconSize:n,contextType:y,rightControl:s.a.createElement(ha,{bannerText:l.topicContext&&l.topicContext.bannerText,label:e,link:m,linkText:null==(v=l.topicContext)?void 0:v.linkText,onNotInterestedPress:f,topic:c,withRightControl:a.isTrue("topics_context_controls_implicit_context_x_enabled")}),topicData:w,text:C,withBottomBorder:!1,withLeftPadding:!(a.isTrue("social_context_and_topic_context_refresh_alignment_enabled")||_)}}{const e=s.a.createElement(pa,{isExpanded:o,onNotInterestedPress:f,topic:c});return o?{bottomControl:e,contextType:u,iconSize:"xLarge",iconStyle:ma.iconStyle,textColor:"text",textSize:"headline1",text:l.text,topicData:void 0,withBottomBorder:!0,withLeftPadding:d}:{contextType:u,iconSize:n,iconStyle:ma.iconStyle,rightControl:e,topicData:w,text:l.text,withBottomBorder:!0,withLeftPadding:d}}}return{contextType:u,iconSize:n,text:l.text,withLeftPadding:d}}({featureSwitches:h,iconSize:v.iconSize,injectedFeedbackItem:a,isExpanded:n,socialContext:c,topic:d,withLeftPadding:v.withLeftPadding}):v;return s.a.createElement(ue.a,i()({},T,{link:C,nativeID:e,onClick:m===he.a.Topic?this._handleSocialContextClick:void 0,retweetData:{name:_,screenName:y,isSelfRetweet:g},style:Ea.socialContext,testID:be,weight:"bold"}))}_renderReplyContext({nativeID:e}){var t;const{conversationPosition:a,conversationTreeMetadata:n,isFocal:i,onReplyContextClick:o,replyContext:r,tweet:l}=this.props,c=Ht.a.getOriginalTweet(l),d=c.self_thread;return this._shouldShowSelfThread()||r!==ta.a.ReplyContextTypes.Isolated||!c.in_reply_to_status_id_str||n&&!i||d&&a&&!a.isStart||d&&i?null:s.a.createElement(ta.a,{displayTextRange:c.display_text_range,inReplyToName:c.in_reply_to_name,inReplyToScreenName:c.in_reply_to_screen_name,inReplyToStatusIdStr:c.in_reply_to_status_id_str,inReplyToUserIdStr:c.in_reply_to_user_id_str,nativeID:e,onClick:o,style:[Ea.replyContext,i&&Ea.replyContextBig],tweetPermalink:c.permalink,unmentionedUserIds:c.unmentioned_user_ids,userMentionsEntities:null==(t=c.entities)?void 0:t.user_mentions})}_renderReaderModeButton(){const{readerModeAvailable:e,tweet:t}=this.props;return e?s.a.createElement(c.a,{style:Ea.actionBarWithInlineReply},s.a.createElement(ae.a,{focalTweet:t,isExpanded:!0,readerModeAvailable:!!e})):null}_renderTweetActions({actionSize:e,displayStyle:t,nativeID:a,style:n,withAnalyticsAction:i,withCount:o}){const{allowDownvote:r,bookmarkFolderId:l,contextTweet:c,enableKeyboardShortcuts:d,forwardPivotInfo:u,onLikeSuccess:h,onReplyPress:p,promotedContent:m,tweet:g,withActionsDisabled:b,withRemoveFromBookmarks:_}=this.props;return this.props.withActions?s.a.createElement(Ge.a,{actionSize:e,allowDownvote:r,bookmarkFolderId:l,displayStyle:t,enableKeyboardShortcuts:d,forwardPivotInfo:g.softIntervention||u,likeActionIconContainerRef:this._iconContainerRef,nativeID:a,onLikeSuccess:h,onReplyPress:p,promotedContent:m,style:n,tweet:c||g,withActionsDisabled:b,withAnalyticsAction:i,withCount:o,withRemoveFromBookmarks:_}):null}_renderAvatar(e){const{onAvatarClick:t,onScreenNameClick:a,promotedContent:n,tweet:i,withAvatarLink:o,withUserAvatar:r,withUserHoverCard:l,withUserPresence:c}=this.props,d=Ht.a.getOriginalTweet(i),{user:u}=d,h=Ht.a.getOriginalTweet(i).user.id_str;return r?s.a.createElement(Ut,{avatarRef:this._defaultInlinePromptRef,nativeID:e,onClick:t,onHoverCardScreenNameClick:a,promotedContent:n,screenName:u.screen_name,uri:u.profile_image_url_https,userId:h,withHoverCard:l&&!u.blocking,withLink:o,withNftAvatar:u.has_nft_avatar,withUserPresence:c}):null}_renderTombstoneHWTweet({actionLink:e,actionText:t,children:a,nativeID:n,style:i}){const{conversationTreeMetadata:o,onClick:r}=this.props;return s.a.createElement(c.a,{nativeID:n,style:i},s.a.createElement(J.a,{actionLink:e,actionText:t,conversationTreeMetadata:o,inline:!0,onClick:r},a))}_renderTombstone(e,t){const{conversationTreeMetadata:a,isFocal:n,onClick:i,tweet:o}=this.props,l=Ht.a.getOriginalTweet(o),{richText:d}=t;return l&&t&&d?s.a.createElement(c.a,{nativeID:e,style:Ea.spacingVertical},s.a.createElement(J.a,{actionLink:n?void 0:l.permalink,actionText:n?void 0:ya,conversationTreeMetadata:a,inline:!0,onClick:n?void 0:i},s.a.createElement(r.a,{entities:d.entities,rtl:d.rtl,text:d.text}))):null}_hasPhoto(){const{tweet:e}=this.props,t=Ht.a.getOriginalTweet(e),a=t.extended_entities&&t.extended_entities.media;return!!(a&&a.length>0)&&a.some((e=>"photo"===e.type))}_quoteTweetHasPhoto(){const{tweet:e}=this.props,t=Ht.a.getOriginalTweet(e);return!!(t.quoted_status&&t.quoted_status.entities&&t.quoted_status.entities.media&&t.quoted_status.entities.media.length>0&&t.quoted_status.entities.media.some((e=>"photo"===e.type)))}_renderRichContent({nativeID:e,withRoundMediaCorners:t}){const{featureSwitches:a}=this.context;let{withActionsDisabled:n}=this.props;const{enableKeyboardShortcuts:i,forwardPivotInfo:o,inlineCalloutInfo:r,innerForwardPivotInfo:l,isFocal:c,linkableQuotedTweet:d,onCardLinkClick:u,onMediaClick:h,onQuoteTweetClick:p,preventVideoPlayback:m,promotedContent:g,quoteTweetSocialContextProps:b,quotedTweetTombstoneInfo:_,tweet:y,withCardLinks:f,withInlineMedia:w,withUserHoverCard:C}=this.props,v=c?"DETAIL":"TIMELINE",T=(this._hasPhoto()||this._quoteTweetHasPhoto())&&!!jt.b.isDesktopOS()&&!c,E=this.context.featureSwitches.isTrue("responsive_web_reactions_enabled"),x=Ht.a.getOriginalTweet(y);return n=n||Object(qe.b)(a,x,qe.a.VoteOnPoll),s.a.createElement(s.a.Fragment,null,s.a.createElement(aa.a,{cardCacheLocationKey:v,displayMediaMetadata:c,enableKeyboardShortcuts:i,forwardPivotInfo:y.softIntervention||o,inlineCalloutInfo:r,innerForwardPivotInfo:l,isMediaMaxHeightEnabled:T,loggedInUserId:this.context.loggedInUserId,mediaAltTranslations:this.state.mediaAltTranslations,mediaCacheLocationKey:v,nativeID:e,onCardLinkClick:u,onMediaClick:h,onQuoteTweetClick:p,preventVideoPlayback:m,promotedContent:g,quoteTweetSingleImageMinAspectRatio:_a,quoteTweetSocialContextProps:b,quotedTweetTombstoneInfo:_,renderQuoteTweetTombstone:e=>s.a.createElement(te,e),singleImageMaxAspectRatio:ba,singleImageMinAspectRatio:c?.1:_a,tweet:y,withActionsDisabled:n,withAltTextBadge:this.context.featureSwitches.isTrue("responsive_web_alt_text_badge_enabled"),withCardLinks:f,withCenterCrop:!0,withCondensedQuoteTweet:!c&&Ht.a.hasMedia(x,!w),withMediaTagsIcon:c,withQuoteTweetHeaderLinks:!k.canUseDOM,withQuoteTweetLink:d,withQuoteTweetMedia:w,withReactions:E,withRoundMediaCorners:t,withTweetMedia:w,withUserHoverCard:C}),this._renderBirdwatchPivot())}}Ta.contextType=b.a,Ta.displayName="Tweet",Ta.defaultProps={displayBlocked:!1,isFocal:!1,linkify:!0,onBirdwatchNotesIconClick:U.a,onModeratedIconClick:U.a,onModeratedIconShown:U.a,replyContext:ta.a.ReplyContextTypes.Isolated,withActions:!1,withAvatarLink:!0,withBirdwatchPivots:!0,withCardLinks:!1,withInlineMedia:!0,withQuotedTweetLinks:!1,withRemoveFromBookmarks:!1,withSocialContext:!1,withTimestampLink:!0,withUserHoverCard:!0,withUserAvatar:!0,withUserName:!0,withTimestamp:!0};const Ea=g.a.create((e=>({replyContextBig:{marginTop:e.spaces.space12,marginBottom:0},replyContext:{marginBottom:e.spaces.space2},selfThreadCTA:{marginHorizontal:`calc(-1 * ${e.componentDimensions.gutterHorizontal})`},innerRow:{alignItems:"baseline",flexDirection:"row",flexShrink:1},actionBar:{marginTop:e.spaces.space12},actionBarFocalTweet:{borderTopColor:e.colors.borderColor,borderTopStyle:"solid",borderTopWidth:e.borderWidths.small,height:e.spaces.space48},actionsBarNarrow:{minWidth:250,marginRight:"auto"},actionBarWithInlineReply:{borderBottomColor:e.colors.borderColor,borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small},promoteButton:{marginTop:e.spaces.space12},tweetAnalyticsPromoteButton:{marginVertical:e.spaces.space8},promotedIndicator:{marginTop:e.spaces.space12},promotedIndicatorBelowHeader:{marginBottom:e.spaces.space8},promotedIndicatorBelowHeaderWithInteractiveHighlights:{marginBottom:e.spaces.space4},promotedDetails:{marginTop:e.spaces.space4},promotionStatus:{marginTop:e.spaces.space12},socialContext:{marginBottom:e.spaces.space4,marginTop:`-${e.spaces.space4}`},spacingVertical:{marginVertical:e.spaces.space4},followTopicButton:{justifyContent:"center"},expandedTweetText:{marginTop:e.spaces.space12},footerContainer:{marginVertical:e.spaces.space16},footerContent:{alignItems:"center",flexDirection:"row",justifyContent:"space-between"},footerIcons:{flexDirection:"row"},interactiveHighlightSpacer:{marginTop:e.spaces.space8},readerBottomBar:{borderBottomColor:e.colors.nestedBorderColor,borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small,marginTop:e.spaces.space20,width:e.spaces.space32},timeLocSource:{marginRight:e.spaces.space12},topicFollowPrompt:{marginBottom:e.spaces.space12,marginTop:`-${e.spaces.space8}`}})));t.b=q(Ta)},CDB5:function(e,t,a){"use strict";a.d(t,"m",(function(){return y})),a.d(t,"l",(function(){return w})),a.d(t,"f",(function(){return v})),a.d(t,"d",(function(){return E})),a.d(t,"g",(function(){return x})),a.d(t,"e",(function(){return I})),a.d(t,"i",(function(){return R})),a.d(t,"j",(function(){return P})),a.d(t,"k",(function(){return M})),a.d(t,"h",(function(){return D})),a.d(t,"a",(function(){return A})),a.d(t,"b",(function(){return F})),a.d(t,"c",(function(){return U}));a("kYxP");var n=a("AspN"),i=a("xPna"),o=a("oEOe"),s=a("xCUF"),r=a("ude7"),l=a("07FG"),c=a("Ssj5"),d=a("fEA7"),u=a.n(d),h=a("uKEd"),p=a("lnti"),m=a("/NU0");const g="dmComposer",b={};const _=e=>{const{conversation_id:t,id:a,localMediaId:n,recipient_ids:i,sender_id:o,text:s,attachment:r={},error:l}=e,c=Date.now().toString();return{conversation_id:t,recipient_ids:i,error:l,id:a,is_draft:!0,message_data:{attachment:r,localMediaId:n,sender_id:o,text:s,time:c},type:"message",time:c}},y=e=>(t,a,{api:c})=>{const{senderId:d,cardUrl:g,conversationId:b,localMediaId:y,recipients:f=[],requestId:w=u.a.v1(),tweetAttachment:C,quickReply:v,...T}=e||{};t(H(b));const x=a(),S=y||k(a(),b),[I]=n.k(x,S),{mediaFile:R,mediaMetadata:P}=I||{},M=f.length>0&&f.join(","),L={};R&&R.isGif?L.extraInitParams="&media_category=dm_gif":R&&R.isVideo&&(L.extraInitParams="&media_category=dm_video");const A=n.p(S,L),O=[t(A)],F=D(x,b),{found_media_origin:B}=F||{};return R&&R.isGif&&O.push(Object(r.a)(R)),Promise.all(O).then((([[a],r])=>{const u=(null==P?void 0:P.altText)||(null==P?void 0:P.defaultAltText),y=!!u;return(a&&(B||y)?t(n.m({media_id:a.uploadId,found_media_origin:B,...!!y&&{alt_text:{text:u}}})):Promise.resolve()).then((()=>{const{id_str:n}=C||{},u={};if(a){const{mediaFile:e={}}=a,t={original_info:{width:e.width,height:e.height},sizes:[{h:e.height,w:e.width,resize:"fit"}]};e.isImage?u.photo={...t,media_url_https:e.url}:e.isGif?u.animated_gif={...t,media_url_https:r,type:"animated_gif"}:e.isVideo&&(u.video={...t,media_url_https:e.url,type:"video"})}else C&&(u.tweet={status:n});const{uploadId:y}=a||{},f=_({attachment:u,conversation_id:b,id:w,recipient_ids:M,sender_id:d,text:e.text}),x={...T,...Object(l.a)(g)&&{card_uri:g},conversation_id:b,...!n&&{media_id:y},recipient_ids:M,request_id:w,tweet_id:n};v&&(x["quick_reply_response[options][id]"]=v.id,x["quick_reply_response[options][selected_id]"]=v.selected_id);const I=Object(p.a)([W(b),{type:s.c.REQUEST},{type:"rweb/dmComposer/SEND_MESSAGE_REQUEST"},b&&Object(h.b)(b,w,f)]);return t(I),c.DirectMessages.sendMessage(x).then((a=>{const{cards:n,entries:o,tweets:r,users:l}=a.entities,{conversations:c}=a.result;Object(m.a)(S)&&t(U(b,S));const d=Object(p.a)([{type:s.c.SUCCESS},...Object(i.a)({conversations:c,entries:o,users:l,tweets:r,cards:n}),{type:"rweb/dmComposer/SEND_MESSAGE_SUCCESS"},b&&Object(h.j)(b,w,e),E(b)]);return t(d),Promise.resolve(Object.values(a.entities.entries)[0].conversation_id)}),(a=>{const n=_({attachment:u,conversation_id:b,error:!0,id:w,localMediaId:S,recipient_ids:M,sender_id:d,text:e.text}),i=Object(p.a)([{type:s.c.SUCCESS},{type:"rweb/dmComposer/SEND_MESSAGE_FAILURE"},b&&Object(h.b)(b,w,n)]);return t(i),Object(o.e)(t,a,"ACTION_SEND_DM")}))}),(e=>(t(G(b)),e.type="metadata",Promise.reject(e))))}),(e=>(t(Object(p.a)([Object(m.a)(S)&&U(b,S),G(b)])),Promise.reject(e))))},f=(e,t)=>e.dmComposer[t],w=(e,t)=>{const a=f(e,t);return a?a.text:null},C="rweb/dmComposer/SAVE_TEXT",v=(e,t)=>({type:C,conversationId:e,text:t}),T="rweb/dmComposer/REMOVE_TEXT",E=e=>({type:T,conversationId:e}),x=(e,t)=>{const a=f(e,t);return a?a.cardUrl:null},S="rweb/dmComposer/SAVE_CARD_URL",I=(e,t)=>({type:S,conversationId:e,cardUrl:t}),k=(e,t)=>{const a=f(e,t);return a?a.mediaId:null},R=(e,t)=>{const a=n.k(e,k(e,t));return a.length>0?a[0]:null},P=(e,t)=>{const a=f(e,t);return!!a&&a.isUploading},M=(e,t)=>n.l(e,k(e,t)),D=(e,t)=>{const a=f(e,t);return a?a.gifMetadata:null},L="rweb/dmComposer/ADD_MEDIA",A=(e,[t],a)=>({payload:{isUploading:!1,mediaId:t,gifMetadata:a},type:L,conversationId:e}),O="rweb/dmComposer/CANCEL_UPLOAD",F=e=>({type:O,conversationId:e}),B="rweb/dmComposer/REMOVE_MEDIA",N=e=>({type:B,conversationId:e}),U=(e,t)=>a=>{a(n.i(t)),a([F(e),N(e)])},j="rweb/dmComposer/UPLOAD_REQUEST",H=e=>({type:j,conversationId:e}),z="rweb/dmComposer/UPLOAD_SUCCESS",W=e=>({type:z,conversationId:e}),V="rweb/dmComposer/UPLOAD_FAILURE",G=e=>({type:V,conversationId:e});c.a.register({[g]:function(e=b,t){const a=t.conversationId||"new_group";switch(t.type){case L:{const n=e[a]||{cardUrl:null,gifMetadata:null,isUploading:!1,mediaId:null,text:null};return{...e,[a]:{...n,...t.payload}}}case j:{const t=e[a]||{cardUrl:null,gifMetadata:null,isUploading:!1,mediaId:null,text:null};return{...e,[a]:{...t,isUploading:!0}}}case O:{const t=e[a]||{cardUrl:null,gifMetadata:null,isUploading:!1,mediaId:null,text:null};return{...e,[a]:{...t,isUploading:!1}}}case V:case z:case B:{const t=e[a]||{cardUrl:null,gifMetadata:null,isUploading:!1,mediaId:null,text:null};return{...e,[a]:{...t,isUploading:!1,mediaId:null,gifMetadata:void 0}}}case C:{const n=e[a]||{cardUrl:null,gifMetadata:null,isUploading:!1,mediaId:null,text:null};return{...e,[a]:{...n,text:t.text}}}case S:{const n=e[a]||{cardUrl:null,gifMetadata:null,isUploading:!1,mediaId:null,text:null};return{...e,[a]:{...n,cardUrl:t.cardUrl}}}case T:{const t=e[a]||{cardUrl:null,gifMetadata:null,isUploading:!1,mediaId:null,text:null};return{...e,[a]:{...t,text:null}}}default:return e}}})},DVtB:function(e,t,a){"use strict";a.d(t,"b",(function(){return d})),a.d(t,"a",(function(){return h})),a.d(t,"c",(function(){return p}));a("kYxP");var n=a("oEOe"),i=a("kGix"),o=a("Ssj5");const s="trustedFriends",r=Object.freeze({REQUEST:"rweb/trustedFriendsLists/FETCH_TRUSTED_FRIENDS_LISTS_REQUEST",SUCCESS:"rweb/trustedFriendsLists/FETCH_TRUSTED_FRIENDS_LISTS_SUCCESS",FAILURE:"rweb/trustedFriendsLists/FETCH_TRUSTED_FRIENDS_LISTS_FAILURE"}),l=Object.freeze({REQUEST:"rweb/trustedFriendsLists/CREATE_TRUSTED_FRIENDS_LIST_REQUEST",SUCCESS:"rweb/trustedFriendsLists/CREATE_TRUSTED_FRIENDS_LIST_SUCCESS",FAILURE:"rweb/trustedFriendsLists/CREATE_TRUSTED_FRIENDS_LIST_FAILURE"}),c="rweb/trustedFriendsLists/SET_TRUSTED_FRIENDS_LIST",d=e=>e.trustedFriends.lists,u=()=>(e,t,{api:a})=>n.b(e,{request:a.TrustedFriends.createTrustedFriendsList})({actionTypes:l,context:"CREATE_TRUSTED_FRIENDS_LIST"}),h=()=>(e,t)=>{const a=t(),i=d(a);(i.length?i[0]:void 0)||e(((e,t,{api:a})=>n.b(e,{request:a.TrustedFriends.fetchAuthenticatedUserTFLists})({actionTypes:r,context:"FETCH_TRUSTED_FRIENDS_LISTS"}))).then((t=>{!t.authenticated_user_trusted_friends_lists.length&&u&&e(u())}))},p=e=>(t,a)=>{const n=a(),[i]=d(n);if(i){const a={...i,member_count:e};t({payload:a,type:c})}},m=Object.freeze({lists:[],fetchStatus:i.a.NONE});o.a.register({[s]:function(e=m,t){switch(t.type){case r.REQUEST:return{...e,fetchStatus:i.a.LOADING};case r.FAILURE:return{...e,error:t.payload,fetchStatus:i.a.FAILED};case r.SUCCESS:if(t.payload)return{...e,lists:t.payload.authenticated_user_trusted_friends_lists,error:null,fetchStatus:i.a.LOADED};break;case l.REQUEST:return{...e,fetchStatus:i.a.LOADING};case l.FAILURE:return{...e,error:t.payload,fetchStatus:i.a.FAILED};case l.SUCCESS:if(t.payload)return{...e,lists:[t.payload.trusted_friends_list_create],error:null,fetchStatus:i.a.LOADED};break;case c:if(t.payload)return{...e,lists:[t.payload]};break;default:return e}return e}})},Drq4:function(e,t,a){"use strict";var n=a("ERkP"),i=a.n(n),o=a("Lsrn"),s=a("k/Ka");const r=(e={})=>Object(s.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[o.a.root,e.style],viewBox:"0 0 24 24"},i.a.createElement("g",null,i.a.createElement("circle",{cx:"12",cy:"6.674",r:"1.889"}),i.a.createElement("path",{d:"M9.828 14.817l-1.62 3.342c-.138.41.083.857.495.995s.858-.083.996-.495l1.602-3.176c.28-.557 1.076-.556 1.356 0l1.608 3.195c.138.41.584.632.996.494.412-.138.633-.584.495-.996l-1.62-3.342.032.07-.123-.262c-.483-1.027-.535-2.19-.16-3.24.106-.302.392-.505.712-.505h2.032c.434 0 .786-.353.786-.787 0-.434-.352-.786-.786-.786H7.37c-.435 0-.787.352-.787.786 0 .434.352.786.786.786h1.985c.32 0 .606.2.713.503.374 1.05.323 2.214-.158 3.24l-.125.263"}),i.a.createElement("path",{d:"M12 22.75C6.072 22.75 1.25 17.928 1.25 12S6.072 1.25 12 1.25 22.75 6.072 22.75 12 17.928 22.75 12 22.75zm0-20C6.9 2.75 2.75 6.9 2.75 12S6.9 21.25 12 21.25s9.25-4.15 9.25-9.25S17.1 2.75 12 2.75z"})));r.metadata={width:24,height:24},t.a=r},EeFI:function(e,t,a){"use strict";var n=a("97Jx"),i=a.n(n),o=a("ERkP"),s=a.n(o),r=a("3XMw"),l=a.n(r),c=a("MWbm"),d=a("Qwev"),u=a("21U8"),h=a("rHpw"),p=a("1auM"),m=a("eYns");const g=l.a.gff1f69e;class b extends s.a.Component{constructor(e){super(e),this.state={orientedImage:null}}componentDidMount(){const{media:e}=this.props,{originalMediaFile:t={}}=e||{};t&&t instanceof p.a&&Object(m.b)(t).then((e=>new p.a(e).withDimensionsAndOrientation().then((e=>{this.setState({orientedImage:e})}))))}render(){return this.state.orientedImage?this._renderCropper():s.a.createElement(d.a,{accessibilityLabel:g,style:_.activityIndicator})}_renderCropper(){const{cropperRef:e,defaultAspectRatio:t,defaultCropData:a,media:n,withAspectRatioOptions:i,withZoomControl:o}=this.props,{orientedImage:r}=this.state,{cropData:l,originalMediaFile:d={}}=n||{};return r?s.a.createElement(c.a,{style:_.cropper},s.a.createElement(u.a,{circle:this.props.circle,defaultAspectRatio:a&&a.aspectRatio||l&&l.aspectRatio||t,defaultCropData:a||l,image:{src:r.url,width:d.width,height:d.height},ref:e,withAspectRatioOptions:i,withZoomControl:o})):null}}const _=h.a.create((e=>({cropper:{backgroundColor:e.colors.navigationBackground,flexGrow:1},activityIndicator:{flexGrow:1}})));t.a=s.a.forwardRef(((e,t)=>s.a.createElement(b,i()({},e,{cropperRef:t}))))},G31s:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a("ERkP"),i=a.n(n),o=a("pKoL"),s=a("MWbm"),r=a("rHpw"),l=a("ZvMt"),c=a("9Xij"),d=a("v6aA");class u extends i.a.Component{render(){const{media:e,style:t}=this.props;return i.a.createElement(s.a,{style:t},this._renderImageGroup(e.length))}_renderImageGroup(e){switch(e){case 1:return this._renderGroupOf1();case 2:return this._renderGroupOf2();case 3:return this._renderGroupOf3();case 4:return this._renderGroupOf4();default:return null}}_renderGroupOf1(){const{media:e}=this.props,t=e&&!!e[0].mediaFile,{height:a,width:n}=e&&!t&&e[0].externalMediaDetails||{};let o=r.a.theme.aspectRatios.landscape;if(t){var d,u;const t=r.a.theme.aspectRatios.minTimelineImage,a=r.a.theme.aspectRatios.maxTimelineImage;o=l.a.getImageAspectRatio(t,a,{width:null==(d=e[0].mediaFile)?void 0:d.width,height:null==(u=e[0].mediaFile)?void 0:u.height})}return i.a.createElement(c.a,{ratio:t?o:n/a},i.a.createElement(s.a,{style:h.mediaPreviewWrapper},this._renderMediaAtIndex(0)))}_renderGroupOf2(){return i.a.createElement(c.a,{ratio:r.a.theme.aspectRatios.landscape},i.a.createElement(s.a,{style:h.mediaPreviewWrapper},this._renderMediaAtIndex(0,h.gutterRight),this._renderMediaAtIndex(1)))}_renderGroupOf3(){return i.a.createElement(c.a,{ratio:r.a.theme.aspectRatios.landscape},i.a.createElement(s.a,{style:h.mediaPreviewWrapper},this._renderMediaAtIndex(0,h.gutterRight),this._renderColumnWithIndices([1,2])))}_renderGroupOf4(){return i.a.createElement(c.a,{ratio:r.a.theme.aspectRatios.landscape},i.a.createElement(s.a,{style:h.mediaPreviewWrapper},this._renderColumnWithIndices([0,2],h.gutterRight),this._renderColumnWithIndices([1,3])))}_renderColumnWithIndices(e,t){return i.a.createElement(s.a,{style:[h.column,t]},this._renderMediaAtIndex(e[0],h.gutterBottom),this._renderMediaAtIndex(e[1]))}_renderMediaAtIndex(e,t){var a,n,s,r;const{editable:l,isActive:c,media:d,onClickMedia:u,onEditMedia:p,onEditSensitiveWarning:m,onRemoveMedia:g,onSetMediaPreviewRef:b}=this.props,_=d[e],y=null==(a=_.mediaMetadata)?void 0:a.altText,f=null==(n=_.mediaMetadata)?void 0:n.defaultAltText,w=!(null==(s=_.mediaMetadata)||null==(r=s.sensitiveMediaWarning)||!r.size),C=p&&l&&c,v=C&&w&&!!m;return i.a.createElement(o.a,{accessibilityLabel:y||f,accessibilityRole:"group",enableGif:c,key:_.id,mediaItem:_,onClick:u?u(_.id):void 0,onEdit:p?p(_.id):void 0,onEditSensitiveWarning:m&&v?m(_.id):void 0,onRemove:g(_.id),ref:b,style:[h.mediaContainer,t],withAltTextLabel:!!y,withCloseButton:l&&c,withEditButton:C,withEditSensitiveWarningButton:v})}}u.contextType=d.a;const h=r.a.create((e=>({column:{flexDirection:"column",flexGrow:1,flexBasis:0},gutterRight:{marginRight:e.spaces.space12},gutterBottom:{marginBottom:e.spaces.space12},mediaContainer:{borderRadius:e.borderRadii.xLarge,transitionProperty:"width",transitionDuration:"0.1s",transitionTimingFunction:"ease-out",overflow:"hidden",flexGrow:1,flexBasis:0},mediaPreviewWrapper:{flexDirection:"row",height:"100%",width:"100%"}})))},GTeL:function(e,t,a){"use strict";var n=a("ERkP"),i=a.n(n),o=a("3XMw"),s=a.n(o),r=a("pKoL"),l=a("Qwev"),c=a("rHpw"),d=a("U+bB"),u=a("MWbm");const h=s.a.gff1f69e;const p=c.a.create((e=>({activityIndicator:{height:"100%",width:"100%"},image:{width:"100%",flexGrow:1},mediaContainer:{overflow:"hidden",flexGrow:1,flexBasis:0,width:"100%"},mediaPreviewWrapper:{flexDirection:"column",flexGrow:1,alignItems:"center",width:"100%",paddingVertical:25,paddingHorizontal:25,backgroundColor:e.colors.gray0}})));t.a=function({mediaItem:e,orientedImage:t}){return i.a.createElement(u.a,{style:p.mediaPreviewWrapper},void 0===t&&e?i.a.createElement(r.a,{imageResizeMode:"contain",mediaItem:e,style:p.mediaContainer,withCloseButton:!1}):t?i.a.createElement(d.a,{resizeMode:"contain",source:t.url,style:p.image}):i.a.createElement(l.a,{accessibilityLabel:h,style:p.activityIndicator}))}},JUsM:function(e,t,a){"use strict";a("kYxP");var n=a("ERkP"),i=a.n(n),o=a("t62R"),s=a("rHpw"),r=a("shC7"),l=a("MWbm");const c=s.a.create((e=>({root:{flexDirection:"row",backgroundColor:e.colors.navigationBackground,borderStyle:"solid",borderWidth:e.borderWidths.small,borderRadius:e.borderRadii.large,borderColor:e.colors.gray50,paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical,justifyContent:"space-between"},containerDown:{marginTop:e.spaces.space12},containerUp:{marginTop:e.spaces.space20},text:{flexShrink:1,alignSelf:"center",alignItems:"flex-start"},actionsContainer:{flexDirection:"row",alignItems:"center",marginLeft:e.spaces.space12},arrowContainer:{position:"absolute",display:"flex",width:"100%",alignItems:"center"},arrowDirectionUp:{top:`calc(-${e.spaces.space8} + ${e.spaces.space1})`},arrowDirectionDown:{bottom:`calc(-${e.spaces.space8} + ${e.spaces.space1})`},arrow:{borderStyle:"solid",borderTopWidth:0,borderRightWidth:e.spaces.space1,borderBottomWidth:e.spaces.space1,borderLeftWidth:0,borderColor:e.colors.gray50,width:e.spaces.space12,height:e.spaces.space12,backgroundColor:e.colors.navigationBackground}})));t.a=({containerRef:e,primaryAction:t,secondaryAction:a,text:n})=>{const[s,d]=i.a.useState(void 0),u=r.a.getConstants().isRTL,h=i.a.useRef(0),p=i.a.useRef(0),m=(()=>{if(null!=e&&e.current&&s){const{left:t,top:a,width:n}=e.current.getBoundingClientRect();h.current=a;const i=t+n/2-s;return{left:u?void 0:i,right:u?i:void 0}}})(),g=p.current<h.current,b=g?[c.arrowDirectionDown]:[c.arrowDirectionUp],_=g?u?{transform:"rotate(-45deg)"}:{transform:"rotate(45deg)"}:u?{transform:"rotate(135deg)"}:{transform:"rotate(-135deg)"},y=g?[c.containerDown]:[c.containerUp];return i.a.createElement(l.a,{accessibilityRole:"text",onLayout:e=>{const{nativeEvent:{layout:{left:t,top:a,width:n}}}=e;p.current=a;d(t+n/2)},style:[c.root,y]},null!=e&&e.current?i.a.createElement(l.a,{style:[b,c.arrowContainer,m]},i.a.createElement(l.a,{style:[c.arrow,_]})):null,i.a.createElement(o.b,{style:c.text},n),i.a.createElement(l.a,{style:c.actionsContainer},t,a))}},KqB4:function(e,t,a){"use strict";var n=a("IGGJ");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var a=[],n=(0,i.default)(e,t),o=0;o<n.length;o++)a.push(n[o].url);return a};var i=n(a("vwfs"));e.exports=t.default},LCtV:function(e,t,a){"use strict";a.d(t,"a",(function(){return g}));a("kYxP");var n=a("ERkP"),i=a.n(n),o=a("3XMw"),s=a.n(o),r=a("mN6z"),l=a("Qwev"),c=a("rHpw"),d=a("1auM"),u=a("ude7"),h=a("U+bB"),p=a("MWbm");const m=s.a.gff1f69e,g=Object.freeze({INFINITE:"infinite",MEDIUM:"medium",NONE:"none"});class b extends i.a.Component{constructor(...e){super(...e),this.state={imagePreviewUrl:null},this._getImageSrc=()=>{const{enableGif:e,mediaItem:t}=this.props,{imagePreviewUrl:a}=this.state;if(t&&t.mediaFile)return t.mediaFile.isGif&&!e?a:t.mediaFile.url}}componentDidUpdate(){const{enableGif:e,mediaItem:{mediaFile:t}}=this.props,{imagePreviewUrl:a}=this.state;e||a||t instanceof d.a&&t.isGif&&Object(u.a)(t).then((e=>{this.setState({imagePreviewUrl:e})}))}shouldComponentUpdate(e,t){return!Object(r.a)(e,this.props)||!Object(r.a)(t,this.state)}render(){const{borderRadius:e,enableGif:t,mediaItem:a,onClick:n,resizeMode:o}=this.props,{imagePreviewUrl:s}=this.state||{},r=a.mediaFile&&a.mediaFile.isGif&&!t&&!s,c=a.needsProcessing||r,d=[y.root,_[e],c&&y.loadingBorder],u=this._getImageSrc();return i.a.createElement(p.a,{onClick:n,style:d},c||!u?i.a.createElement(l.a,{accessibilityLabel:m,style:y.activityIndicator}):i.a.createElement(h.a,{resizeMode:o,source:u,style:y.image}))}}b.defaultProps={borderRadius:g.NONE,enableGif:!0,resizeMode:"cover"};const _=c.a.create((e=>({[g.INFINITE]:{borderRadius:e.borderRadii.infinite},[g.MEDIUM]:{borderRadius:e.borderRadii.small},[g.NONE]:{borderRadius:e.borderRadii.none}}))),y=c.a.create((e=>({root:{borderRadius:e.borderRadii.xLarge,borderStyle:"solid",borderWidth:e.borderWidths.none,borderColor:"transparent",maxWidth:"100%",height:"100%",overflow:"hidden"},image:{display:"block",height:"100%",width:"100%"},loadingBorder:{borderColor:e.colors.gray300},activityIndicator:{height:"100%"}})));t.b=b},LQrL:function(e,t,a){"use strict";a.d(t,"e",(function(){return _})),a.d(t,"d",(function(){return y})),a.d(t,"c",(function(){return f})),a.d(t,"b",(function(){return w})),a.d(t,"f",(function(){return C})),a.d(t,"a",(function(){return v}));var n=a("ERkP"),i=a.n(n),o=a("t62R"),s=a("dWxr"),r=a.n(s),l=a("OiMc"),c=a("hHEM"),d=a("rHpw"),u=a("aITJ"),h=a("IZ3v");const p=(e,t)=>{const a=r()(e.getText());for(let e=0;e<a.length;e++)a[e].indices&&2===a[e].indices.length&&t(a[e].indices[0],a[e].indices[1])},m={clipPath:"circle(0% at center)"},g=(e,t,a)=>{e.findEntityRanges((e=>{const t=e.getEntity(),n=t?a.getEntity(t):null;return!!n&&"LINK"===n.getType()}),t)},b=e=>t=>{if(!t.entityKey)return null;const a=t.children,n=t.contentState.getEntity(t.entityKey).getData().url;return i.a.createElement(l.a,{animationDuration:"normal",renderContent:e(a,n),withArrow:!0},i.a.createElement(o.b,{color:"text",withInteractiveStyling:!0,withUnderline:!0},a))},_=e=>({strategy:g,component:b(e)}),y={strategy:g,component:e=>e.entityKey?i.a.createElement(o.b,{link:e.contentState.getEntity(e.entityKey).getData().url},e.children):null},f={strategy:p,component:e=>{const t=r()(e.decoratedText)[0];if(!t)return null;const a=Object(h.b)(t);return a?i.a.createElement(o.b,{link:Object(h.c)(a,e.decoratedText)},e.children):null}},w={strategy:p,component:e=>i.a.createElement("span",{style:{color:d.a.theme.colors.link}},e.children)},C={strategy:(e,t,a)=>{e.findEntityRanges((e=>{const t=e.getEntity(),n=t&&a.getEntity(t);return!(!n||n.type!==c.a.TWEMOJI_ENTITY_TYPE)}),t)},component:e=>{const{children:t,contentState:a,entityKey:n}=e,o=n&&a.getEntity(n)||{};return!(u.b.isFirefox()&&u.b.firefoxVersion()<49)?i.a.Children.map(t,(e=>{const t=i.a.Children.map(e,(e=>i.a.createElement("span",{style:m},e)))[0];return i.a.cloneElement(i.a.createElement("span",null),{style:(a=o.data&&o.data.url||"",{backgroundImage:`url("${a}")`,backgroundSize:"1em 1em",padding:"0.15em",backgroundPosition:"center",backgroundRepeat:"no-repeat",WebkitTextFillColor:"transparent"})},t);var a})):t}},v={strategy:(e,t)=>{const a=((e,t,a)=>{const n=t.getText();let i,o;for(;i=e.exec(n);)o=i.index,a(o,o+i[0].length)})(/\r/g,e,t);if(a)return t(a,a+1)},component:()=>"\n"}},LWCC:function(e,t,a){"use strict";a("kYxP");var n=a("ERkP"),i=a.n(n),o=a("Zejx"),s=a("rxPX"),r=a("0KEI");var l=Object(s.a)().propsFromActions((()=>({createLocalApiErrorHandler:Object(r.createLocalApiErrorHandlerWithContextFactory)("FOLLOW_TOPIC_BUTTON"),follow:o.a.follow,unfollow:o.a.unfollow}))).withAnalytics(),c=a("CGyZ"),d=a("PbbS"),u=a("3XMw"),h=a.n(u),p=a("sUoZ"),m=a("Tp1h"),g=a("Jkc4"),b=a("TnY3");const _=Object.freeze({follow:h.a.i79ab12a,following:h.a.d960b55b,unfollow:h.a.c0f56044}),y=Object.freeze({follow:h.a.fcf51fe6,following:h.a.e9a90d71,unfollow:h.a.bf403715,confirmationHeadline:h.a.c9f08e28,confirmationSheetText:h.a.abc600f3}),f=Object.freeze({follow:h.a.cd876e01,following:h.a.f2816e02,unfollow:h.a.f5b04fbb,confirmationHeadline:h.a.c481ae3f,confirmationSheetText:h.a.aa3ba123}),w=Object.freeze({follow:h.a.e0e730b0,following:h.a.e0e730b0,unfollow:h.a.b1850062,confirmationHeadline:h.a.gd3f996f,confirmationSheetText:h.a.i36c403c});class C extends i.a.Component{constructor(...e){super(...e),this._getDisplayMode=e=>void 0===this._getFollowButtonIcon(e)?"only-text":"icon-text",this._getFollowButtonIcon=e=>{switch(e){case d.a.Favorite:case d.a.Star:case d.a.Interested:return i.a.createElement(p.a,null);case d.a.FollowTopic:case d.a.Default:default:return}},this._getFollowingButtonIcon=e=>"icon-text"===this._getDisplayMode(e)?i.a.createElement(i.a.Fragment,null):void 0,this._getButtonText=e=>{const{topic:t}=this.props;switch(e){case d.a.FollowTopic:return{follow:_.follow,unfollow:_.unfollow,following:_.following};case d.a.Favorite:return{follow:f.follow,unfollow:f.unfollow,following:f.following,confirmationHeadline:f.confirmationHeadline&&f.confirmationHeadline({title:t.name}),confirmationSheetText:f.confirmationSheetText};case d.a.Star:return{follow:y.follow,unfollow:y.unfollow,following:y.following,confirmationHeadline:y.confirmationHeadline&&y.confirmationHeadline({title:t.name}),confirmationSheetText:y.confirmationSheetText};case d.a.Interested:return{follow:w.follow,unfollow:w.unfollow,following:w.following,confirmationHeadline:w.confirmationHeadline&&w.confirmationHeadline({title:t.name}),confirmationSheetText:w.confirmationSheetText};case d.a.Default:default:return}},this._handleOnFollow=()=>{const{createLocalApiErrorHandler:e,educateOnFollow:t,follow:a,history:n,topic:i}=this.props;a(i.id).catch(e()),this._handleScribe("follow"),t&&i&&n.push({pathname:"/i/topics/education",state:{topicName:i.name}})},this._handleOnUnfollow=()=>{const{createLocalApiErrorHandler:e,topic:t,unfollow:a}=this.props;a(t.id).catch(e()),this._handleScribe("unfollow")}}render(){const{ariaDescribedBy:e,isTransparent:t,nativeID:a,showRelationshipChangeConfirmation:n,size:o,style:s,textMode:r,topic:{following:l,name:d}}=this.props;return i.a.createElement(g.a,{customText:d,displayMode:m.a.topic},(u=>i.a.createElement(c.a,{ariaDescribedBy:e,buttonIcons:{followIcon:this._getFollowButtonIcon(r),followingIcon:this._getFollowingButtonIcon(r)},buttonText:this._getButtonText(r),displayMode:this._getDisplayMode(r),isFollowing:l,isTransparent:t,name:d,nativeID:a,onFollow:u(this._handleOnFollow),onUnfollow:u(this._handleOnUnfollow),showRelationshipChangeConfirmation:n,size:o,style:s,type:"topic",withConfirmationSheetText:l})))}_handleScribe(e){const{analytics:t}=this.props;t.scribe({element:"topic",action:e})}}C.defaultProps={size:"small",textMode:d.a.Default};t.a=Object(b.a)(l(C))},LtQU:function(e,t,a){"use strict";var n=a("ERkP"),i=a.n(n),o=a("Lsrn"),s=a("k/Ka");const r=(e={})=>Object(s.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[o.a.root,e.style],viewBox:"0 0 24 24"},i.a.createElement("g",null,i.a.createElement("path",{d:"M19 10H5c-.553 0-1-.447-1-1s.447-1 1-1h14c.553 0 1 .447 1 1s-.447 1-1 1zm0 6H5c-.553 0-1-.447-1-1s.447-1 1-1h14c.553 0 1 .447 1 1s-.447 1-1 1z"})));r.metadata={width:24,height:24},t.a=r},M6MT:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return i}));const n=Object.freeze({granted:"granted",denied:"denied",prompt:"prompt"}),i=Object.freeze({PERMISSION_DENIED:1,POSITION_UNAVAILABLE:2,TIMEOUT:3})},MLl7:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return o}));const n=Object.freeze({Composition:"composition",DMComposition:"dm_composition"}),i=e=>Object.values(n).indexOf(e)>=0,o=(e,t)=>"boolean"==typeof e?e:t},"Mbn/":function(e,t,a){"use strict";var n=a("ERkP"),i=a.n(n),o=a("Lsrn"),s=a("k/Ka");const r=(e={})=>Object(s.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[o.a.root,e.style],viewBox:"0 0 24 24"},i.a.createElement("g",null,i.a.createElement("path",{d:"M3.5 5.25H2c-.414 0-.75.336-.75.75s.336.75.75.75h1.5c.414 0 .75-.336.75-.75s-.336-.75-.75-.75zm18.5 12H7.5c-.414 0-.75-.337-.75-.75V2c0-.414-.336-.75-.75-.75s-.75.336-.75.75v14.5c0 1.24 1.01 2.25 2.25 2.25H22c.414 0 .75-.336.75-.75s-.336-.75-.75-.75zm-4 2.5c-.414 0-.75.336-.75.75V22c0 .414.336.75.75.75s.75-.336.75-.75v-1.5c0-.414-.336-.75-.75-.75z"}),i.a.createElement("path",{d:"M8.5 6.75h8c.414 0 .75.337.75.75v8c0 .414.336.75.75.75s.75-.336.75-.75v-8c0-1.24-1.01-2.25-2.25-2.25h-8c-.414 0-.75.336-.75.75s.336.75.75.75z"})));r.metadata={width:24,height:24},t.a=r},OKMS:function(e,t,a){"use strict";var n=a("ERkP"),i=a.n(n),o=a("Lsrn"),s=a("k/Ka");const r=(e={})=>Object(s.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[o.a.root,e.style],viewBox:"0 0 24 24"},i.a.createElement("g",null,i.a.createElement("path",{d:"M17.296 2.642c-2.068-1.17-4.464-1.62-6.816-1.283C8.13 1.692 5.956 2.8 4.3 4.5c-1.658 1.707-2.704 3.91-2.976 6.27-.27 2.357.245 4.738 1.468 6.77.005.01.008.02.01.03 0 .01-.002.017-.004.025L1.12 21.2c-.11.232-.145.49-.103.742.043.254.162.488.343.67.18.184.412.307.665.353.253.047.514.014.747-.094l3.63-1.67h.01l.01.01.01.005c1.68 1.01 3.606 1.542 5.567 1.537 2.373 0 4.68-.783 6.562-2.232 1.882-1.45 3.23-3.482 3.836-5.778.604-2.298.432-4.73-.49-6.92-.925-2.188-2.548-4.01-4.614-5.178zM12 7.25c-2.623 0-4.75 2.127-4.75 4.75s2.127 4.75 4.75 4.75 4.75-2.127 4.75-4.75S14.623 7.25 12 7.25zM5.75 12c0-3.452 2.798-6.25 6.25-6.25s6.25 2.798 6.25 6.25-2.798 6.25-6.25 6.25S5.75 15.452 5.75 12zm5.5-2.5c0-.414.336-.75.75-.75 1.794 0 3.25 1.455 3.25 3.25 0 .413-.337.75-.75.75-.415 0-.75-.337-.75-.75 0-.967-.784-1.75-1.75-1.75-.414 0-.75-.336-.75-.75z"})));r.metadata={width:24,height:24},t.a=r},OOKO:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("ERkP"),i=a.n(n),o=a("rHpw"),s=a("MWbm");function r({spacing:e}){return i.a.createElement(s.a,{accessibilityRole:"separator",style:[l.divider,{marginVertical:null!=e?o.a.theme.spaces[e]:void 0}]})}const l=o.a.create((e=>({divider:{backgroundColor:e.colors.borderColor,height:e.borderWidths.small}})))},ORQL:function(e,t,a){"use strict";var n=a("97Jx"),i=a.n(n),o=a("ERkP"),s=a.n(o),r=a("RH6X"),l=a("rziq"),c=a("hHEM"),d=a("keCP");const u={convertEmojiToEntities:c.a.convertEmojiToEntities,element:d.a,initEditorState:c.a.initEditorState,insertTextAtCursor:c.a.insertTextAtCursor,updateOverflowStyle:c.a.updateOverflowStyle,dismissComposerCommandName:l.a,sendTweetCommandName:l.b};t.a=e=>t=>s.a.createElement(e,i()({},t,{richTextInputContext:u,typeaheadWrapper:r.a}))},Olb6:function(e,t,a){"use strict";var n=a("ERkP"),i=a.n(n),o=a("3XMw"),s=a.n(o),r=a("5cUs"),l=a("wwsH");const c=s.a.d9fd5570,d={viewType:"hidden_replies"};t.a=({link:e,onPress:t})=>i.a.createElement(l.a,{Icon:r.a,accessibilityLabel:c,activeColor:"primary",behavioralEventContext:d,link:e,onPress:t})},PKbs:function(e,t,a){"use strict";a.d(t,"a",(function(){return S}));var n=a("ERkP"),i=a.n(n),o=a("v6aA"),s=a("t62R"),r=a("3XMw"),l=a.n(r),c=a("MWbm");const d=i.a.createElement(l.a.I18NFormatMessage,{$i18n:"i5ba24f4"},i.a.createElement(s.b,{link:"https://help.twitter.com/en/rules-and-policies/twitter-rules",withInteractiveStyling:!1},l.a.b154b059));var u=({containerStyle:e,explanation:t,explanationStyle:a,heading:n})=>i.a.createElement(c.a,{style:e},n,i.a.createElement(s.b,{color:"gray700",style:a},t||d)),h=a("csss");var p=({getPivotLink:e,renderBadge:t,rules:a})=>i.a.createElement(i.a.Fragment,null,a.map(((a,n)=>{const{description:o,name:r,rest_id:l}=a,c=e(a),d=t(n+1),u=i.a.createElement(s.b,{weight:"bold"},r);return i.a.createElement(h.a,{description:o,key:l,label:u,link:c,thumbnail:d})}))),m=a("97Jx"),g=a.n(m),b=(a("kYxP"),a("9Jxp")),_=a("LtQU"),y=a("rHpw");const f=y.a.create((e=>({icon:{color:e.colors.gray300,flexShrink:0,paddingLeft:e.spaces.space12}})));var w=e=>{const{badge:t,rule:a}=e,{description:n,name:o}=a,r=i.a.createElement(s.b,{weight:"bold"},o);return i.a.createElement(h.a,{description:n,label:r,renderRightContent:()=>i.a.createElement(_.a,{style:f.icon}),thumbnail:t})},C=a("CXUS");var v=e=>{const{onReorder:t,renderBadge:a,rules:n}=e;return i.a.createElement(C.a,{onDragEnd:e=>{if(!e.destination)return;const a=((e,t,a)=>{const n=Array.from(e),[i]=n.splice(t,1);return n.splice(a,0,i),n})(n,e.source.index,e.destination.index);t(a)}},i.a.createElement(C.c,{droppableId:"droppable"},((e,t)=>i.a.createElement("div",g()({},e.droppableProps,{ref:e.innerRef}),n.map(((e,n)=>{const{rest_id:o}=e;return i.a.createElement(b.a,{draggableId:o,index:n,isBeingDragged:t.draggingFromThisWith===o,key:o},i.a.createElement(w,{badge:a(n+1),rule:e}))})),e.placeholder))))},T=a("C6f5"),E=a("X00g"),x=a("h0NW");const S=Object.freeze({Default:"Default",Pivot:"Pivot",Reorder:"Reorder"}),I=(e,t)=>{const{badgeStyle:a,enabled:n,theme:o}=t,r=E.a.getCommunityUIColor(o);return i.a.createElement(c.a,{style:[k.badge,n&&{backgroundColor:r},a]},i.a.createElement(s.b,{align:"center",color:"white",weight:"bold"},e))},k=y.a.create((e=>({badge:{backgroundColor:e.colors.primary,borderRadius:e.borderRadii.infinite,justifyContent:"center",overflow:"hidden",height:e.spaces.space32,width:e.spaces.space32},bottomMargin:{marginBottom:T.a}})));t.b=({badgeStyle:e,displayType:t=S.Default,explanation:a,getPivotLink:n,headerContainerStyle:s,headerExplanationStyle:r,heading:l,limit:d,onReorder:h,ruleContainerStyle:m,rules:g,theme:b,withBottomMargin:_=!1,withHeader:y=!0})=>{const{featureSwitches:f}=i.a.useContext(o.a),w={theme:b,enabled:f.isTrue("c9s_ui_colors_enabled_rweb"),badgeStyle:e},C=((e,t,a)=>(t?e.slice(0,t):e).map(((e,t)=>({label:e.name,description:e.description,decoration:I(t+1,a)}))))(g,d,w),T=e=>I(e,w);return C.length>0?i.a.createElement(c.a,{style:_?k.bottomMargin:null},y?i.a.createElement(u,{containerStyle:s,explanation:a,explanationStyle:r,heading:l}):null,t===S.Pivot&&n?i.a.createElement(p,{getPivotLink:n,renderBadge:T,rules:g}):t===S.Reorder&&h?i.a.createElement(v,{onReorder:h,renderBadge:T,rules:g}):i.a.createElement(x.a,{containerStyle:m,items:C})):null}},PbbS:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));a("ERkP");const n=Object.freeze({Default:"default",FollowTopic:"follow",Star:"star",Interested:"interested",Favorite:"favorite"})},PrL8:function(e,t,a){"use strict";const n=a("rHpw").a.create((e=>({root:{flexGrow:1,flexShrink:1,paddingBottom:e.spaces.space12},rightControl:{display:"flex",flexDirection:"row"},prevButton:{marginEnd:e.spaces.space2},saveButton:{marginStart:e.spaces.space12},segmentedControlChildren:{flexGrow:1},leftRightButtons:{alignItems:"center"},videoTrimmerWrapper:{flexGrow:1,flexShrink:1,marginBottom:e.spaces.space20}})));t.a=n},RH6X:function(e,t,a){"use strict";a("kYxP"),a("849X");var n=a("ERkP"),i=a.n(n),o=a("oEoC"),s=a("2dXj"),r=a("4bHO"),l=a("dzqK"),c=a("GZwR"),d=a("zpdM");class u extends i.a.Component{constructor(...e){super(...e),this.state={queryContext:void 0,canShowTypeahead:!1},this._genericWrapperRef=i.a.createRef(),this.render=()=>{const{children:e,contextText:t,isInline:a,isInlineReply:n,onTypeaheadStateChange:o,source:r}=this.props,{canShowTypeahead:l,queryContext:d}=this.state,u=l&&d?{word:d.word,resultType:d.resultType}:void 0;return i.a.createElement(s.a,{contextText:t,isInline:a,isInlineReply:n,onDismiss:this._handleDismiss,onSelectItem:this._handleSelectItem,onTypeaheadStateChange:o,query:u,ref:this._genericWrapperRef,source:r||c.d.Compose},e(this._handleInputChange))},this._getCaret=e=>e.getSelection().getStartOffset(),this._getPlaintextFromCurrentBlock=e=>{const t=e.getSelection().anchorKey;return e.getCurrentContent().getBlockForKey(t).getText()},this._handleSelectItem=e=>{const{onTextUpdated:t}=this.props,{queryContext:a}=this.state;if(a){const n=Object(r.a)(e,a.resultType);t(this._replaceToken(n,a))}this._setQueryContext(void 0)},this._handleInputChange=e=>{if(!Object(l.a)(e))throw new Error("RichTextTypeaheadComposeWrapper cannot handle plain text input changes");{const{queryContext:t}=this.state,a=t&&t.word,n=this._getPlaintextFromCurrentBlock(e),{end:i,start:s,word:r}=o.c(this._getCaret(e),n),l=o.e(r||"","compose");if((null==l?void 0:l.q)===a)return;if(this._genericWrapperRef.current&&this._genericWrapperRef.current.resetSelectedItem(),-1===s)this._setQueryContext(void 0);else if(l){const{q:t,result_type:a}=l;this._setQueryContext({word:t,resultType:a,editorState:e,startIndex:s,endIndex:i})}else this._setQueryContext(void 0)}},this._setQueryContext=e=>this.setState({queryContext:e,canShowTypeahead:!!e}),this._handleDismiss=()=>this.setState({canShowTypeahead:!1})}_replaceToken(e,t){const{editorState:a,endIndex:n,startIndex:i}=t,o=a.getSelection().merge({anchorKey:a.getSelection().getFocusKey(),anchorOffset:i,focusOffset:n}),s=d.Modifier.replaceText(a.getCurrentContent(),o,e),r=d.EditorState.push(a,s,"insert-characters"),l=i+e.length,c=r.getSelection().merge({anchorOffset:l,focusOffset:l});return d.EditorState.forceSelection(r,c)}}t.a=u},RrO2:function(e,t,a){"use strict";a.r(t);a("ERkP");var n=a("ORQL"),i=a("x8Sc");t.default=Object(n.a)(i.default)},Sksh:function(e,t,a){"use strict";a("849X");var n=a("SrIh"),i=a("M0jS"),o=a("+d3d"),s=a("VY6S");t.a=new class{constructor(){this.usersInApp={},this._throttledInitialFetch=Object(o.a)((()=>{this.store.dispatch(i.b.fetchManyIfNeeded(Object.keys(this.usersInApp)))}),1500)}init(e){this.store=e}registerUserInApp(e){Object.keys(this.usersInApp).length>50&&(this.usersInApp={},Object(n.a)(new Error("Registered users in app has exceeded 50"),{level:"warning"})),this.usersInApp[e]?this.usersInApp[e]=this.usersInApp[e]+1:(this.usersInApp[e]=1,Object(s.a)(this._throttledInitialFetch(),100))}deregisterUserInApp(e){this.usersInApp[e]&&this.usersInApp[e]>1?this.usersInApp[e]=this.usersInApp[e]-1:delete this.usersInApp[e]}}},UgB4:function(e,t,a){"use strict";var n=a("ERkP"),i=a.n(n),o=a("Lsrn"),s=a("k/Ka");const r=(e={})=>Object(s.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[o.a.root,e.style],viewBox:"0 0 24 24"},i.a.createElement("g",null,i.a.createElement("path",{d:"M21.13 11.358L3.614 2.108c-.29-.152-.64-.102-.873.126-.23.226-.293.577-.15.868l4.362 8.92-4.362 8.92c-.143.292-.08.643.15.868.145.14.333.212.523.212.12 0 .24-.028.35-.087l17.517-9.25c.245-.13.4-.386.4-.664s-.155-.532-.4-.662zM4.948 4.51l12.804 6.762H8.255l-3.307-6.76zm3.307 8.26h9.498L4.948 19.535l3.307-6.763z"})));r.metadata={width:24,height:24},t.a=r},VPdC:function(e,t,a){"use strict";a.d(t,"b",(function(){return y}));var n=a("97Jx"),i=a.n(n),o=a("ERkP"),s=a.n(o),r=a("3XMw"),l=a.n(r),c=a("cjZk"),d="fileInput",u=a("sjK1"),h=a("/Imo"),p=a("rHpw"),m=a("9HgX");const g=l.a.b9960f31,b={viewType:"media_picker"},_=s.a.createElement(c.a,null),y=({acceptGifs:e,acceptImages:t=!0,acceptVideo:a})=>(t?m.b:[]).concat(e?[m.a]:[]).concat(a?u.a:[]);class f extends s.a.PureComponent{render(){const{acceptGifs:e,acceptImages:t,acceptVideo:a,customMimeTypes:n,icon:o,style:r,withIcon:l,...c}=this.props,u=y({acceptGifs:e,acceptImages:t,acceptVideo:a}).concat(n).join(",");return s.a.createElement(h.a,i()({},c,{accept:u,behavioralEventContext:b,icon:l?o:void 0,style:[w.root,r],testID:d}))}}f.defaultProps={acceptGifs:!0,acceptImages:!0,acceptVideo:!0,customMimeTypes:[],accessibilityLabel:g,icon:_,size:"medium",withIcon:!0};const w=p.a.create((e=>({root:{margin:`-${e.spaces.space12}`}})));t.a=f},WOwf:function(e,t,a){"use strict";function n(e,t){return Math.min(1,1-e/t)}a.d(t,"a",(function(){return n}))},XpKj:function(e,t,a){"use strict";a.d(t,"d",(function(){return l})),a.d(t,"b",(function(){return d})),a.d(t,"f",(function(){return p})),a.d(t,"e",(function(){return m})),a.d(t,"c",(function(){return g})),a.d(t,"a",(function(){return b}));var n=a("oEOe"),i=a("kGix"),o=a("Ssj5");const s="scheduledTweets",r={fetchStatus:i.a.NONE,scheduledTweets:[]},l="FETCH_SCHEDULED_TWEETS",c=Object.freeze({REQUEST:"rweb/scheduledTweets/FETCH_SCHEDULED_TWEETS_REQUEST",SUCCESS:"rweb/scheduledTweets/FETCH_SCHEDULED_TWEETS_SUCCESS",FAILURE:"rweb/scheduledTweets/FETCH_SCHEDULED_TWEETS_FAILURE"}),d="DELETE_SCHEDULED_TWEET",u=Object.freeze({REQUEST:"rweb/scheduledTweets/DELETE_SCHEDULED_TWEET_REQUEST",SUCCESS:"rweb/scheduledTweets/DELETE_SCHEDULED_TWEET_SUCCESS",FAILURE:"rweb/scheduledTweets/DELETE_SCHEDULED_TWEET_FAILURE"});function h(e=r,t){switch(t.type){case c.SUCCESS:if(t.payload)return{...e,fetchStatus:i.a.LOADED,scheduledTweets:t.payload};break;case c.FAILURE:return{...e,fetchStatus:i.a.FAILED};case c.REQUEST:return{...e,fetchStatus:i.a.LOADING};case u.SUCCESS:{const{meta:i}=t;return i&&i.deleteScheduledTweetId?{...e,scheduledTweets:(a=i.deleteScheduledTweetId,n=e.scheduledTweets,n.filter((e=>e.rest_id!==a)))}:e}default:return e}var a,n;return e}o.a.register({[s]:h});const p=e=>e.scheduledTweets.scheduledTweets,m=e=>e.scheduledTweets.fetchStatus,g=()=>(e,t,{api:a})=>Object(n.b)(e,{request:a.Scheduling.fetchScheduledTweets,params:{}})({actionTypes:c,context:l}).then((()=>{})),b=e=>(t,a,{api:i})=>Object(n.b)(t,{request:i.Scheduling.deleteScheduledTweet,params:{scheduled_tweet_id:e}})({actionTypes:u,context:d,meta:{deleteScheduledTweetId:e}})},YICZ:function(e,t,a){"use strict";var n=a("ERkP"),i=a.n(n),o=a("Zejx"),s=a("rxPX"),r=a("0KEI");var l=Object(s.a)().propsFromActions((()=>({createLocalApiErrorHandler:Object(r.createLocalApiErrorHandlerWithContextFactory)("TOPIC_NOT_INTERESTED_CONTEXT"),setNotInterested:o.a.notInterested}))),c=a("3XMw"),d=a.n(c),u=a("hOZg"),h=a("Jkc4"),p=a("Irs7"),m=a("/yvb"),g=a("rHpw");const b=d.a.d9b417c4,_=d.a.c29d6806,y=d.a.e839db39,f=e=>{const{createLocalApiErrorHandler:t,nativeID:a,onPress:n,setNotInterested:o,size:s,style:r,text:l,topicId:c,type:d,withIconOnly:u}=e,g=Object(p.b)(),_=i.a.useCallback((e=>{e.preventDefault(),n?n(e):(g.scribe({element:"topic",action:"not_interested"}),o(c).catch(t()))}),[g,t,n,o,c]);return i.a.createElement(h.a,null,(e=>i.a.createElement(m.a,{accessibilityLabel:b,hoverLabel:{label:y},icon:u?C:void 0,nativeID:a,onPress:e(_),pullRight:u,size:s,style:r,type:d},u?null:l)))};f.defaultProps={size:"small",text:_,type:"brandText",withIconOnly:!0};const w=g.a.create((e=>({closeIcon:{color:e.colors.gray700}}))),C=i.a.createElement(u.a,{style:w.closeIcon}),v=l(f);t.a=v},Zg3A:function(e,t,a){"use strict";var n=a("ERkP"),i=a.n(n),o=a("Lsrn"),s=a("k/Ka");const r=(e={})=>Object(s.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[o.a.root,e.style],viewBox:"0 0 24 24"},i.a.createElement("g",null,i.a.createElement("path",{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm8.472 9.442c-.242.19-.472.368-.63.486-.68-1.265-1.002-1.78-1.256-2.007-.163-.145-.37-.223-.78-.375-.367-.136-1.482-.55-1.65-.85-.087-.153.136-.602.23-.793.088-.177.164-.33.196-.497.123-.646-.33-1.146-.728-1.59-.066-.072-.153-.17-.23-.26.335-.12.862-.26 1.42-.384 1.95 1.448 3.26 3.704 3.428 6.272zm-9.788-7.83c.076.25.145.5.182.678-.255.15-.663.363-.96.52-.262.136-.522.273-.738.392-.247.137-.442.234-.6.313-.347.174-.598.3-.833.553-.068.073-.26.278-1.02 1.886l-1.79-.656c1.293-1.94 3.362-3.31 5.76-3.685zM12 20.5c-4.687 0-8.5-3.813-8.5-8.5 0-1.197.25-2.335.7-3.37.47.182 1.713.66 2.75 1.035-.107.336-.245.854-.26 1.333-.03.855.502 1.7.562 1.792.053.08.12.15.2.207.303.21.687.5.827.616.063.343.166 1.26.23 1.833.144 1.266.175 1.48.24 1.65.005.012.514 1.188 1.315 1.188.576-.003.673-.206 1.855-2.688.244-.512.45-.95.513-1.058.1-.144.597-.61.87-.83.55-.442.76-1.82.413-2.682-.335-.83-1.92-2.08-2.5-2.195-.17-.033-.43-.04-.953-.053-.497-.01-1.25-.028-1.536-.09-.098-.024-.314-.094-.605-.196.32-.668.627-1.28.71-1.4.05-.052.168-.112.408-.234.17-.086.383-.192.653-.34.208-.116.458-.247.71-.38 1.168-.612 1.484-.8 1.658-1.082.11-.177.263-.44-.04-1.544 1.042.027 2.038.24 2.955.61-.89.32-1.024.595-1.106.77-.367.784.256 1.475.667 1.93.096.107.24.268.32.38l-.017.036c-.234.472-.67 1.35-.196 2.194.406.72 1.384 1.13 2.437 1.52.134.05.25.092.33.126.16.208.496.79 1 1.735l.154.285c.078.14.33.505.842.505.167 0 .363-.04.59-.137.032-.013.083-.035.18-.094C19.72 17.405 16.22 20.5 12 20.5zm-3.812-9.45c.01-.285.102-.646.184-.907l.027.006c.397.09 1.037.11 1.83.13.32.006.59.008.615 0 .326.143 1.355 1 1.483 1.31.113.28.05.812-.034 1.01-.233.197-.845.735-1.085 1.078-.093.13-.212.373-.64 1.274-.133.276-.313.654-.488 1.013-.026-.225-.054-.472-.08-.686-.225-2.003-.273-2.22-.42-2.445-.05-.078-.202-.31-1.135-.973-.117-.213-.268-.564-.26-.813z"})));r.metadata={width:24,height:24},t.a=r},"a/ea":function(e,t,a){"use strict";a.d(t,"c",(function(){return r})),a.d(t,"d",(function(){return l})),a.d(t,"e",(function(){return d})),a.d(t,"a",(function(){return h})),a.d(t,"b",(function(){return p}));var n=a("M6MT"),i=a("Ssj5");const o="geoLocation",s=Object.freeze({permissionStatus:void 0,position:void 0});const r=e=>e.geoLocation.permissionStatus,l=e=>e.geoLocation.position,c="rweb/geoLocation/SET_PERMISSION_STATUS",d=e=>({payload:e,type:c}),u="rweb/geoLocation/SET_POSITION",h=()=>(e,t)=>m().then((t=>e({payload:t,type:u}))).catch((t=>(e(d(n.b.denied)),Promise.reject(t)))),p=()=>(e,t)=>l(t())?Promise.resolve():e(h()),m=()=>new Promise(((e,t)=>navigator.geolocation.getCurrentPosition((t=>{const a={timestamp:t.timestamp,coords:{latitude:t.coords.latitude,longitude:t.coords.longitude,altitude:t.coords.altitude,accuracy:t.coords.accuracy,altitudeAccuracy:t.coords.altitudeAccuracy,heading:t.coords.heading,speed:t.coords.speed}};return e(a)}),t)));i.a.register({[o]:function(e=s,t){switch(t.type){case c:return{...e,permissionStatus:t.payload};case u:return{...e,position:t.payload};default:return e}}})},aA1u:function(e,t,a){"use strict";a("kYxP");var n=a("ERkP"),i=a.n(n),o=a("t62R"),s=a("21zW"),r=a("rHpw"),l=a("3XMw"),c=a.n(l);class d extends i.a.Component{constructor(...e){super(...e),this._formatTimestamp=e=>{const t=c.a.jade381b,a=c.a.d725a288,n=new Date(e),i=t(n);return`${a(n)}  ${i}`}}render(){const{style:e}=this.props;return i.a.createElement(o.b,{color:"gray700",style:e},this._renderTimestampAndMaybePlace(),this._maybeRenderSource())}_renderTimestampAndMaybePlace(){const{linkColor:e,onPlaceClick:t,onTimestampClick:a,place:n,placeLink:s,timestamp:r,timestampLink:l}=this.props,d=this._formatTimestamp(r);return n?i.a.createElement(c.a.I18NFormatMessage,{$i18n:"ba64a3b2"},i.a.createElement(o.b,{color:l?e:void 0,link:l,onClick:a},c.a.e9c24489({date:d})),i.a.createElement(o.b,{color:s?e:void 0,link:s,onClick:t},c.a.a16de8a4({place:n}))):i.a.createElement(o.b,{color:l?e:void 0,link:l,onClick:a},d)}_maybeRenderSource(){const{linkColor:e,onSourceClick:t,source:a,sourceLink:n}=this.props;return a?i.a.createElement(i.a.Fragment,null,i.a.createElement(s.a,null),i.a.createElement(o.b,{color:n?e:void 0,link:n,onClick:t,style:u.source},a)):null}}d.defaultProps={linkColor:"link"};const u=r.a.create((e=>({source:{whiteSpace:"normal"}})));t.a=d},b5s6:function(e,t,a){"use strict";var n=a("97Jx"),i=a.n(n),o=a("ERkP"),s=a.n(o),r=a("v6aA"),l=a("XOJV"),c=a("eSoz"),d=a("rxPX"),u=a("0KEI");const h=(e,t)=>t.tweetId,p=(e,t)=>{const a=t.tweetId,n=a&&l.a.select(e,a);return n?Object(c.g)(e,n):void 0};var m=Object(d.a)().propsFromState((()=>({community:p,hydratedTweet:l.a.createHydratedTweetSelector(h)}))).propsFromActions((()=>({createLocalApiErrorHandler:Object(u.createLocalApiErrorHandlerWithContextFactory)("QUOTE_TWEET_CONTAINER"),fetchCommunityIfNeeded:c.c.fetchOneIfNeeded}))),g=a("YeIG"),b=a("uCxL"),_=a("x5Pi");const y=m((({community:e,createLocalApiErrorHandler:t,fetchCommunityIfNeeded:a,hydratedTweet:n,tweetId:o,...l})=>{const{featureSwitches:c,loggedInUserId:d}=s.a.useContext(r.a),u=null==n?void 0:n.community_id_str;s.a.useEffect((()=>{u&&Object(g.a)(e)&&a(u).catch(t())}),[e,u,t,a]);const h=c.isTrue("responsive_web_alt_text_badge_enabled"),p=n&&Object(_.f)(n,d,e),m=p&&Object(_.e)(p),y=c.isTrue("responsive_web_reactions_enabled");return s.a.createElement(b.a,i()({},l,{loggedInUserId:d,shouldShowAltLabelAlways:h,socialContextProps:m,tweet:n,withReactions:y}))}));t.a=y},c0ZR:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));a("849X");const n=e=>new Promise(((t,a)=>{const n=new window.XMLHttpRequest;n.responseType="blob",n.onreadystatechange=()=>{n.readyState===window.XMLHttpRequest.DONE&&(200===n.status?t(n.response):a(new Error("Unexpected status code")))},n.onerror=e=>a(e),n.ontimeout=e=>a(e),n.open("GET",e,!0),n.send()}))},cIoY:function(e,t,a){"use strict";var n=a("ERkP"),i=a.n(n),o=a("1YZw"),s=a("rxPX"),r=Object(s.a)().propsFromActions((()=>({addToast:o.b}))),l=(a("kYxP"),a("k/Ka")),c=a("3XMw"),d=a.n(c),u=a("sgih"),h=a("t62R"),p=a("/yvb"),m=a("rHpw");const g=d.a.cfd2f35d;class b extends i.a.Component{constructor(...e){super(...e),this._handleOnFocus=e=>{e.currentTarget.select()}}render(){const{cancelButtonLabel:e,description:t,headerText:a,link:n,onCancel:o}=this.props,s=Object(l.a)("input",{autoFocus:!0,onFocus:this._handleOnFocus,readOnly:!0,style:_.linkInput,value:n});return i.a.createElement(u.a,{onMaskClick:o,style:_.container,type:"center",withMask:!0},a&&i.a.createElement(h.b,{align:"center",style:_.headerText,weight:"bold"},a),t&&i.a.createElement(h.b,{align:"center",color:"gray700",style:_.labelText},t),s,i.a.createElement(p.a,{onPress:o,size:"xLarge",style:_.cancelButton,type:"brandText"},e))}}b.defaultProps={cancelButtonLabel:g};const _=m.a.create((e=>({container:{alignItems:"center",paddingVertical:e.spaces.space32,paddingHorizontal:e.spaces.space12,position:"relative"},headerText:{marginBottom:e.spaces.space16},labelText:{marginBottom:e.spaces.space16,width:"100%"},linkInput:{backgroundColor:e.colors.gray0,borderColor:"transparent",color:e.colors.gray700,fontSize:e.fontSizes.body,marginBottom:e.spaces.space12,paddingVertical:e.spaces.space12,paddingHorizontal:e.spaces.space20},cancelButton:{width:"100%"}})));var y=b,f=a("I/9y"),w=a("mjJ+"),C=a("cm6r"),v=a("CaKu"),T=a("U+bB");const E=d.a.e05c00b4,x=d.a.eabf2209,S=d.a.a613e72f,I=d.a.f88553c8,k={riffsy:"https://abs.twimg.com/a/1501527574/img/t1/icon_riffsy.png",giphy:"https://abs.twimg.com/a/1501527574/img/t1/icon_giphy.png"};class R extends i.a.PureComponent{constructor(e){super(e),this._renderMenu=e=>i.a.createElement(w.a,{items:[{text:S,Icon:f.a,onClick:this._handleCopyGifLinkButtonClick}],onCloseRequested:e}),this._handleCopyGifLinkButtonClick=e=>{const{addToast:t,gifUrl:a}=this.props;v.a.isAvailable()?(v.a.setString(a),t({text:I})):this.setState({showCopyLinkSheet:!0}),e&&e()},this._handleCopyLinkSheetCancel=()=>{this.setState({showCopyLinkSheet:!1})},this.state={showCopyLinkSheet:!1}}render(){const{showCopyLinkSheet:e}=this.state,{gifUrl:t,provider:a}=this.props,{display_name:n,name:o}=a,s=k[o];return s?i.a.createElement(i.a.Fragment,null,e?i.a.createElement(y,{description:x({providerName:n}),headerText:E,link:t,onCancel:this._handleCopyLinkSheetCancel}):null,i.a.createElement(h.b,{align:"center",color:"gray700",style:P.root},i.a.createElement(d.a.I18NFormatMessage,{$i18n:"e2e6ea0d"},this._renderAttribution(n,s)))):null}_renderAttribution(e,t){return i.a.createElement(C.a,{interactiveStyles:null,renderMenu:this._renderMenu},i.a.createElement(h.b,{weight:"bold",withInteractiveStyling:!0},i.a.createElement(T.a,{source:{uri:t},style:P.image}),i.a.createElement(h.b,null,e.toUpperCase())))}}const P=m.a.create((e=>({button:{marginLeft:e.spaces.space12},image:{display:"inline-block",height:e.spaces.space16,marginHorizontal:e.spaces.space4,width:e.spaces.space16},root:{marginHorizontal:e.spaces.space12}})));var M=R;const D=r((({addToast:e,gifUrl:t,provider:a})=>i.a.createElement(M,{addToast:e,gifUrl:t,provider:a})));t.a=D},dCqJ:function(e,t,a){"use strict";var n=a("ERkP"),i=a.n(n),o=a("cm6r"),s=(a("kYxP"),a("t62R")),r=a("rHpw"),l=a("3XMw"),c=a.n(l);const d=c.a.d7e50a66,u="INDIRECT",h="NO_SPONSORSHIP",p="ISSUE";class m extends i.a.Component{constructor(...e){super(...e),this._renderDisclaimerDetails=()=>{const{onPoliticalSponsorWebsiteClick:e,promotedContent:t}=this.props;if(!t.adMetadataContainer)return null;const{disclaimerType:a,sponsorshipCandidate:n,sponsorshipOrganization:o,sponsorshipOrganizationWebsite:r,sponsorshipType:l}=t.adMetadataContainer,d=r&&a!==p?i.a.createElement(s.b,{link:r,onClick:e}):i.a.createElement(s.b,{color:"gray700",size:"subtext2"});if(!o)return null;const m=i.a.createElement(c.a.I18NFormatMessage,{$i18n:"e1e348dc"},i.a.cloneElement(d,null,c.a.b1e5bc63({sponsorshipOrganization:o}))),g=i.a.createElement(c.a.I18NFormatMessage,{$i18n:"c7dea0d0"},i.a.cloneElement(d,null,c.a.a84fcff2({sponsorshipOrganization:o}))),b=n?i.a.createElement(c.a.I18NFormatMessage,{$i18n:"b5c2371a",sponsorshipCandidate:n},i.a.cloneElement(d,null,c.a.fd985325({sponsorshipOrganization:o}))):null;return i.a.createElement(s.b,{color:"gray700",size:"subtext2"},a===p?m:l===h?g:l===u?b:m)},this._renderLearnMoreLink=()=>{const{onPromotedDisclaimerLearnMoreClick:e,promotedContent:t,tweet:a}=this.props,{disclaimerType:n}=t.adMetadataContainer||{},o=n===p?"issue_ad":"political_ad",r=`http://ads.twitter.com/transparency/ads/${a.user.screen_name}/tweet/${a.id_str}`;return i.a.createElement(s.b,{link:r,onClick:e(o),size:"subtext2",style:g.learnMore},d)}}render(){return i.a.createElement(i.a.Fragment,null,this._renderDisclaimerDetails(),this._renderLearnMoreLink())}}const g=r.a.create((e=>({learnMore:{alignSelf:"flex-start"}})));var b=a("e5HP"),_=a("Z6aJ"),y=a("MWbm");t.a=function(e){const{onPoliticalSponsorWebsiteClick:t,onPromotedDisclaimerLearnMoreClick:a,onPromotedIndicatorClick:n,promotedContent:s,promotedContentAdvertiser:r,style:l,testID:c,tweet:d,withCircleIcon:u}=e,h=_.a.isPromoted(s),p=!!s&&(s.adMetadataContainer&&("POLITICAL"===s.adMetadataContainer.disclaimerType||"ISSUE"===s.adMetadataContainer.disclaimerType)||"political"===_.a.getDisclosureType(s)||"issue"===_.a.getDisclosureType(s));return h?i.a.createElement(y.a,{style:l,testID:c},r&&s?i.a.createElement(o.a,{interactiveStyles:null,link:{pathname:`https://twitter.com/${r.screen_name}`,state:{promotedTweetState:s}},onPress:n},i.a.createElement(b.a,{promotedContent:s,withCircleIcon:u})):!!s&&i.a.createElement(b.a,{promotedContent:s}),p&&s?i.a.createElement(m,{onPoliticalSponsorWebsiteClick:t,onPromotedDisclaimerLearnMoreClick:a,promotedContent:s,tweet:d}):null):null}},dWxr:function(e,t,a){"use strict";var n=a("IGGJ");a("2G9S"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=(0,r.default)(e,t).concat((0,s.default)(e)).concat((0,o.default)(e,{checkUrlOverlap:!1})).concat((0,i.default)(e));if(0==a.length)return[];return(0,l.default)(a),a};var i=n(a("EW8Q")),o=n(a("yyPN")),s=n(a("YXS5")),r=n(a("vwfs")),l=n(a("c8jd"));e.exports=t.default},dzqK:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));a("ERkP");var n=a("zpdM");function i(e){return e instanceof n.EditorState}},gdQ4:function(e,t,a){"use strict";a.d(t,"a",(function(){return y}));a("kYxP");var n=a("ERkP"),i=a.n(n),o=a("tRj+"),s=a("3XMw"),r=a.n(s),l=a("oQhu"),c=a("MWbm"),d=a("htQn"),u=a("5mJL"),h=a("jhWN"),p=a("/yvb"),m=a("t62R"),g=a("rHpw");const b=r.a.e3a24e4b,_=r.a.i569ff3e;class y extends i.a.PureComponent{constructor(...e){super(...e),this._getMemoizedBehavioralEventContext=Object(l.a)((e=>({viewType:e})))}componentDidMount(){const{onImpression:e}=this.props;e&&e()}render(){const{avatarUrl:e,onClick:t,style:a,to:n,userName:s,withButton:r,withConversationLine:l}=this.props,g=e&&s,y=r?"add_tweet":"see_more",w=this._getMemoizedBehavioralEventContext(y);return i.a.createElement(o.a,{behavioralEventContext:w},i.a.createElement(d.a,{link:n,onClick:t,style:[f.root,a]},i.a.createElement(u.a,{avatarCell:g?i.a.createElement(c.a,{style:[f.avatarColumn,!l&&f.avatarColumnWithoutLine]},l?i.a.createElement(c.a,{style:f.conversationLine}):null,i.a.createElement(h.a,{size:"large",uri:e})):null,avatarCellStyle:f.conversationConnector,cellStyle:r?f.buttonContainer:g?f.labelWithAvatar:f.label},r?i.a.createElement(p.a,{accessibilityRole:"none",size:"xSmall",style:f.button,type:"brandOutlined"},b):i.a.createElement(m.b,{color:"link",style:f.enlargeTouchTarget},_))))}}y.defaultProps={withButton:!1,withConversationLine:!1};const f=g.a.create((e=>({root:{overflow:"hidden",paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.spaces.space2},avatarColumn:{flexDirection:"column",flexGrow:0,alignItems:"center",paddingBottom:e.spaces.space4},avatarColumnWithoutLine:{paddingTop:e.spaces.space12},conversationConnector:{alignItems:"center",display:"flex",position:"relative"},label:{flexGrow:1,paddingVertical:e.spaces.space4},labelWithAvatar:{flexGrow:1,justifyContent:"center"},conversationLine:{backgroundColor:e.colors.gray200,flexGrow:1,flexShrink:1,width:e.componentDimensions.conversationLineWidth,marginBottom:e.spaces.space4},buttonContainer:{paddingVertical:e.spaces.space4,flexDirection:"row",flexGrow:1},button:{marginVertical:e.spaces.space4},enlargeTouchTarget:{paddingVertical:e.spaces.space8}})))},gpVt:function(e,t,a){"use strict";a.d(t,"b",(function(){return I}));var n=a("ERkP"),i=a.n(n),o=(a("kYxP"),a("CDB5")),s=a("xVN5"),r=a("vjRr"),l=a("rxPX"),c=a("0KEI");const d=(e,t)=>{const{urls:a}=t,n=[...a];let i;for(const t of n.reverse())if(i=r.a.select(e,t),i)break;return i};var u=Object(l.a)().propsFromState((()=>({card:d}))).propsFromActions((()=>({createLocalApiErrorHandler:Object(c.createLocalApiErrorHandlerWithContextFactory)("COMPOSER_CARD_PREVIEW"),fetchCardPreviewIfNeeded:r.a.fetchCardPreviewIfNeeded,updateDMComposer:o.e,updateTweetComposer:s.w}))),h=a("KqB4"),p=a.n(h),m=a("aX4+"),g=a("3XMw"),b=a.n(g),_=a("hOZg"),y=a("cnVF"),f=a("MWbm"),w=a("v6aA"),C=a("/yvb"),v=a("rHpw"),T=a("VY6S"),E=a("mN6z");const x=b.a.f6fec9f6,S=/^https?:\/\//i,I=e=>{const t=p()(e);if(t.length)return t.map((e=>!S.test(e)&&`http://${e}`||e))};class k extends i.a.Component{constructor(e,t){super(e,t),this._fetchCardPreviewIfNeeded=()=>{const{createLocalApiErrorHandler:e,fetchCardPreviewIfNeeded:t,urls:a}=this.props;a.forEach((a=>{t(a).catch(e())}))},this._handleCardPreviewDismissal=e=>this._updateSingleComposer({cardUrl:y.B}),this._updateSingleComposer=e=>{const{conversationId:t,index:a,updateDMComposer:n,updateTweetComposer:i}=this.props,{cardUrl:o}=e||{};this._isDMComposer?t&&n(t,o):i({updates:{cardUrl:o},index:a})},this._debouncedFetchCardPreview=Object(T.a)(this._fetchCardPreviewIfNeeded,1e3),this._isDMComposer=!!e.conversationId}componentDidMount(){this._debouncedFetchCardPreview()}componentDidUpdate(e){const{urls:t}=this.props;Object(E.a)(e.urls,t)||this._debouncedFetchCardPreview()}componentWillUnmount(){this._updateSingleComposer()}render(){const{card:e,isCardPreviewTombstoned:t,style:a}=this.props,{loggedInUserId:n}=this.context;return e&&!t&&n?i.a.createElement(f.a,{style:a},i.a.createElement(m.a,{card:{name:e.name,url:e.url,binding_values:e.binding_values},cardContext:{tweetUserId:n},isInteractive:!1,preventVideoPlayback:!0}),i.a.createElement(C.a,{accessibilityLabel:x,icon:i.a.createElement(_.a,null),onPress:this._handleCardPreviewDismissal,size:"xSmall",style:R.closeButton,type:"onMediaDominantColorFilled"})):null}}k.contextType=w.a;const R=v.a.create((e=>({closeButton:{position:"absolute",top:e.spaces.space4,left:e.spaces.space4}}))),P=u(k);t.a=P},h5NW:function(e,t,a){"use strict";var n=a("97Jx"),i=a.n(n),o=(a("kYxP"),a("MvUL"),a("urw/"),a("ERkP")),s=a.n(o),r=a("dDSG"),l=a("pXBW"),c=a("6/RC"),d=a("wpu3"),u=a("+Kfv"),h=a("eSoz"),p=a("rxPX");const m=(e,{communityId:t})=>t?h.c.select(e,t):void 0;var g=Object(p.a)().propsFromState((()=>({community:m}))),b=a("MtXG"),_=a("t62R"),y=a("CKsB"),f=a("rHpw"),w=a("3XMw"),C=a.n(w);const v=C.a.d58baa7e;var T=g(s.a.memo((e=>{const{clickHandler:t,community:a,communityId:n,selectedCommunityId:i}=e;if(!a)return null;const{member_count:o}=a;return s.a.createElement(y.a,{actionSubText:(()=>{const e=v(o);return s.a.createElement(b.a.Group,null,s.a.createElement(b.a,null,s.a.createElement(_.b,{color:"white"},s.a.createElement(C.a.I18NFormatMessage,{$i18n:"b38e130b"},s.a.createElement(b.a.Value,null,C.a.ibd0106d({formattedCount:e})),s.a.createElement(b.a.Label,null,C.a.cface2d0({count:o}))))))})(),actionText:a.name,isSelected:i===n,key:n,media:a.media,onClick:t({_type:"community_members",communityIdValue:n,conversationControlsValue:"community_members"}),selectable:!0,style:E.menuItem})})));const E=f.a.create((e=>({menuItem:{alignItems:"center"}})));var x=a("0zXz"),S=a("FS1z"),I=a("Irs7"),k=a("MWbm"),R=a("yw4N"),P=a("/yvb"),M=a("+Eiw"),D=a("Zg3A"),L=a("EyD/"),A=a("5wO0");const O=C.a.e815fc33,F=C.a.c63602d3,B=C.a.baffe39a,N=C.a.aa4209e8,U=C.a.d0748dae,j=C.a.abd845fd,H={viewType:"everyone"},z={viewType:"community"},W=C.a.d58baa7e,V=f.a.create((e=>({hidden:{visibility:"hidden"},title:{flexDirection:"column",paddingVertical:e.spaces.space4,paddingHorizontal:e.spaces.space12},root:{flex:1,flexDirection:"column",paddingTop:e.spaces.space12,paddingBottom:e.spaces.space12},menuItem:{alignItems:"center"},superFollowsIcon:{backgroundImage:M.a.getBackgroundImage()},viewport:{borderBottomLeftRadius:e.borderRadii.xLarge,borderBottomRightRadius:e.borderRadii.xLarge,flexGrow:1,flexShrink:1,overflow:"auto",zIndex:void 0}})));var G=e=>{var t,a,n;const{audienceControlsValue:i,dismiss:o,hasMemberships:r,history:l,isC9sParticipationEnabled:c,isSuperFollowsCreator:d,isTrustedFriendsEnabled:h,onAudienceControlsValueChange:p,sliceModule:m,updateSingleComposer:g}=e,f=i.communityIdValue||void 0,w=i.exclusivityControlValue||void 0,v=i.trustedFriendsValue||void 0,E=null==(t=e.trustedFriendsList)?void 0:t.rest_id,M=null!=(a=null==(n=e.trustedFriendsList)?void 0:n.member_count)?a:0,G=Object(I.b)(),K=s.a.useCallback((e=>()=>{p(e),["super_followers_exclusive","community_members","trusted_friends_tweet"].indexOf(e._type)>-1&&g({updates:{scheduledFor:void 0,scheduledTweetId:void 0}}),o()}),[p,g,o]),q=s.a.useCallback((()=>{if(E)return G.scribe({section:"audience_selector",component:"trusted_friends",element:"edit_list_button",action:"click"}),l.push(`/i/circles/${E}/members`)}),[G,l,E]);return s.a.createElement(k.a,{style:V.root},s.a.createElement(R.a,{style:V.viewport},s.a.createElement(s.a.Fragment,null,s.a.createElement(_.b,{size:"headline1",style:V.title,weight:"bold"},O),s.a.createElement(u.a,{behavioralEventContext:H},s.a.createElement(y.a,{Icon:D.a,actionText:B,isSelected:!w&&!f&&!v,onClick:K({_type:"conversation_controls",conversationControlsValue:"all"}),selectable:!0,style:V.menuItem,withIconAsThumbnail:!0})),d?s.a.createElement(y.a,{Icon:L.a,actionText:N,iconThumbnailColor:"exclusive",isSelected:!!w,onClick:K({_type:"super_followers_exclusive",conversationControlsValue:"super_followers_exclusive",exclusivityControlValue:{}}),selectable:!0,style:V.menuItem,withIconAsThumbnail:!0}):null,h&&e.trustedFriendsList&&E?s.a.createElement(y.a,{Icon:A.a,actionSubText:(e=>{const t=W(e);return s.a.createElement(b.a.Group,null,s.a.createElement(b.a,null,s.a.createElement(_.b,{color:"white"},s.a.createElement(C.a.I18NFormatMessage,{$i18n:"g8ffaf17"},s.a.createElement(b.a.Value,null,C.a.a5f7b70f({formattedCount:t})),s.a.createElement(b.a.Label,null,C.a.a7daec1e({count:e})))),s.a.createElement(P.a,{onPress:q,size:"xSmall",type:"primaryText"},j)))})(M),actionText:U,iconThumbnailColor:"success",isSelected:!!v,onClick:K({_type:"trusted_friends_tweet",conversationControlsValue:"trusted_friends_tweet",trustedFriendsMemberCount:M,trustedFriendsValue:{trusted_friends_list_id:E}}),selectable:!0,style:V.menuItem,withIconAsThumbnail:!0}):null),r&&m&&c?s.a.createElement(k.a,null,s.a.createElement(u.a,{behavioralEventContext:z},s.a.createElement(_.b,{style:V.title,weight:"bold"},F),s.a.createElement(S.a,{module:m,noItemsRenderer:x.a,renderer:e=>s.a.createElement(T,{clickHandler:K,communityId:e,dismiss:o,key:e,selectedCommunityId:f}),withoutHeadroom:!0}))):null))},K=a("v6aA"),q=a("xVN5"),$=a("wAC9");var Q=e=>Object($.a)({contextSuffix:"COMMUNITIES_MEMBERSHIPS_SLICE",getFetchApiEndpoint:e=>e.Communities.fetchCommunitiesMembershipsSlice,getEndpointParams:e=>e,sliceKey:`communitiesMembershipsSlice-${e}`}),X=a("hqKg"),Y=a("li/m"),J=a("RqPI"),Z=a("xZGM"),ee=a("0KEI"),te=a("DVtB");const ae=(e,t)=>{const a=t.audienceControlsValue.communityIdValue||void 0;return a?h.c.select(e,a):void 0},ne=(e,t)=>Object(Z.D)(e,Z.f),ie=(e,t)=>Object(Z.D)(e,Z.w),oe=e=>{const t=Object(te.b)(e);return t.length?t[0]:void 0};var se=Object(p.a)().propsFromState((()=>({communities:h.f,educationalVisibilityFlag:ne,trustedFriendsEducationVisibilityFlag:ie,hasMemberships:Y.d,selectedCommunity:ae,sliceModule:Object(X.createSelector)(J.r,(e=>e?Q(e):void 0)),selectTrustedFriendsList:oe}))).propsFromActions((()=>({createLocalApiErrorHandler:Object(ee.createLocalApiErrorHandlerWithContextFactory)("COMMUNITIES_CONTROLS"),addEducationFlag:()=>Object(Z.z)(Z.f),addTrustedFriendsEducationFlag:()=>Object(Z.z)(Z.w),updateSingleComposer:q.w,fetchOrCreateTrustedFriendsList:te.a}))),re=a("FG+G"),le=a.p+"twitter-circle.b1a74a95.svg",ce=a("TIdA"),de=a("A91F");const ue=C.a.f0598964,he=C.a.ceec051b,pe=C.a.fc5bfd95,me=C.a.f5b3dc1d,ge=f.a.create((e=>({root:{flexDirection:"column",paddingBottom:e.spaces.space4,borderRadius:e.borderRadii.xLarge},modal:{borderRadius:e.borderRadii.none},title:{flexDirection:"column",paddingHorizontal:e.spaces.space16,paddingTop:e.spaces.space12},createButton:{marginTop:e.spaces.space16,marginHorizontal:e.spaces.space16},cancelButton:{marginHorizontal:e.spaces.space16,marginVertical:e.spaces.space16},coverContainer:{height:"170px",width:"100%"}})));var be=e=>{const{onAction:t,setShowTrustedFriendsModal:a}=e;return s.a.createElement(s.a.Fragment,null,s.a.createElement(k.a,{accessibilityDescribedBy:"trusted-friends-education-popover",accessibilityLabelledBy:"trustd-friends-education-title",accessibilityRole:"dialog",style:ge.root},s.a.createElement(k.a,{style:ge.coverContainer},s.a.createElement(ce.a,{accessibilityLabel:"",aspectMode:de.a.COVER,image:le})),s.a.createElement(k.a,{style:ge.title},s.a.createElement(_.b,{nativeID:"conversation-controls-title",size:"title3",style:ge.title,weight:"bold"},ue),s.a.createElement(_.b,{color:"gray700",nativeID:"conversation-controls-details",size:"body",style:ge.createButton},he),s.a.createElement(P.a,{onPress:()=>{t(),a(!0)},size:"xLarge",style:ge.createButton,type:"primaryFilled"},pe),s.a.createElement(P.a,{key:"button_cancel",onPress:()=>{t()},size:"xLarge",style:ge.cancelButton,type:"primaryOutlined"},me))))},_e=a("7JQg"),ye=a("feu+"),fe=a("cOhU"),we=a("a5gf"),Ce=a("Lsrn"),ve=a("k/Ka");const Te=(e={})=>Object(ve.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[Ce.a.root,e.style],viewBox:"0 0 24 24"},s.a.createElement("g",null,s.a.createElement("path",{d:"M1 7c0-.552.448-1 1-1h9.38c.545-2.275 2.83-3.678 5.104-3.135 1.552.37 2.764 1.583 3.135 3.135H22c.552 0 1 .448 1 1s-.448 1-1 1h-2.38c-.545 2.275-2.83 3.678-5.104 3.135-1.552-.37-2.764-1.583-3.135-3.135H2c-.552 0-1-.448-1-1zm21 9h-9.38c-.545-2.275-2.83-3.678-5.104-3.135-1.552.37-2.764 1.583-3.135 3.135H2c-.552 0-1 .448-1 1s.448 1 1 1h2.38c.545 2.275 2.83 3.678 5.104 3.135 1.552-.37 2.764-1.583 3.135-3.135H22c.552 0 1-.448 1-1s-.448-1-1-1z"})));Te.metadata={width:24,height:24};var Ee=Te;const xe=C.a.e76b4485,Se=C.a.j24c37b2,Ie=C.a.bb55e8ed,ke=C.a.h3fad86e,Re=C.a.g31872be,Pe=C.a.b28ec85f,Me=C.a.h0318479;function De(e){const{changeAudienceToTrustedFriends:t,history:a,setShowModal:n,trustedFriendsListId:i}=e,o=s.a.useCallback((()=>{t(),i&&(n(!1),a.push(`/i/circles/${i}/members`))}),[a,n,i,t]),r=s.a.useCallback((()=>{n(!1),t()}),[n,t]),l=s.a.createElement(s.a.Fragment,null,s.a.createElement(k.a,{style:Le.contentWrapper},s.a.createElement(k.a,null,s.a.createElement(fe.a,{style:Le.icon})),s.a.createElement(k.a,{style:Le.subtextContainer},s.a.createElement(_.b,{align:"left",color:"text",style:Le.subtextContainer,weight:"bold"},Ie),s.a.createElement(_.b,{align:"left",color:"gray700"},ke))),s.a.createElement(k.a,{style:Le.contentWrapper},s.a.createElement(k.a,null,s.a.createElement(we.a,{style:Le.icon})),s.a.createElement(k.a,{style:Le.subtextContainer},s.a.createElement(_.b,{color:"text",weight:"bold"},Re),s.a.createElement(_.b,{color:"gray700"},Pe))),s.a.createElement(k.a,{style:Le.contentWrapper},s.a.createElement(k.a,null,s.a.createElement(Ee,{style:Le.icon})),s.a.createElement(k.a,{style:Le.subtextContainer},s.a.createElement(_.b,{color:"text",weight:"bold"},Me),s.a.createElement(_.b,{color:"gray700"},s.a.createElement(C.a.I18NFormatMessage,{$i18n:"c97dfde4"},s.a.createElement(_.b,{color:"text",link:"https://help.twitter.com/using-twitter/twitter-circle",style:Le.learnMore,weight:"bold",withUnderline:!0},C.a.b2f72d11))))));return s.a.createElement(_e.c,null,s.a.createElement(ye.a,{actionLabel:Se,headline:xe,onAction:o,onClose:r,subtext:l,withCloseButton:!0}))}const Le=f.a.create((e=>({subtextContainer:{display:"flex",flexDirection:"column",width:"100%"},icon:{color:e.colors.green500,paddingTop:e.spaces.space4,paddingRight:e.spaces.space24},learnMore:{whiteSpace:"nowrap"},contentWrapper:{display:"flex",flexDirection:"row",paddingTop:e.spaces.space32}})));var Ae=a("FGLp"),Oe=a("X00g"),Fe=a("Sp5X"),Be=a("efqG");const Ne=C.a.baffe39a,Ue=C.a.e815fc33,je=C.a.aa4209e8,He=C.a.d0748dae,ze={viewType:"communities_controls"},We=s.a.createElement(re.a,null);const Ve=f.a.create((e=>({button:{paddingHorizontal:e.spaces.space4},container:{display:"inline-flex",flexDirection:"row",paddingBottom:e.spaces.space12},hidden:{visibility:"hidden"},root:{flexDirection:"column",paddingTop:e.spaces.space16,paddingBottom:e.spaces.space16}})));var Ge=se((function(e){const t=s.a.useContext(K.a),[a,n]=s.a.useState(!1),[o,r]=s.a.useState(!1),{addEducationFlag:l,addTrustedFriendsEducationFlag:c,audienceControlsValue:d,educationalVisibilityFlag:h,hasMemberships:p,isC9sParticipationEnabled:m,isSuperFollowsCreator:g,isTrustedFriendsEnabled:b,onAudienceControlsValueChange:_,selectTrustedFriendsList:y,selectedCommunity:f,sliceModule:w,trustedFriendsEducationVisibilityFlag:C,updateSingleComposer:v}=e,T=t.featureSwitches.isTrue("c9s_ui_colors_enabled_rweb"),E=d.communityIdValue||!1,x=d.exclusivityControlValue||!1,S=d.trustedFriendsValue||!1,I=null==y?void 0:y.rest_id,R=b&&C,M=h&&!f||R;let D,L=Ne;if(E&&null!=f&&f.name?L=f.name:x?L=je:S&&(L=He),x)D={color:"plum500",borderColor:"plum500",backgroundColor:"transparent"};else if(S)D={color:"green500",borderColor:"green500",backgroundColor:"transparent"};else if(E&&null!=f&&f.theme&&T){const e=Oe.a.getCommunityUIColorName(f.theme);D={color:e,borderColor:e,backgroundColor:"transparent"}}else D={type:"brandOutlined"};Object(Ae.a)((()=>{const{fetchOrCreateTrustedFriendsList:t}=e;b&&(null==t||t())}));const A=s.a.useCallback((()=>{r(!1),l(),c()}),[l,c]),O=s.a.useCallback((e=>R&&!E?s.a.createElement(be,{history:Fe.a,onAction:e,setShowTrustedFriendsModal:n}):s.a.createElement(G,{audienceControlsValue:d,dismiss:e,hasMemberships:p,history:Fe.a,isC9sParticipationEnabled:m,isSuperFollowsCreator:g,isTrustedFriendsEnabled:b,onAudienceControlsValueChange:e=>{A(),_(e)},sliceModule:w,trustedFriendsList:y,updateSingleComposer:v})),[A,w,v,d,p,m,g,y,_,E,R,b]),F=s.a.useCallback((()=>{I&&_({_type:"trusted_friends_tweet",conversationControlsValue:"trusted_friends_tweet",trustedFriendsMemberCount:null==y?void 0:y.member_count,trustedFriendsValue:{trusted_friends_list_id:I}})}),[_,I,y]);return g||p||b&&e.selectTrustedFriendsList?s.a.createElement(u.a,{behavioralEventContext:ze},s.a.createElement(k.a,{style:Ve.container},a?s.a.createElement(De,{changeAudienceToTrustedFriends:F,history:Fe.a,setShowModal:n,trustedFriendsListId:I}):null,s.a.createElement(Be.a,{onDismiss:A,onOpen:()=>{r(!0)},renderContent:O,visibilityBehavior:M&&!a?"forceVisible":"interactive"},s.a.createElement(P.a,i()({accessibilityExpanded:o,accessibilityHasPopup:"menu",accessibilityLabel:Ue,accessibilityRole:"button",icon:We,size:"xSmall"},D),L)))):null})),Ke=a("PKbs");const qe=(e,t)=>{const a=t.selectedCommunityId;return a?h.c.select(e,a):void 0};var $e=Object(p.a)().propsFromState((()=>({community:qe}))).propsFromActions((()=>({createLocalApiErrorHandler:Object(ee.createLocalApiErrorHandlerWithContextFactory)("COMMUNITY_RULES"),fetchCommunityIfNeeded:h.c.fetchOneIfNeeded}))),Qe=a("YeIG"),Xe=a("21zW");const Ye=C.a.gfca5254,Je=C.a.f510c8b2,Ze=s.a.createElement(_.b,{weight:"bold"},Je),et=f.a.create((e=>({button:{paddingHorizontal:e.spacesPx.space8+e.spacesPx.space2},badgeStyle:{marginRight:e.spaces.space12},container:{display:"inline-flex",flexDirection:"row",paddingBottom:e.spaces.space12,alignItems:"baseline"},rulesHeader:{marginHorizontal:e.spaces.space16,marginVertical:e.spaces.space12},ruleContainerStyle:{paddingHorizontal:e.spaces.space16,fontWeight:"normal"}})));var tt=$e((({community:e,createLocalApiErrorHandler:t,fetchCommunityIfNeeded:a,selectedCommunityId:n,showMiddot:o})=>{s.a.useEffect((()=>{n&&Object(Qe.a)(e)&&a(n).catch(t())}),[e,n,t,a]);const[r,l]=s.a.useState(!1),{featureSwitches:c}=s.a.useContext(K.a),d=s.a.useCallback((t=>{if(null!=e&&e.rules){const{rules:t,theme:a}=e;return s.a.createElement(Ke.b,{badgeStyle:et.badgeStyle,headerContainerStyle:et.rulesHeader,heading:Ze,ruleContainerStyle:et.ruleContainerStyle,rules:t,theme:a})}return null}),[e]);if(null!=e&&e.rules&&e.rules.length>0){const{theme:t}=e,a=Oe.a.getCommunityUIColorName(t),n=c.isTrue("c9s_ui_colors_enabled_rweb")?{color:a,borderColor:"transparent",backgroundColor:"transparent"}:{type:"brandText"};return s.a.createElement(k.a,{style:et.container},o?s.a.createElement(Xe.a,null):null,s.a.createElement(Be.a,{onDismiss:()=>l(!1),onOpen:()=>l(!0),renderContent:d},s.a.createElement(P.a,i()({accessibilityExpanded:r,accessibilityHasPopup:"dialog",accessibilityRole:"button",size:"xSmall",style:et.button},n),Ye)))}return null})),at=a("ii+P"),nt=a("4zmP");const it=C.a.g46f363d,ot={viewType:"rule_education"},st=()=>{const[e,t]=Object(at.a)(Z.g);return s.a.useEffect((()=>t),[t]),e?s.a.createElement(k.a,{style:rt.container},s.a.createElement(nt.a,{behavioralEventContext:ot,onClose:t,text:it,withCloseButton:!0})):null},rt=f.a.create((e=>({container:{marginBottom:e.spaces.space8}})));var lt=s.a.memo(st),ct=a("H7Rt"),dt=a("yZqq");const ut=(e,t)=>Object(Z.D)(e,Z.s);var ht=Object(p.a)().propsFromState((()=>({shouldShowEducation:ut}))).propsFromActions((()=>({addEducationFlag:()=>Object(Z.z)(Z.s)})));const pt=C.a.aa65a449,mt={viewType:"persistent_conversation_controls_education"};const gt=f.a.create((e=>({container:{width:"100%",marginBottom:e.spaces.space8}})));var bt=ht((function({addEducationFlag:e,buttonRef:t,shouldShowEducation:a}){const{featureSwitches:n}=s.a.useContext(K.a),[i,o]=s.a.useState(),r=()=>{e()};return s.a.useEffect((()=>r),[]),s.a.useEffect((()=>{if(t){const{left:e,width:a}=t.getBoundingClientRect();o(e+a/2)}}),[t]),!0===n.getValueWithoutScribeImpression("conversation_controls_persistence_enabled")&&a?s.a.createElement(k.a,{style:gt.container},s.a.createElement(nt.a,{arrowPositionStart:i,behavioralEventContext:mt,onClose:r,text:pt,withCloseButton:!0})):null})),_t=a("DlMI"),yt=a("gBde"),ft=a("gUPl");const wt=s.a.createElement(_t.a,null),Ct=s.a.createElement(yt.a,null),vt=s.a.createElement(ft.a,null),Tt=s.a.createElement(fe.a,null),Et=s.a.createElement(we.a,null),xt="conversation_control",St={viewType:xt},It=Object.freeze({all:{icon:wt,label:C.a.i8ea6d4e},community:{icon:vt,label:C.a.ec5a4a25},by_invitation:{icon:Ct,label:C.a.b4543009},community_members:{icon:Tt,label:C.a.i13be5a0},super_followers_exclusive:{icon:wt,label:C.a.f8393bda},trusted_friends_tweet:{icon:Et,label:C.a.c0857ccd}});Object.freeze(["community","by_invitation"]);var kt=Object(I.a)((e=>{const{analytics:t,...a}=e,{disabled:n,value:i}=e,{icon:o,label:r}=It[i],[l,c]=s.a.useState(!1),d=s.a.useRef(null);Object(Ae.a)((()=>{i!==ct.a.all&&i!==ct.a.community_members&&c(!0)}));const h=s.a.useCallback((e=>{t.scribe({element:xt,action:"click"})}),[t]);return s.a.createElement(u.a,{behavioralEventContext:St},l?s.a.createElement(bt,{buttonRef:d.current}):null,s.a.createElement(k.a,{style:Rt.controlsContainer},s.a.createElement(dt.a,a,s.a.createElement(P.a,{disabled:n,icon:o,onPress:h,ref:d,size:"xSmall",style:Rt.button,type:"brandText"},r))))}));const Rt=f.a.create((e=>({button:{paddingHorizontal:e.spacesPx.space8+e.spacesPx.space2},controlsContainer:{display:"inline-flex",flexDirection:"row",paddingBottom:e.spaces.space12}})));var Pt=a("krmn"),Mt=a("cIoY"),Dt=a("w3n3"),Lt=a("MLl7"),At=a("1auM"),Ot=a("07FG"),Ft=a("Q8CU"),Bt=a("QbaN"),Nt=a("VPdC"),Ut=a("WPfJ");var jt=f.a.create((e=>({root:{paddingHorizontal:e.componentDimensions.gutterHorizontal},avatarContainerExpanded:{paddingTop:e.spaces.space4},avatarContainer:{justifyContent:"center"},avatar:{width:"100%"},controlsContainer:{marginLeft:-e.spacesPx.space8,borderBottomColor:e.colors.borderColor,borderBottomWidth:e.spaces.space1,flexWrap:"wrap",width:"100%"},mobileControlsLayout:{flexDirection:"column"},controlsLayout:{flexDirection:"row",alignItems:"center"},rightColumn:{paddingTop:e.spaces.space4,justifyContent:"center",position:"static",transitionProperty:"opacity, color",transitionDuration:"0.1s",transitionTimingFunction:"ease-out"},composeBoxContainer:{display:"flex",flexDirection:"column",flexGrow:1,flexShrink:1,position:"static",zIndex:1},inputArea:{zIndex:1},dragDrop:{borderColor:e.colors.transparent,borderRadius:e.borderRadii.small,borderStyle:"solid",borderWidth:e.borderWidths.medium},textInputArea:{alignItems:"center",flexDirection:"row",justifyContent:"space-between",zIndex:Ut.f},textInputStyle:{paddingHorizontal:0},textInputMobileCollapsed:{maxHeight:e.fontSizes.title4,padding:0,overflow:"hidden"},tweetAttachmentArea:{zIndex:Ut.e},iconEmojiPicker:{zIndex:Ut.c},toolBar:{alignItems:"center",backgroundColor:e.colors.cellBackground,flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",marginHorizontal:e.spaces.space2,zIndex:Ut.a},firstToolBarButton:{marginLeft:`-${e.spaces.space8}`},toolBarButton:{marginHorizontal:0},toolBarIconsContainer:{alignItems:"center",flexDirection:"row",marginTop:e.spaces.space12},separator:{width:"1px",backgroundColor:e.colors.gray300,height:e.fontSizes.title2,marginRight:e.spaces.space12,marginLeft:`calc(${e.spaces.space12} - 2px)`},conversationLine:{alignSelf:"center",backgroundColor:e.colors.gray200,flexGrow:1,flexShrink:1,minHeight:0,width:e.componentDimensions.conversationLineWidth,marginTop:e.spaces.space4,marginBottom:e.spaces.space4},conversationLineWithOverflow:{marginTop:`-${e.spaces.space4}`},attachmentContainer:{marginTop:e.spaces.space4,marginBottom:e.spaces.space4},mediaPreview:{marginTop:e.spaces.space4},quoteTweet:{backgroundColor:e.colors.transparent,marginTop:e.spaces.space4,marginBottom:0},addImageTextContainer:{alignSelf:"flex-start",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},addImageActionIcon:{marginHorizontal:e.spaces.space4},addImageTextPadding:{marginEnd:e.spaces.space48},imageActions:{alignItems:"center",flexDirection:"row",flexWrap:"wrap",marginTop:e.spaces.space4},blurStyle:{opacity:.5},inputStyle:{width:"100%"},collapsedInputStyle:{flexGrow:1,flexShrink:1},highlightedText:{borderRadius:e.borderRadii.large,paddingVertical:e.spaces.space12,paddingLeft:e.spaces.space12,marginTop:0,marginBottom:0},highlightedTextInner:{marginHorizontal:e.spaces.space4},taggedLocationButton:{paddingLeft:e.spacesPx.space8+e.spacesPx.space2,paddingRight:e.spacesPx.space8+e.spacesPx.space2,maxWidth:"100%"},taggedLocationContainer:{display:"inline-flex",flexDirection:"row",minWidth:0,flexShrink:1,paddingBottom:e.spaces.space12}})));const Ht=C.a.bdbcdd93;var zt=({media:e,mediaAttachDisabled:t,onFilesAdded:a,setActiveParentKey:n})=>{const i=t||e.length>=4,o=e.length<3;return s.a.createElement(Nt.a,{acceptGifs:0===e.length,acceptVideo:0===e.length,accessibilityLabel:e.length>0?Ht:void 0,disabled:i,multiple:o,onChange:a,onPress:n,style:[jt.toolBarButton,jt.firstToolBarButton],type:"brandText"})},Wt=a("oQhu"),Vt=a("p+r5"),Gt=a("GWvE");class Kt extends s.a.Component{constructor(...e){super(...e),this._setInputRef=e=>{this._inputRef=e}}render(){const{autoFocus:e,defaultValue:t,editable:a,label:n,name:i,onBlur:o,onChange:r}=this.props;return s.a.createElement(k.a,{style:qt.root},s.a.createElement(Vt.a,{autoCapitalize:"none",autoCorrect:!1,autoFocus:e,defaultValue:t,editable:a,label:n,maxLength:25,name:i,onBlur:o,onChange:r,ref:this._setInputRef,spellCheck:"false",style:qt.formTextInput}))}get value(){return this._inputRef&&this._inputRef.getValue()}get isValid(){const{optional:e}=this.props;return!this.value&&e||this.value&&!Object(Gt.a)(this.value)&&this._inputRef&&this._inputRef.isValidLength()}}Kt.defaultProps={autoFocus:!1,editable:!0,optional:!1};const qt=f.a.create((e=>({root:{flexDirection:"row",flexShrink:1},action:{width:e.spaces.space40},addButton:{flexGrow:1,minHeight:"100%",padding:0},formTextInput:{flexGrow:1,flexShrink:1,marginVertical:0,paddingTop:0,paddingHorizontal:0,paddingBottom:e.spaces.space12}})));var $t=Kt,Qt=a("mtvn"),Xt=a("6XNv");class Yt extends s.a.PureComponent{render(){const{editable:e,label:t,last:a,max:n,min:i,onChange:o,testID:r,value:l}=this.props,c=!e||i===n,d=l.toString(),u=Object(Qt.a)(i,n+1).map((e=>({label:`${C.a.ia24dc8c(e)}`,value:`${e}`})));return s.a.createElement(Xt.a,{disabled:c,label:t,onChange:o,options:u,style:[Jt.selector,!a&&Jt.rightMargin],testID:r,value:d})}}Yt.defaultProps={last:!1};const Jt=f.a.create((e=>({rightMargin:{marginRight:e.spaces.space20},selector:{flexGrow:1}})));var Zt=Yt,ea="addPollChoice",ta="selectPollDays",aa="selectPollHours",na="selectPollMinutes",ia="removePollButton";const oa=C.a.caf8edc4,sa=C.a.g93586be,ra=C.a.d073b644,la=C.a.a2f0728e;class ca extends s.a.Component{constructor(e,t){super(e,t),this._handleDaysChange=e=>{const{onChange:t}=this.props,a=parseInt(e,10);this.setState((e=>{const{hours:n,minutes:i}=e.duration,o=0===a&&0===n&&0===i?1:7===a?0:n,s={days:a,hours:o,minutes:7===a?0:0===a&&0===o&&i<5?5:i};return t&&t(s),{duration:s}}))},this._handleHoursChange=e=>{const{onChange:t}=this.props,a=parseInt(e,10);this.setState((e=>{const{days:n,minutes:i}=e.duration,o={days:n,hours:a,minutes:0===n&&0===a&&i<5?5:i};return t&&t(o),{duration:o}}))},this._handleMinutesChange=e=>{const{onChange:t}=this.props,a=parseInt(e,10);this.setState((e=>{const{days:n,hours:i}=e.duration,o={days:n,hours:i,minutes:a};return t&&t(o),{duration:o}}))},this.state={duration:e.initialDuration}}render(){const{isActive:e,style:t}=this.props;return s.a.createElement(k.a,{style:t},s.a.createElement(_.b,{style:da.durationLabel},e?oa:""),this._renderPicker())}_renderPicker(){const{editable:e,isActive:t}=this.props,{duration:{days:a,hours:n,minutes:i}}=this.state;return s.a.createElement(k.a,{style:da.durationControls},s.a.createElement(Zt,{editable:e&&t,label:sa,max:7,min:0,onChange:this._handleDaysChange,testID:ta,value:a}),s.a.createElement(Zt,{editable:e&&t,label:ra,max:7===a?0:23,min:0,onChange:this._handleHoursChange,testID:aa,value:n}),s.a.createElement(Zt,{editable:e&&t,label:la,last:!0,max:7===a?0:59,min:0===a&&0===n?5:0,onChange:this._handleMinutesChange,testID:na,value:i}))}get duration(){return this.state.duration}}ca.defaultProps={editable:!0,initialDuration:{days:1,hours:0,minutes:0}};const da=f.a.create((e=>({durationControls:{flexDirection:"row",justifyContent:"space-between"},durationLabel:{marginBottom:e.spaces.space4}})));var ua=ca,ha=a("iY63"),pa=a("jtO7");const ma=C.a.g589c2e1,ga=C.a.a1e6c3a1,ba=C.a.a739e006,_a=C.a.d89a5b92,ya=C.a.c2a8118d,fa=C.a.a8ede1de,wa=C.a.af40a8ef;class Ca extends s.a.Component{constructor(e,t){super(e,t),this._setChoice1Ref=e=>{this._choice1=e},this._setChoice2Ref=e=>{this._choice2=e},this._setChoice3Ref=e=>{this._choice3=e},this._setChoice4Ref=e=>{this._choice4=e},this._setDurationPickerRef=e=>{this._durationPicker=e},this._handleValidation=()=>{const{onChange:e,onInvalid:t,onValid:a}=this.props,n=this.choices,{_choice1:i,_choice2:o,_choice3:s,_choice4:r}=this,l=[i,o,s,r].filter(Boolean).every((e=>e.isValid));n&&n.length>=2&&l?a():t(),e&&e({choices:n,duration:this.duration})},this._handleAdd=()=>{const{analytics:e}=this.props;e.scribe({element:"add_poll_option",action:"click"}),this.setState((({choiceCount:e})=>({autoFocus:!0,choiceCount:e+1})))},this._handleDurationChange=e=>{const{onChange:t}=this.props;t&&t({choices:this.choices,duration:e})},this._handleBlur=()=>{const{onBlur:e}=this.props;null==e||e()};const{initialChoices:a}=e,n=void 0===a,i=(a||[]).length,o=i>2?i:2;this.state={autoFocus:n,choiceCount:o}}_renderChoices(){const{editable:e,initialChoices:t=[],isActive:a}=this.props,{autoFocus:n,choiceCount:i}=this.state,o=s.a.createElement(k.a,{style:va.rightColumn},i<4?s.a.createElement(P.a,{accessibilityLabel:fa,disabled:!(e&&a),hoverLabel:{label:wa},icon:s.a.createElement(ha.a,null),onPress:this._handleAdd,size:"medium",style:va.addButton,testID:ea,type:"brandText"}):null);return s.a.createElement(k.a,{style:va.choicesAndAddButton},s.a.createElement(k.a,{style:va.choices},s.a.createElement($t,{autoFocus:n,defaultValue:t[0],editable:e&&a,label:ma,name:"Choice1",onBlur:this._handleBlur,onChange:this._handleValidation,ref:this._setChoice1Ref}),s.a.createElement($t,{defaultValue:t[1],editable:e&&a,label:ga,name:"Choice2",onBlur:this._handleBlur,onChange:this._handleValidation,ref:this._setChoice2Ref}),i>=3?s.a.createElement($t,{autoFocus:n,defaultValue:t[2],editable:e&&a,label:ba,name:"Choice3",onBlur:this._handleBlur,onChange:this._handleValidation,optional:!0,ref:this._setChoice3Ref}):null,4===i?s.a.createElement($t,{autoFocus:n,defaultValue:t[3],editable:e&&a,label:_a,name:"Choice4",onBlur:this._handleBlur,onChange:this._handleValidation,optional:!0,ref:this._setChoice4Ref}):null),o)}render(){const{editable:e,initialDuration:t,isActive:a,onRemove:n}=this.props;return s.a.createElement(k.a,{style:va.root},this._renderChoices(),s.a.createElement(ua,{editable:e,initialDuration:t,isActive:a,onChange:this._handleDurationChange,ref:this._setDurationPickerRef,style:va.durationPicker}),s.a.createElement(k.a,{style:va.removePollButton},s.a.createElement(pa.a,{color:"red500",label:ya,onPress:n,testID:ia})))}get choices(){const{_choice1:e,_choice2:t,_choice3:a,_choice4:n}=this;return[e&&e.value,t&&t.value,a&&a.value,n&&n.value].filter(Boolean)}get duration(){return this._durationPicker?this._durationPicker.duration:void 0}}const va=f.a.create((e=>({root:{backgroundColor:e.colors.transparent,borderColor:e.colors.nestedBorderColor,borderRadius:e.borderRadii.xLarge,borderStyle:"solid",borderWidth:e.borderWidths.small,flexDirection:"column",overflow:"hidden",paddingTop:e.spaces.space12},choicesAndAddButton:{paddingHorizontal:e.spaces.space12,flexDirection:"row"},choices:{flexGrow:1,flexShrink:1},removePollButton:{borderBottomLeftRadius:e.borderRadii.xLarge,borderBottomRightRadius:e.borderRadii.xLarge},rightColumn:{flexDirection:"column-reverse"},addButton:{marginBottom:e.spaces.space24,marginLeft:e.spaces.space4},durationPicker:{borderTopColor:e.colors.nestedBorderColor,borderTopWidth:e.borderWidths.small,borderBottomColor:e.colors.nestedBorderColor,borderBottomWidth:e.borderWidths.small,padding:e.spaces.space12}})));var Ta=Object(I.a)(Ca),Ea=a("+d3d");var xa=({composerIndex:e,editable:t,initialChoices:a,initialDuration:n,isActive:o,isPollValid:r,updateComposer:l})=>{const c=Object(I.b)(),{onChange:d,...u}=s.a.useMemo((()=>({onChange(t){l({pollChoices:null==t?void 0:t.choices,pollDuration:null==t?void 0:t.duration},e)},onValid(){!r&&l({pollValid:!0},e)},onInvalid(){r&&l({pollValid:!1},e)},onRemove(){c.scribe({element:"remove_poll",action:"click"}),l({pollActive:!1},e)}})),[c,r,l,e]),h=s.a.useMemo((()=>Object(Ea.a)((({choices:e,duration:t})=>{d({choices:e,duration:t})}),200,{leading:!0,trailing:!0})),[d]),p=s.a.useCallback((()=>{h.flush()}),[h]);return s.a.createElement(Ta,i()({editable:t,initialChoices:a,initialDuration:n,isActive:o,onBlur:p,onChange:h},u))};const Sa=f.a.create((e=>({container:{marginBottom:e.spaces.space4},link:{color:"black"}}))),Ia=C.a.i859676b,ka=s.a.createElement(C.a.I18NFormatMessage,{$i18n:"a02c8d74"},s.a.createElement(_.b,{link:"/settings/audience_and_tagging",style:Sa.link,withInteractiveStyling:!0,withUnderline:!0},C.a.c9a48d3f));function Ra(){return s.a.createElement(k.a,{style:Sa.container},s.a.createElement(nt.a,{headline:Ia,text:ka}))}var Pa=a("b5s6"),Ma=a("rcen"),Da=a("zmS9"),La="addButton",Aa="addSubtitlesLabel",Oa="altTextLabel",Fa="tagPeopleLabel",Ba="attachments",Na="createPollButton",Ua="geoButton",ja="gifSearchButton",Ha="scheduleOption",za="taggedUsersLabel",Wa="tweetTextarea_",Va="toolBar",Ga="scheduledTweetIndicator",Ka=a("xM7j"),qa=a("6OUF"),$a=a("tZIO"),Qa=a("5mJL"),Xa=a("DNho"),Ya=a("jhWN"),Ja=a("rFBM"),Za=a("zfvc"),en=a("Ujvi"),tn=a("yTN1"),an=a("gpVt"),nn=a("hOZg"),on=a("ll3R"),sn=a("J0mu"),rn=a("EfHu"),ln=a("KrGU"),cn=a("boUI"),dn=a("6ZHn"),un=a("/WPq"),hn=a("wpLu"),pn=a("pHub"),mn=a("8A5z"),gn=a("G31s"),bn=a("S1qy"),_n=a.n(bn),yn=a("cjAp"),fn=a.n(yn);const wn=C.a.f0afcc0e,Cn=C.a.ha5e2e79,vn=C.a.a3de3b68,Tn=C.a.cc2b28fc,En=C.a.g45af04e,xn=C.a.j1d5791c,Sn=C.a.ee9c4013,In=C.a.af40a8ef,kn=C.a.e68b09b4,Rn=C.a.ec10ee02,Pn=C.a.h735a98d,Mn=C.a.c4ccfbe2,Dn=C.a.j499fbcb,Ln=C.a.b7d8e3f0,An=C.a.d1175c78,On=C.a.bf4e9d79,Fn=C.a.e0342f98,Bn=C.a.e349147b,Nn=C.a.e3a24e4b,Un=C.a.fbd24526,jn=C.a.de4669e2,Hn=C.a.d2c7a41c,zn=C.a.f7364fa1,Wn=["ja","zh-cn","zh-tw","ko"],Vn=C.a.ia24dc8c,Gn=s.a.createElement(nn.a,null),Kn=s.a.createElement(ha.a,null),qn=s.a.createElement(on.a,null),$n=s.a.createElement(sn.a,null),Qn={viewType:"schedule_tweet"},Xn={viewType:"add_poll"},Yn={viewType:"add_composer"},Jn={viewType:"tag_location"};class Zn extends s.a.Component{constructor(e,t){super(e,t),this._handleConversationControlsValueChange=e=>{this._handleAudienceControlsValueChange({_type:"conversation_controls",conversationControlsValue:e})},this._handleAudienceControlsValueChange=e=>{this.props.updateAudienceControlsValue(e)},this._triggerConversationControlsImpression=Object(Wt.a)((()=>this.context.featureSwitches.isTrue("conversation_controls_limited_replies_creation_enabled"))),this._shouldRenderControls=(e,t)=>{const{isFocused:a}=this.state,{audienceControlsValue:n,isActive:i,isInline:o,isReply:s}=this.props;if("conversation"===t&&(n.conversationControlsValue===ct.a.community_members||n.conversationControlsValue===ct.a.super_followers_exclusive||n.conversationControlsValue===ct.a.trusted_friends_tweet)&&s)return!0;return i&&!s&&(!o||(a||e))},this._renderConversationControls=e=>{const{isFocused:t}=this.state,{audienceControlsValue:a,isInline:n,isReply:i}=this.props;if(i||!t&&n||this._triggerConversationControlsImpression(),!this._conversationControlsCreationEnabled)return null;const o=a.conversationControlsValue,r=this._shouldRenderControls(e,"conversation"),l=o===ct.a.community_members||o===ct.a.super_followers_exclusive||o===ct.a.trusted_friends_tweet||this._isScheduled();return r?s.a.createElement(kt,{disabled:l,onChange:this._handleConversationControlsValueChange,value:o}):null},this._renderTaggedLocation=e=>s.a.createElement(k.a,{style:jt.taggedLocationContainer},s.a.createElement(P.a,{icon:s.a.createElement(rn.a,null),onPress:this._handleGeoButtonClick,size:"xSmall",style:jt.taggedLocationButton,type:"brandText"},e.place.full_name)),this._renderMainContent=()=>{const{additionalToolbarContent:e,data:t,index:a,isExpanded:n,isInline:i,isInlineReply:o,onTypeaheadStateChange:r,richTextInputContext:l}=this.props,{cardUrl:c,media:d,pollActive:u,quotedStatus:h,text:p}=t,m=Object(an.b)(p)||c&&!Object(Ot.a)(c)&&[c],g=!!d.length||u||!!h,b=this.props.typeaheadWrapper,_=!this._isEmpty();return s.a.createElement(k.a,{style:jt.textInputArea},s.a.createElement(k.a,{style:n?jt.inputStyle:jt.collapsedInputStyle},this._renderAudienceControls(_),s.a.createElement(b,{contextText:p,isInline:i,isInlineReply:o,onTextUpdated:l?this._handleRichTextChange:this._handlePlainTextChange,onTypeaheadStateChange:r},this._renderFieldTextInput),m&&!g?s.a.createElement(an.a,{index:a,isCardPreviewTombstoned:Object(Ot.a)(c),urls:m}):null),n?null:e)},this._renderFieldTextInput=e=>{const{autoFocus:t,data:a,editable:n,index:o,isActive:r,isExpanded:l,isInline:c,isInlineReply:d,isLast:u,keyCommandHandlers:h,onTextInputBlur:p,positionCursorAtBeginning:m,richTextInputContext:g}=this.props,{isFocused:b}=this.state,{text:_}=a,y=0===o&&u,f=!!g,{dismissComposerCommandName:w,element:C,sendTweetCommandName:v}=g||{},T=d&&!g&&!l,E=g?{onChange:this._getHandleRichTextChange(e),richTextInputContext:{dismissComposerCommandName:w,editorState:this.state.editorState,element:C,sendTweetCommandName:v}}:{onChange:this._getHandlePlainTextChange(e)};return s.a.createElement(qa.a,i()({appTextSize:"headline1",ariaLabel:vn,autoFocus:t||r&&!c,closeButton:r&&(this._deleteNonemptyTweetstormComposerEnabled||this._isEmpty())&&!y?this._renderCloseButton():void 0,contentBelow:this._renderTweetAttachment(),editable:n,inputStyle:[jt.textInputStyle,T&&jt.textInputMobileCollapsed],keyCommandHandlers:h,maxNumberOfLines:f?30:10,multiline:!0,numberOfLines:this._calcNumberOfLines(),onBlur:p,onFilesAdded:this._handleFilesAdded,placeholder:this._getPlaceHolderText(),positionCursorAtBeginning:m,positionCursorAtEnd:!m,ref:this._setTextInputRef,styleType:"selection",testID:`${Wa}${o}`,useCacheForDOMMeasurements:b,value:_},E))},this._getHandleRichTextChange=Object(Wt.a)((e=>t=>{e(t),this._handleRichTextChange(t)})),this._getHandlePlainTextChange=Object(Wt.a)((e=>t=>{e(t),this._handlePlainTextChange(t)})),this._renderCommunityTweetFromProtectedUserCallout=()=>{const{index:e,isCommunityTweetFromProtectedUser:t}=this.props;return 0===e&&t?s.a.createElement(Ra,null):null},this._renderAudienceControls=e=>{const{audienceControlsValue:t,index:a,isSuperFollowsCreator:n}=this.props,i=this.context.featureSwitches.isTrue("c9s_participation_enabled"),o=this.context.featureSwitches.isTrue("super_follow_exclusive_tweet_creation_api_enabled"),r=this.context.featureSwitches.isTrue("trusted_friends_tweet_creation_enabled");return this._shouldRenderControls(e,"audience")&&0===a&&(i||o||r)?s.a.createElement(Ge,{audienceControlsValue:t,isC9sParticipationEnabled:i,isSuperFollowsCreator:n&&o,isTrustedFriendsEnabled:r,onAudienceControlsValueChange:this._handleAudienceControlsValueChange}):null},this._renderCommunitiesRulesEducation=()=>this.shouldRenderCommunitiesRules?s.a.createElement(lt,null):null,this._renderCommunitiesRules=e=>{const{audienceControlsValue:t}=this.props,a=t.communityIdValue||void 0;return this.shouldRenderCommunitiesRules&&a?s.a.createElement(tt,{selectedCommunityId:a,showMiddot:!e}):null},this._calcNumberOfLines=()=>{const{data:e,isActive:t,isInline:a,richTextInputContext:n}=this.props,i=!!n,{media:o,pollActive:s,quotedStatus:r}=e,l=!!o.length||!!s||!!r;return i&&(a||l)||!t?1:4},this._renderScheduledTweetLegend=()=>{const{scheduledFor:e}=this.props;return s.a.createElement(Da.a,{onPress:this._handlePressScheduledTweetLegend,scheduledFor:e,testID:Ga})},this._handlePressScheduledTweetLegend=()=>{const{analytics:e,history:t,setActiveParentKey:a}=this.props;t.push("/compose/tweet/schedule"),e.scribe({element:"tweet_legend",action:"click"}),a()},this._renderEmojiPicker=()=>s.a.createElement(Pt.a,{onEmojiSelect:this._handleInsertEmoji,size:"medium",style:this._getEmojiPickerButtonStyles(),textInputRef:this._textInputRef||void 0}),this._getEmojiPickerButtonStyles=Object(Wt.a)((()=>[jt.iconEmojiPicker,jt.toolBarButton])),this._isSchedulingDisabled=()=>{const{audienceControlsValue:e,data:{media:t,mediaTags:a,pollActive:n,quotedStatus:i,text:o},index:s,isLast:r}=this.props,l=0===s&&r,c=e.conversationControlsValue!==ct.a.all;return Boolean(n||!l||i&&""===o&&!t.length||c||a.length>0)},this._renderSchedulingButton=()=>s.a.createElement(P.a,{accessibilityLabel:Cn,behavioralEventContext:Qn,disabled:this._isSchedulingDisabled(),hoverLabel:{label:Pn},icon:$n,onClick:this._handleClickScheduler,size:"medium",style:jt.toolBarButton,testID:Ha,type:"brandText"}),this._handleClickScheduler=()=>{const{analytics:e,history:t,setActiveParentKey:a}=this.props;t.push("/compose/tweet/schedule"),e.scribe({element:"schedule_tweet",action:"click"}),a()},this._renderCloseButton=()=>{const{onRemoveComposer:e}=this.props;return s.a.createElement(P.a,{accessibilityLabel:Sn,hoverLabel:{label:kn},icon:Gn,onPress:e,size:"xSmall",type:"brandText"})},this._renderTweetAttachment=()=>{const{data:e,editable:t,index:a,isActive:n,updateSingleComposer:i}=this.props,{media:o,pollActive:r,pollChoices:l,pollDuration:c,quotedStatus:d}=e;if(0===o.length&&!r&&!d)return null;const u=this.hasAttachedVideo&&(this._videoTrimmerEnabled?"trimmer":"subtitles");return s.a.createElement(k.a,{onClick:this._handleFocus,style:[jt.attachmentContainer,jt.tweetAttachmentArea],testID:Ba},o.length>0?s.a.createElement(gn.a,{editable:t,isActive:n,media:o,onClickMedia:this.hasAttachedImage?this._handleClickMediaDetail("crop"):void 0,onEditMedia:this.hasAttachedImage?this._handleClickMediaDetail("crop"):u?this._handleClickMediaDetail(u):void 0,onEditSensitiveWarning:this.hasAttachedImage||this.hasAttachedVideo?this._handleClickMediaDetail("sensitive_media"):void 0,onRemoveMedia:this._handleMediaRemoveFactory,onSetMediaPreviewRef:this._handleSetMediaPreviewRef,style:jt.mediaPreview}):null,n?this._renderMediaActions():null,r?s.a.createElement(xa,{composerIndex:a,editable:t,initialChoices:l,initialDuration:c,isActive:n,isPollValid:e.pollValid,updateComposer:i}):null,d?this._renderQuoteTweet(d):null)},this._renderQuoteTweet=e=>{const{data:{media:t}}=this.props,a=e.tombstoneInfo;return a&&a.richText?s.a.createElement(Ka.a,null,s.a.createElement(Ma.a,{entities:a.richText.entities,rtl:a.richText.rtl,text:a.richText.text})):s.a.createElement(Pa.a,{isCondensed:t.length>0,style:jt.quoteTweet,tweetId:e.id_str,withLink:!1,withUserHoverCard:!1})},this._renderToolbar=e=>{const{additionalToolbarContent:t,data:{media:a},hidePoll:n,hideScheduling:i,isInlineReply:o,isReply:r,isSelfThreadReply:l,richTextInputContext:c,setActiveParentKey:d}=this.props,u=!!c,h=!o&&!n,p=!o&&!i,m=this.context.featureSwitches.isTrue("responsive_web_reply_storm_enabled"),g=e&&(!r||l||m);return s.a.createElement(k.a,{style:jt.toolBar,testID:Va},s.a.createElement(k.a,{style:jt.toolBarIconsContainer},s.a.createElement(zt,{media:a,mediaAttachDisabled:this.mediaAttachDisabled,onFilesAdded:this._handleFilesAdded,setActiveParentKey:d}),this._renderGifButton(),h?this._renderPollButton():null,u?this._renderEmojiPicker():null,p?this._renderSchedulingButton():null,this._renderGeoButton()),s.a.createElement(k.a,{style:jt.toolBarIconsContainer},e?this._renderCountdownCircle():null,g&&s.a.createElement(s.a.Fragment,null,s.a.createElement(k.a,{style:jt.separator}),this._renderAddComposerButton()),t))},this._addOverflowStyle=e=>{const{richTextInputContext:t}=this.props;if(!t)return;const a=e.getCurrentContent().getPlainText(),n=a.length,i=this._getParsedTweet(a).validRangeEnd,o=i+1<n;if(this.state.hasOverflowStyle||o){const a=o?i+1:-1;return{editorState:t.updateOverflowStyle&&t.updateOverflowStyle(e,a,this.state.hasOverflowStyle),hasOverflowStyle:o}}return{editorState:e,hasOverflowStyle:o}},this._handleRichTextChange=e=>{const{richTextInputContext:t}=this.props,a=e.getCurrentContent().getPlainText();if(t){const a=t.convertEmojiToEntities(e);this.setState(this._addOverflowStyle(a))}this._handleTextValueChange(a)},this._handlePlainTextChange=e=>{const t=$a.a.replaceCarriageReturns(e.target.value);this._handleTextValueChange(t)},this._handleTextValueChange=e=>{const{data:{key:t,text:a},onTextChange:n}=this.props;a!==e&&n(e,t)},this._handleClickAltTextShortcut=()=>{const{analytics:e}=this.props;e.scribe({element:"alt_text_button",action:"click"})},this._handleClickSubtitlesShortcut=()=>{const{analytics:e}=this.props;e.scribe({element:"subtitles_button",action:"click"})},this._handleClickMediaDetail=e=>t=>()=>{const{analytics:a,history:n}=this.props;a.scribe({element:"media_detail_button",action:"click"}),(this.hasAttachedImage||this.hasAttachedVideo)&&n.push("/compose/tweet/media",{mediaId:t,tab:e})},this._handleFilesAdded=e=>{const{addToast:t,data:{pollActive:a},onFilesAdded:n}=this.props;a?t({text:Tn}):n(e)},this._handleMediaRemoveFactory=e=>()=>{this.props.onRemoveMedia(this.props.index,e)},this._handleInsertEmoji=e=>{const{editorState:t}=this.state,{richTextInputContext:a}=this.props;if(!a||!t)return;const n=a.insertTextAtCursor(t,e.text);this._handleRichTextChange(n)},this._validateMedia=e=>{const{data:{media:t}}=this.props;return d.c(t.concat(e))},this._handlePollAdd=()=>{const{analytics:e,index:t,updateSingleComposer:a}=this.props;e.scribe({element:"add_poll",action:"click"}),a({pollActive:!0},t)},this._handleGeoButtonClick=()=>{const{analytics:e,history:t,setActiveParentKey:a}=this.props;t.push("/compose/tweet/place_picker"),e.scribe({element:"tag_location",action:"click"}),a()},this._handleWrapperClick=e=>{e.target instanceof Element&&e.target.closest('[role="button"],a,input,textarea,select')||this.focus()},this._handleFocus=()=>{const{index:e,isActive:t,onFocus:a,setActiveParentKey:n}=this.props;n(),t||(window.requestAnimationFrame((()=>{this._mediaPreviewRef&&this._mediaPreviewRef.playVideo()})),a(e))},this._handleEditorFocus=()=>this.setState({isFocused:!0}),this._formatCountdownNumber=e=>Vn(Math.ceil(e/this._userLanguageWeight)),this._getPlaceHolderText=()=>{const{data:{pollActive:e,quotedStatus:t},index:a,isReply:n,isSelfThreadReply:i}=this.props;return t?jn:e?zn:this.isReplyOrReplyThread&&0===a?Hn:n&&!i&&a>0?Un:i||a>0?Nn:Bn},this._getNumberOfAltTextEntries=()=>{const{data:{media:e}}=this.props;return e.reduce(((e,t)=>{var a;return null!=(a=t.mediaMetadata)&&a.altText?e+1:e}),0)},this._getParsedTweet=Object(Wt.a)((e=>{const t=fn.a[this.props.twitterTextConfigurationVersion];return _n()(e,t)})),this._isEmpty=()=>{const{data:e}=this.props;return Object(Ft.c)(e)},this._isScheduled=()=>{const{data:{scheduledFor:e}}=this.props;return Object(Bt.h)(e)},this._autotagLocationIfNeeded=()=>{const{data:{taggedLocation:e},fetchAutotaggedLocationIfNeeded:t,index:a,updateSingleComposer:n}=this.props;t().then((t=>{void 0===e&&n({taggedLocation:null!=t?t:null},a)}))},this._handleSetMediaPreviewRef=e=>{this._mediaPreviewRef=e},this._setTextInputRef=e=>{this._textInputRef=e};const{data:{text:a},richTextInputContext:n,userLanguage:o}=e,{initEditorState:r}=n||{};this._conversationControlsCreationEnabled=!0===this.context.featureSwitches.getValueWithoutScribeImpression("conversation_controls_limited_replies_creation_enabled"),this._deleteNonemptyTweetstormComposerEnabled=this.context.featureSwitches.isTrue("responsive_web_delete_nonempty_tweetstorm_composer_enabled"),this._userLanguageWeight=o&&Wn.indexOf(o)>-1?2:1,this._autotagLocationIfNeeded(),this.state={editorState:r?r(a):null,hasOverflowStyle:!1,isFocused:!1}}componentDidUpdate(e){(this.hasExternalMedia||this.props.data.media.some((e=>e.mediaFile&&!(e.mediaFile instanceof At.a)&&e.mediaFile.isVideo)))&&e.isActive&&!this.props.isActive&&this._mediaPreviewRef&&this._mediaPreviewRef.pauseVideo()}focus(){this._textInputRef&&this._textInputRef.focus()}render(){const{data:{taggedLocation:e},isActive:t,isExpanded:a,isInline:n,isLast:i,loggedInUser:o,windowWidth:r,withAvatar:l}=this.props,c=!this._isEmpty(),d=this._shouldRenderControls(c),u=r<f.a.theme.breakpoints.small;return s.a.createElement(k.a,{onClick:this._handleWrapperClick,onFocus:this._handleFocus,style:[jt.root,!t&&jt.blurStyle]},this._renderCommunityTweetFromProtectedUserCallout(),s.a.createElement(Qa.a,{avatarCell:s.a.createElement(s.a.Fragment,null,l?s.a.createElement(Xa.a.Consumer,null,(({avatarSize:e})=>s.a.createElement(Ya.a,{accessibilityLabel:o?o.name:void 0,screenName:o?o.screen_name:void 0,size:e,style:jt.avatar,uri:o?o.profile_image_url_https:void 0,withLink:n}))):null,i?null:s.a.createElement(k.a,{style:[jt.conversationLine,!l&&jt.conversationLineWithOverflow]})),avatarCellStyle:a?jt.avatarContainerExpanded:jt.avatarContainer,cellStyle:jt.rightColumn},this._renderScheduledTweetLegend(),s.a.createElement(k.a,{onFocus:this._handleEditorFocus,style:jt.inputArea},s.a.createElement(Ja.a,{allowDragDrop:!this.mediaAttachDisabled,onDragEnter:this._handleFocus,onFilesAdded:this._handleFilesAdded,style:jt.dragDrop},(e=>s.a.createElement(s.a.Fragment,null,s.a.createElement(k.a,{style:jt.composeBoxContainer},this._renderMainContent()))))),this._renderCommunitiesRulesEducation(),s.a.createElement(k.a,{style:[(d||e)&&jt.controlsContainer,u?jt.mobileControlsLayout:jt.controlsLayout]},this._renderConversationControls(c),this._renderCommunitiesRules(u),e?this._renderTaggedLocation(e):null),s.a.createElement(Za.b,{show:t&&a},this._renderToolbar(c))))}_renderGifButton(){const{data:{media:e,pollActive:t},history:a,loggedInUser:n,setActiveParentKey:i}=this.props,o=t||e.length||!n;return s.a.createElement(Dt.a,{enabled:!o,gifSearchKeySource:Lt.a.Composition,history:a,onPress:i,testID:ja})}_renderPollButton(){const{data:{media:e,pollActive:t,quotedStatus:a},loggedInUser:n}=this.props,i=this._isScheduled(),o=!(!(t||e.length||a||i)&&n);return s.a.createElement(P.a,{accessibilityLabel:wn,behavioralEventContext:Xn,disabled:o,hoverLabel:{label:Rn},icon:qn,onPress:this._handlePollAdd,size:"medium",style:jt.toolBarButton,testID:Na,type:"brandText"})}_renderGeoButton(){const{data:{taggedLocation:e},geoEnabled:t,loggedInUser:a}=this.props,n=!(t&&a),i=e?s.a.createElement(rn.a,null):s.a.createElement(ln.a,null);return s.a.createElement(P.a,{accessibilityLabel:Mn,behavioralEventContext:Jn,disabled:n,hoverLabel:{label:Mn},icon:i,onPress:this._handleGeoButtonClick,size:"medium",style:jt.toolBarButton,testID:Ua,type:"brandText"})}_renderMediaActions(){const{data:{gifMetadata:e,media:t,mediaTags:a}}=this.props,n=0!==a.length,i=t.some((e=>e.mediaFile&&e.mediaFile.isGif))||this.hasExternalMedia;if(!(this.hasAttachedImage||this.hasAttachedVideo||e||i))return null;const o=this.context.featureSwitches.isTrue("rweb_video_tagging_enabled");return s.a.createElement(k.a,{style:jt.imageActions},e&&e.url&&e.provider?s.a.createElement(k.a,{style:jt.addImageTextPadding},s.a.createElement(Mt.a,{gifUrl:e.url,provider:e.provider})):null,!this.hasAttachedImage&&!o||this._isScheduled()?null:s.a.createElement(_.b,{accessibilityLabel:An,color:"gray700",link:"/compose/tweet/tags",style:[jt.addImageTextContainer,jt.addImageTextPadding]},n?this._renderTaggedUsers():this._renderTagPeopleLabel()),this.hasAttachedImage||i?s.a.createElement(_.b,{accessibilityLabel:Dn({numberOfImages:t.length}),color:"gray700",link:{pathname:"/compose/tweet/media",state:{mediaId:t[0].id,tab:"alt_text"}},onPress:this._handleClickAltTextShortcut,style:jt.addImageTextContainer},this._renderAltTextLabel()):null,this.hasAttachedVideo?this._renderSubtitlesLabel():null)}_renderTagPeopleLabel(){return s.a.createElement(_.b,{color:"gray700",size:"subtext2",testID:Fa},s.a.createElement(cn.a,{style:jt.addImageActionIcon}),An)}_renderTaggedUsers(){const{data:{mediaTags:e},loggedInUser:t}=this.props,a=e.map((e=>({name:e.data.name,screen_name:e.data.screen_name,type:e.type,user_id:e.data.id_str})));return s.a.createElement(_.b,{color:"gray700",size:"subtext2",testID:za},s.a.createElement(dn.a,{style:jt.addImageActionIcon}),s.a.createElement(en.a,{loggedInUserId:null==t?void 0:t.id_str,users:a}))}_renderAltTextLabel(){const{data:{media:e}}=this.props,t=e[0].mediaMetadata;return this.hasAttachedAltText?e.length>1?s.a.createElement(_.b,{color:"gray700",size:"subtext2",testID:Oa},s.a.createElement(hn.a,{style:jt.addImageActionIcon}),Ln({numberOfAltTextEntries:this._getNumberOfAltTextEntries()})):s.a.createElement(_.b,{color:"gray700",numberOfLines:1,size:"subtext2",testID:Oa},s.a.createElement(hn.a,{style:jt.addImageActionIcon}),null==t?void 0:t.altText):s.a.createElement(_.b,{color:"gray700",size:"subtext2",testID:Oa},s.a.createElement(un.a,{style:jt.addImageActionIcon}),Dn({numberOfImages:e.length}))}_renderSubtitlesLabel(){const{data:{media:e}}=this.props,t=this.attachedSubtitles?pn.a:mn.a;return s.a.createElement(_.b,{accessibilityRole:"button",color:"gray700",link:{pathname:"/compose/tweet/media",state:{mediaId:e[0].id,tab:"subtitles"}},onPress:this._handleClickSubtitlesShortcut,size:"subtext2",style:jt.addImageTextContainer,testID:Aa},s.a.createElement(t,{accessibilityLabel:this.attachedSubtitles?Fn:void 0,style:jt.addImageActionIcon}),this.attachedSubtitles?this.attachedSubtitles.displayName:On)}_renderCountdownCircle(){const{data:{text:e},twitterTextConfigurationVersion:t}=this.props,a=fn.a[t],n=this._getParsedTweet(e).weightedLength;return s.a.createElement(tn.a,{count:n,formatNumber:this._formatCountdownNumber,maxCount:a.maxWeightedTweetLength,warningCount:260})}_renderAddComposerButton(){const{addComposerLink:e,disableAddTweet:t,isCommunityTweetFromProtectedUser:a,loggedInUser:n,onAddComposer:i}=this.props,o=this._isEmpty(),r=this._isScheduled(),l=t||o||r||!n||a;return s.a.createElement(P.a,{accessibilityLabel:this.isReplyOrReplyThread?xn:En,behavioralEventContext:Yn,disabled:l,hoverLabel:{label:In},icon:Kn,link:l?void 0:e,onPress:i,size:"xSmall",testID:La,type:"brandOutlined"})}get mediaAttachDisabled(){const{data:{media:e,pollActive:t},loggedInUser:a}=this.props,n=e.length,i=e.some((e=>{var t;return null==(t=e.mediaFile)?void 0:t.isGif})),o=e.some((e=>e.mediaFile&&!(e.mediaFile instanceof At.a)&&e.mediaFile.isVideo));return 4===n||i||o||t||this.hasExternalMedia||!a}get hasAttachedImage(){const{data:{media:e}}=this.props;return e.some((e=>{var t;return null==(t=e.mediaFile)?void 0:t.isImage}))}get hasAttachedVideo(){const{data:{media:e}}=this.props,t=e.some((e=>{var t;return null==(t=e.mediaFile)?void 0:t.isVideo}));return t&&(this._videoTrimmerEnabled=this.context.featureSwitches.isTrue("responsive_web_video_trimmer_enabled")),t}get attachedSubtitles(){var e;const{data:{media:t}}=this.props;if(!this.hasAttachedVideo)return;const a=t.find((e=>e.mediaFile&&!(e.mediaFile instanceof At.a)&&e.mediaFile.isVideo));return null==a||null==(e=a.mediaMetadata)?void 0:e.subtitles}get hasAttachedAltText(){return this._getNumberOfAltTextEntries()>0}get hasExternalMedia(){const{data:{media:e}}=this.props;return e.some((e=>!!e.externalMediaDetails))}get shouldRenderCommunitiesRules(){const{audienceControlsValue:e}=this.props,t=this.context.featureSwitches.isTrue("c9s_enabled"),a=e.communityIdValue||void 0,n=t&&a,i=this._shouldRenderControls(!1,"conversation");return Boolean(i&&n)}get isReplyOrReplyThread(){const{isReply:e,isSelfThreadReply:t}=this.props;return e&&!t}}Zn.contextType=K.a,Zn.defaultProps={twitterTextConfigurationVersion:"defaults",withAvatar:!0};var ei=Object(I.a)(Zn);const ti=s.a.createElement(_.b,{weight:"bold"}),ai=s.a.createElement(_.b,{color:"link"}),ni=e=>`@${e}`;var ii=a("SrIh");const oi=e=>(null==e?void 0:e.screen_name)||"",si=({communityName:e,excludedRecipients:t,inReplyToStatus:a,loggedInUserId:n})=>{const i={replyToOne:({userName:e})=>s.a.createElement(C.a.I18NFormatMessage,{$i18n:"e34022a7"},s.a.cloneElement(ai,null,C.a.b50e199a({userName:ni(e)}))),replyToTwo:({userOneName:e,userTwoName:t})=>s.a.createElement(C.a.I18NFormatMessage,{$i18n:"bfd9c99a"},s.a.cloneElement(ai,null,C.a.f2e4dd37({replyUserName:ni(e),otherUserName:ni(t)}))),replyToThree:({userOneName:e,userThreeName:t,userTwoName:a})=>s.a.createElement(C.a.I18NFormatMessage,{$i18n:"g7a1000e"},s.a.cloneElement(ai,null,C.a.eccfddc3({userOneName:ni(e),userTwoName:ni(a),userThreeName:ni(t)}))),replyToMany:({othersCount:e,userOneName:t,userTwoName:a})=>s.a.createElement(C.a.I18NFormatMessage,{$i18n:"i558c201"},s.a.cloneElement(ai,null,C.a.h758cd22({userOneName:ni(t),userTwoName:ni(a),othersCount:e}))),communityReplyToOne:({communityName:e,userName:t})=>s.a.createElement(C.a.I18NFormatMessage,{$i18n:"j935bcde",communityName:e},s.a.cloneElement(ai,null,C.a.e9f8a0eb({userName:ni(t)}))),communityReplyToTwo:({communityName:e,userOneName:t,userTwoName:a})=>s.a.createElement(C.a.I18NFormatMessage,{$i18n:"i7bd9c8e",communityName:e},s.a.cloneElement(ai,null,C.a.df7e9fbc({replyUserName:ni(t),otherUserName:ni(a)}))),communityReplyToThree:({communityName:e,userOneName:t,userThreeName:a,userTwoName:n})=>s.a.createElement(C.a.I18NFormatMessage,{$i18n:"cfa0049d",communityName:e},s.a.cloneElement(ai,null,C.a.b45fa505({userOneName:ni(t),userTwoName:ni(n),userThreeName:ni(a)}))),communityReplyToMany:({communityName:e,othersCount:t,userOneName:a,userTwoName:n})=>s.a.createElement(C.a.I18NFormatMessage,{$i18n:"jfc8e4b4",communityName:e},s.a.cloneElement(ai,null,C.a.a4383815({userOneName:ni(a),userTwoName:ni(n),othersCount:t}))),exclusiveReplyToOne:({userName:e})=>s.a.createElement(C.a.I18NFormatMessage,{$i18n:"a4e11010"},s.a.cloneElement(ai,null,C.a.ff792e35({userName:ni(e)})),s.a.cloneElement(ti,null,C.a.a18d8f1c)),exclusiveReplyToTwo:({userOneName:e,userTwoName:t})=>s.a.createElement(C.a.I18NFormatMessage,{$i18n:"cf1b3321"},s.a.cloneElement(ai,null,C.a.g7d5e985({replyUserName:ni(e),otherUserName:ni(t)})),s.a.cloneElement(ti,null,C.a.af82725c)),exclusiveReplyToThree:({userOneName:e,userThreeName:t,userTwoName:a})=>s.a.createElement(C.a.I18NFormatMessage,{$i18n:"c83d647e"},s.a.cloneElement(ai,null,C.a.fe5a61e9({userOneName:ni(e),userTwoName:ni(a),userThreeName:ni(t)})),s.a.cloneElement(ti,null,C.a.f7126257)),exclusiveReplyToMany:({othersCount:e,userOneName:t,userTwoName:a})=>s.a.createElement(C.a.I18NFormatMessage,{$i18n:"fec57cab"},s.a.cloneElement(ai,null,C.a.bc9dd514({userOneName:ni(t),userTwoName:ni(a),othersCount:e})),s.a.cloneElement(ti,null,C.a.de5071ba)),trustedFriendsReplyToOne:({userName:e})=>s.a.createElement(C.a.I18NFormatMessage,{$i18n:"db690c7e",userName:ni(e)},s.a.cloneElement(ai,null,C.a.b9f0a3f7({userName:ni(e)}))),trustedFriendsReplyToTwo:({userOneName:e,userTwoName:t})=>s.a.createElement(C.a.I18NFormatMessage,{$i18n:"gb7cb27c"},s.a.cloneElement(ai,null,C.a.ca43a0c6({replyUserName:ni(e),otherUserName:ni(t)})),s.a.cloneElement(ai,null,C.a.g2257dd2({replyUserName:ni(e)}))),trustedFriendsReplyToThree:({userOneName:e,userThreeName:t,userTwoName:a})=>s.a.createElement(C.a.I18NFormatMessage,{$i18n:"e9288772"},s.a.cloneElement(ai,null,C.a.d339d100({userOneName:ni(e),userTwoName:ni(a),userThreeName:ni(t)})),s.a.cloneElement(ai,null,C.a.aeaba5d4({userOneName:ni(e)}))),trustedFriendsReplyToMany:({othersCount:e,userOneName:t,userTwoName:a})=>s.a.createElement(C.a.I18NFormatMessage,{$i18n:"h0589b50"},s.a.cloneElement(ai,null,C.a.f48a8367({userOneName:ni(t),userTwoName:ni(a),othersCount:e})),s.a.cloneElement(ai,null,C.a.e9861a9c({userOneName:ni(t)})))},o=d.a({inReplyToStatus:a,loggedInUserId:n}).filter((({id_str:e})=>t.indexOf(e)<0)),{exclusivity_info:r,trusted_friends_info:l,user:c}=a.retweeted_status||a,[u,h]=o.filter((({id_str:e})=>e!==c.id_str)),[p,m,g]=[c,u,h].map(oi),b=o.length-2;switch(o.length){case 0:return Object(ii.a)("Compose reply context should not have 0 recipients"),null;case 1:return e?i.communityReplyToOne({communityName:e,userName:p}):r?i.exclusiveReplyToOne({userName:p}):l?i.trustedFriendsReplyToOne({userName:p}):i.replyToOne({userName:p});case 2:return e?i.communityReplyToTwo({communityName:e,userOneName:p,userTwoName:m}):r?i.exclusiveReplyToTwo({userOneName:p,userTwoName:m}):l?i.trustedFriendsReplyToTwo({userOneName:p,userTwoName:m}):i.replyToTwo({userOneName:p,userTwoName:m});case 3:return e?i.communityReplyToThree({communityName:e,userOneName:p,userTwoName:m,userThreeName:g}):r?i.exclusiveReplyToThree({userOneName:p,userTwoName:m,userThreeName:g}):l?i.trustedFriendsReplyToThree({userOneName:p,userTwoName:m,userThreeName:g}):i.replyToThree({userOneName:p,userTwoName:m,userThreeName:g});default:return e?i.communityReplyToMany({communityName:e,userOneName:p,userTwoName:m,othersCount:b}):r?i.exclusiveReplyToMany({userOneName:p,userTwoName:m,othersCount:b}):l?i.trustedFriendsReplyToMany({userOneName:p,userTwoName:m,othersCount:b}):i.replyToMany({userOneName:p,userTwoName:m,othersCount:b})}};var ri=s.a.memo(si),li=a("fs1G"),ci=a("BLtI"),di=a("kY28");function ui(e){null==e||e.preventDefault()}const hi=f.a.create((e=>({replyUsersContainer:{flexDirection:"row",minHeight:e.spaces.space12,paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:0},grid:{flexGrow:1,flexShrink:1},repliesTextContainer:{flexGrow:1},repliesMessage:{flexGrow:1,paddingBottom:e.spaces.space16,paddingTop:e.spaces.space4},conversationLineContainer:{alignItems:"center"},conversationLine:{backgroundColor:e.colors.gray200,flexGrow:1,minHeight:0,width:e.componentDimensions.conversationLineWidth,marginBottom:e.spaces.space4}})));var pi=({communityName:e,excludedRecipients:t,inReplyToStatus:a,loggedInUserId:n,onPress:i,shouldDisplayRepliesText:o,showParentTweet:r=!0})=>s.a.createElement(k.a,null,r?s.a.createElement(ci.b,{conversationPosition:{isStart:!0},linkableQuotedTweet:!1,linkify:!1,onAnalyticsClick:li.a,onAvatarClick:ui,onEntityClick:ui,onMediaClick:ui,onReplyContextClick:ui,replyContext:di.a.ReplyContextTypes.None,tweet:a,withAvatarLink:!1,withCardLinks:!0,withInlineMedia:!1,withQuotedTweetLinks:!0,withSocialContext:!1,withTimestampLink:!1,withUserHoverCard:!1}):null,s.a.createElement(k.a,{style:hi.replyUsersContainer},s.a.createElement(Qa.a,{avatarCell:r?s.a.createElement(k.a,{style:hi.conversationLine}):null,avatarCellStyle:hi.conversationLineContainer,cellStyle:hi.repliesTextContainer,style:hi.grid},o?s.a.createElement(_.b,{accessibilityRole:"button",color:"gray700",onPress:i,style:r&&hi.repliesMessage},s.a.createElement(ri,{communityName:e,excludedRecipients:t,inReplyToStatus:a,loggedInUserId:n})):null))),mi=a("Tb0w"),gi=a("1YZw"),bi=a("pidX"),_i=a("5oBF"),yi=a("JYYi"),fi=a("/Rsk"),wi=a("u7LJ"),Ci=a("XOJV"),vi=a("G6rE"),Ti=a("AspN"),Ei=a("oEGd"),xi=a("2iUg"),Si=a("P1r1");const Ii=e=>e.parentTweetId||(e.isInline?yi.a.homeTimeline:yi.a.modal),ki=(e,t)=>{const a=Ii(t);return q.k(e,a)},Ri=(e,t)=>{const a=Ii(t);return q.l(e,a)},Pi=(e,t)=>{const a=Ii(t);return q.j(e,a)},Mi=(e,t)=>{const a=Ui(e,t),n=Pi(e,t).communityIdValue||void 0,i=(null==a?void 0:a.community_id_str)||n,o=i?h.c.select(e,i):void 0;return o?o.name:void 0},Di=(e,t)=>{const a=Ii(t);return q.m(e,a)},Li=(e,t)=>{const a=Ii(t);return q.i(e,a)},Ai=e=>(t,a)=>{const n=((e,t)=>t.location.state)(0,a);return n?e(n):void 0},Oi=Object(X.createSelector)(((e,t)=>t.activeUser),vi.e.selectLoggedInUser,((e,t)=>e||t)),Fi=(e,t)=>t.parentTweetId||Bi(e,t)||Ni(e,t),Bi=(e,t)=>{const{location:{query:a}}=t;return a&&"string"==typeof a.in_reply_to?a.in_reply_to:void 0},Ni=Ai((e=>e.inReplyToStatusId)),Ui=(e,t)=>{const a=Fi(e,t);return a?Ci.a.selectHydrated(e,a):void 0},ji=(e,t)=>t.location.pathname.indexOf("/intent/")>-1,Hi=Ai((e=>e.hasArticleNudge)),zi=Ai((e=>e.convoCardData)),Wi=Ai((e=>e.externalMedia)),Vi=Ai((e=>e.externalMediaFiles)),Gi=Ai((e=>e.previewTweetId)),Ki=Ai((e=>e.defaultText)),qi=(e,t)=>{const a=Ki(e,t),n=Object(bi.a)(t.location);return(ji(0,t)||((e,t)=>t.location.pathname.indexOf("/compose/tweet")>-1)(0,t))&&n?n:a},$i=Ai((e=>e.quotedStatusId)),Qi=Ai((e=>e.quotedStatus)),Xi=(e,t)=>((e,t)=>t.quotedStatus?t.quotedStatus:Qi(e,t))(e,t)||((e,t)=>{const a=$i(e,t);return a?Ci.a.selectHydratedMemoized(e,a):void 0})(e,t),Yi=Ai((e=>e.isSelfThreadReply)),Ji=Ai((e=>e.positionCursorAtBeginning)),Zi=Ai((e=>e.promotedContent)),eo=({mediaIds:e,...t})=>t,to={addComposer:q.a,addToast:gi.b,createLocalApiErrorHandler:Object(ee.createLocalApiErrorHandlerWithContextFactory)("SCREEN_COMPOSE_V2"),checkTweetForNudge:q.b,deletePreviewTweet:_i.c,fetchAltTextPromptPreferenceIfNeeded:xi.a,fetchAutotaggedLocationIfNeeded:fi.a,fetchTweetIfNeeded:Ci.a.fetchOneIfNeeded,removeComposer:q.e,resetDraft:q.f,retweet:Ci.a.retweet,schedule:q.h,draftTweet:q.d,send:q.q,updateActiveComposerIndex:q.s,updateAudienceControlsValue:q.t,updateConvoCardState:mi.b,preUploadMedia:Ti.e,addMedia:Ti.b,processMultipleMedia:Ti.g,removeMediaUpload:Ti.i,removeToast:gi.c,updateSingleComposer:q.w,setActiveParentKey:q.r,copyDataFromInlineComposerToModalComposer:q.c};var ao=Object(Ei.e)((()=>Object(X.createStructuredSelector)({activeComposerIndex:Li,activeUser:Oi,altTextNudgeType:xi.b,audienceControlsValue:Pi,composerData:Object(X.createSelector)(ki,qi,Xi,Ti.j,((e,t,a,n)=>e.map(((e,i)=>({...eo(e),media:n.filter((t=>e.mediaIds.some((e=>e===t.id)))),quotedStatus:0===i?a:void 0,text:0===i&&t?t:e.text}))))),dataSaverMode:Si.j,excludedRecipients:Ri,externalMedia:Wi,externalMediaFiles:Vi,geoEnabled:Si.o,hasArticleNudge:Hi,inReplyToStatus:Ui,inReplyToStatusId:Fi,isIntentRoute:ji,isSelfThreadReply:Yi,isSending:Di,isSuperFollowsCreator:J.l,positionCursorAtBeginning:Ji,loggedInUser:vi.e.selectLoggedInUser,prepopulatedText:qi,previewTweetId:Gi,promotedContent:Zi,scheduledFor:q.n,selectedCommunityName:Mi,sendingProgress:q.o,convoCardData:zi,undoTweetSettings:wi.d,userLanguage:J.p,quotedStatusId:$i})),to),no=a("45mF"),io=a("c0ZR"),oo=a("W5XZ"),so=a("Drq4"),ro=a("0uGn"),lo=a("I8M8"),co=a("7myi"),uo=a("7nmT"),ho=a.n(uo),po=a("vbWy"),mo=a("Rp9C"),go=a("Q5Mu"),bo=a("N5qz"),_o="tweetButton",yo="tweetButtonInline",fo=Object(p.a)().propsFromState((()=>({loggedInUser:vi.e.selectLoggedInUser}))).adjustStateProps((({loggedInUser:e})=>({userName:e&&e.name,userProfileImageUrl:e&&e.profile_image_url_https,userScreenName:e&&e.screen_name}))).withAnalytics(),wo=a("cHvH"),Co=a("sgih"),vo=a("xKuM"),To=a("5Vk4");const Eo=f.a.create((e=>({mainCard:{marginHorizontal:"auto",paddingVertical:e.spaces.space16,textAlign:"center",alignItems:"center"},largeScreenCard:{width:"70%"},smallScreenCard:{width:"85%"},sheetStyle:{justifyContent:"center"}})));var xo=({actionButtonType:e,children:t,onActionButtonClick:a,onMaskClick:n,sheetType:i,showActionButton:o})=>s.a.createElement(wo.a,null,(({windowWidth:r})=>{const l=r>f.a.theme.breakpoints.small;return s.a.createElement(Co.a,{onMaskClick:n,style:Eo.sheetStyle,type:i,withMask:!0},o&&s.a.createElement(vo.a,{leftControl:s.a.createElement(To.a,{backButtonType:e,onClick:a}),position:"absolute"}),s.a.createElement(k.a,{style:[Eo.mainCard,l?Eo.largeScreenCard:Eo.smallScreenCard]},t))}));const So=C.a.cb7c0987,Io=C.a.de3bcf27,ko=C.a.e710ce75,Ro=C.a.h11e5910,Po=C.a.b7ec04f3,Mo=C.a.i62a03aa,Do=f.a.create((e=>({itemPadding:{marginVertical:e.spaces.space8},buttonContainer:{paddingHorizontal:e.spaces.space20,width:"100%"}})));var Lo=({onBack:e,onNo:t,onYes:a})=>s.a.createElement(xo,{actionButtonType:"back",onActionButtonClick:e,onMaskClick:e,sheetType:"full",showActionButton:!0},s.a.createElement(_.b,{size:"title4",style:Do.itemPadding,weight:"heavy"},So),s.a.createElement(_.b,{color:"gray700",style:Do.itemPadding},Io),s.a.createElement(_.b,{color:"gray700",style:Do.itemPadding},ko),s.a.createElement(k.a,{style:Do.buttonContainer},s.a.createElement(_.b,{size:"title4",style:Do.itemPadding,weight:"heavy"},Ro),s.a.createElement(P.a,{onPress:a,style:Do.itemPadding,type:"brandOutlined"},Po),s.a.createElement(P.a,{onPress:t,style:Do.itemPadding,type:"brandOutlined"},Mo))),Ao=a("cm6r");const Oo=f.a.create((e=>({button:{width:e.spaces.space72,height:e.spaces.space72,marginBottom:e.spaces.space12}})));var Fo=({icon:e,label:t,onPress:a})=>s.a.createElement(Ao.a,{interactiveStyles:null,onPress:a},(a=>s.a.createElement(s.a.Fragment,null,s.a.createElement(P.a,{icon:e,interactivityState:a,size:"xLarge",style:Oo.button,type:"primaryOutlined"}),s.a.createElement(_.b,{color:"gray700"},t)))),Bo=a("sjK1"),No=a("FDY4"),Uo=a("tevE"),jo=a("jV+4"),Ho=a("UgB4"),zo=a("TW8A"),Wo=a("hiGS"),Vo=a("WtWS");const Go=(e={})=>Object(ve.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[Ce.a.root,e.style],viewBox:"0 0 24 24"},s.a.createElement("g",null,s.a.createElement("path",{d:"M17.928 9.026l.095 3.545H19l.1-3.544h-1.172zm.586 5.394c.414 0 .667-.238.667-.623 0-.388-.252-.626-.666-.626-.41 0-.667.24-.667.627 0 .385.257.623.667.623zm-4.57-.11h.813l.278-1.384h.89l.15-.813h-.883l.198-.96h.875l.15-.805h-.864l.268-1.326h-.813l-.27 1.326h-.946l.263-1.326h-.81l-.27 1.326h-.846l-.154.806h.846l-.2.96h-.83l-.15.812h.824l-.278 1.384h.81l.277-1.384h.952l-.28 1.384zm-.578-2.124l.227-1.102h1.055l-.23 1.102h-1.052zm-5.889-.941c.388 0 .634.32.634.835s-.244.835-.636.835c-.385 0-.615-.315-.615-.835-.002-.524.23-.835.617-.835zM7.595 9C5.763 9 4.5 10.245 4.5 12.054c0 1.838 1.25 3.05 3.157 3.05.388 0 .765-.047 1.05-.13v-.598c-.204.073-.603.12-.995.12-1.556 0-2.542-.937-2.542-2.423 0-1.46.985-2.48 2.402-2.48 1.392 0 2.307.865 2.307 2.19 0 .744-.24 1.213-.61 1.213-.222 0-.35-.15-.35-.41v-1.94h-.74v.435h-.065c-.147-.325-.465-.515-.857-.515-.732 0-1.23.604-1.23 1.494 0 .93.505 1.544 1.267 1.544.425 0 .725-.19.88-.56h.065c.08.352.414.57.872.57.886 0 1.44-.728 1.44-1.892C10.55 10.106 9.348 9 7.594 9z"})));Go.metadata={width:24,height:24};var Ko=Go;const qo=[{headlineText:C.a.f3a7a80c,subTextLine1:C.a.ge52d1de,subTextLine2:null},{headlineText:C.a.j311bf49,subTextLine1:C.a.ae42ebff,subTextLine2:C.a.aa350ab1},{headlineText:C.a.j18b2956,subTextLine1:C.a.f6bee896,subTextLine2:C.a.dddd0995},{headlineText:C.a.d02a94fa,subTextLine1:C.a.dddd0995,subTextLine2:null},{headlineText:C.a.i018b746,subTextLine1:C.a.b8d85df9,subTextLine2:C.a.d5ca11f0}],$o=C.a.h11e5910,Qo=C.a.abd845fd,Xo=C.a.bea869b3,Yo=C.a.d96cf7cd,Jo=C.a.d3145da8,Zo=f.a.create((e=>({itemPadding:{marginVertical:e.spaces.space8},buttonContainer:{paddingHorizontal:e.spaces.space20,width:"100%"},profanityIcon:{backgroundColor:e.colors.primary,color:e.colors.whiteOnColor,width:e.spaces.space48,height:e.spaces.space48,borderRadius:e.borderRadii.infinite},tweetContainer:{borderColor:e.colors.nestedBorderColor,borderWidth:e.borderWidths.small,borderRadius:e.borderRadii.large,width:"100%",textAlign:"left"},tweetContent:{paddingHorizontal:e.spaces.space16,paddingVertical:e.spaces.space12},tweetBody:{flexDirection:"row"},userName:{paddingBottom:e.spaces.space4},mobileButtonContainer:{justifyContent:"space-around",flexDirection:"row",width:"100%",marginTop:e.spaces.space72},thanksContainer:{flexDirection:"row",alignItems:"center"},thanksCheckMark:{color:f.a.theme.colors.primary,marginRight:e.spaces.space8},photos:{borderRadius:e.borderRadii.xLarge,overflow:"hidden",marginRight:e.spaces.space12,flex:"3 1 0%"},textStyle:{flex:"8 1 0%"}})));var es=({hasSentFeedback:e,media:t,onDeleteTweet:a,onDismiss:n,onEditTweet:i,onSendTweet:o,onWeGotItWrong:r,tweetText:l,userName:c,userProfileImageUrl:d,userScreenName:u})=>{const{featureSwitches:h}=s.a.useContext(K.a);let p=h.getNumberValue("responsive_web_reply_nudge_copy_version");p=p>=0&&p<=4?p:0;const m=qo[p];return s.a.createElement(wo.a,null,(({windowWidth:h})=>s.a.createElement(xo,{actionButtonType:"close",onActionButtonClick:n,onMaskClick:n,sheetType:"full",showActionButton:h>f.a.theme.breakpoints.medium},s.a.createElement(Ko,{style:[Zo.profanityIcon,Zo.itemPadding]}),s.a.createElement(Uo.a,{size:"title4",style:Zo.itemPadding,weight:"heavy"},m.headlineText),s.a.createElement(_.b,{color:"gray700",style:Zo.itemPadding},m.subTextLine1),s.a.createElement(_.b,{color:"gray700",style:Zo.itemPadding},m.subTextLine2),s.a.createElement(k.a,{style:[Zo.tweetContainer,Zo.itemPadding]},s.a.createElement(k.a,{style:Zo.tweetContent},s.a.createElement(jo.a,{name:c,profileImageUrl:d,screenName:u,style:Zo.userName}),s.a.createElement(k.a,{style:Zo.tweetBody},(()=>{if(0===t.length)return null;const e=t.map((e=>{var t,a,n;let i="";if(e.externalMediaDetails)i=e.externalMediaDetails.stillMediaUrl;else if(e.mediaFile instanceof Bo.c)i=e.mediaFile.thumbnail;else if(null!=(t=e.mediaFile)&&t.url){var o;i=null==(o=e.mediaFile)?void 0:o.url}return{accessibilityLabel:"",url:i,width:(null==(a=e.mediaFile)?void 0:a.width)||100,height:(null==(n=e.mediaFile)?void 0:n.height)||100,expandedUrl:"",shouldShowAltLabel:!1}}));return s.a.createElement(k.a,{style:Zo.photos},s.a.createElement(No.a,{containerAspectRatio:1,images:e,previewMode:!1,singleImageMaxAspectRatio:1,singleImageMinAspectRatio:1,withCenterCrop:!0,withLink:!1}))})(),s.a.createElement(_.b,{style:Zo.textStyle},l)))),e?s.a.createElement(k.a,{style:Zo.thanksContainer},s.a.createElement(Vo.a,{style:Zo.thanksCheckMark}),s.a.createElement(_.b,{align:"center",style:Zo.itemPadding},Jo)):s.a.createElement(_.b,{align:"center",onPress:r,style:Zo.itemPadding,withUnderline:!0},$o),h>f.a.theme.breakpoints.small?s.a.createElement(k.a,{style:Zo.buttonContainer},s.a.createElement(P.a,{onPress:i,style:Zo.itemPadding,type:"brandFilled"},Qo),s.a.createElement(P.a,{onPress:o,style:Zo.itemPadding,type:"brandOutlined"},Xo),s.a.createElement(P.a,{onPress:a,style:Zo.itemPadding,type:"destructiveText"},Yo)):(()=>{const e=s.a.createElement(Ho.a,{style:{color:f.a.theme.colors.text}}),t=s.a.createElement(zo.a,{style:{color:f.a.theme.colors.primary}}),n=s.a.createElement(Wo.a,{style:{color:f.a.theme.colors.red500}});return s.a.createElement(k.a,{style:Zo.mobileButtonContainer},s.a.createElement(Fo,{icon:e,label:Xo,onPress:o}),s.a.createElement(Fo,{icon:t,label:Qo,onPress:i}),s.a.createElement(Fo,{icon:n,label:Yo,onPress:a}))})())))};var ts=fo((({analytics:e,media:t,nudgeId:a,onDeleteTweet:n,onDismiss:i,onEditTweet:o,onSendTweet:r,tweetText:l,userName:c,userProfileImageUrl:d,userScreenName:u})=>{const[h,p]=s.a.useState(!1),[m,g]=s.a.useState(!1),b=({action:t,element:n,page:i})=>{const o=[{nudge_id:a}];e.scribe({action:t,data:{items:o},element:n,page:i,section:"dialog"})};return h?s.a.createElement(Lo,{onBack:()=>{b({action:"back",element:"action",page:"nudge_more_info"}),p(!1)},onNo:()=>{b({action:"got_it_wrong_no",element:"action",page:"nudge_more_info"}),g(!0),p(!1)},onYes:()=>{b({action:"got_it_wrong_yes",element:"action",page:"nudge_more_info"}),g(!0),p(!1)}}):s.a.createElement(es,{hasSentFeedback:m,media:t,onDeleteTweet:()=>{b({action:"cancel",element:"action",page:"nudge"}),n()},onDismiss:()=>{b({action:"dismiss",element:"action",page:"nudge"}),i()},onEditTweet:()=>{b({action:"revise",element:"action",page:"nudge"}),o()},onSendTweet:()=>{b({action:"send",element:"action",page:"nudge"}),r()},onWeGotItWrong:()=>{b({action:"more_info",element:"action",page:"nudge"}),b({action:"impression",page:"nudge_more_info"}),p(!0)},tweetText:l,userName:c,userProfileImageUrl:d,userScreenName:u})})),as=a("aITJ"),ns=a("eb3s"),is=a("JYMr"),os=a("sCk0"),ss=a("3A2y"),rs=a("zrOZ"),ls=a("s1N3"),cs=a("4FGy"),ds=a("mN6z"),us=a("eyty"),hs=a("rziq"),ps=a("lsKC"),ms=a("jTgF");const gs=C.a.d28215f0,bs=C.a.ec909a54,_s=C.a.jd53409d,ys={singular:C.a.edae65de,plural:C.a.a859846a,oneOfMultiple:C.a.e90118f5,someOfMultiple:C.a.c211dcb1},fs={singular:C.a.d7c26bfb,plural:C.a.a75e3ccc},ws=C.a.dcb7e3a0,Cs=({numberOfDescriptionsMissing:e,numberOfImages:t})=>{let a,n;const i=e===t;return 1===e?(n=fs.singular,a=i?ys.singular:ys.oneOfMultiple):(n=fs.plural,a=i?ys.plural:ys.someOfMultiple),`${a} ${n} ${ws}`},vs=C.a.c1bf53b0,Ts=C.a.bb8170da,Es=C.a.dad5a4b8,xs=C.a.e65aed64,Ss=C.a.bc2ceaf2,Is=C.a.d8222374,ks=C.a.j890123a,Rs=C.a.bb01231c,Ps=C.a.d4ab68e2,Ms=C.a.d8af8a4c,Ds=C.a.d09d4c05,Ls=C.a.i2209530,As=C.a.bf9b89e4,Os=C.a.f277e949,Fs=C.a.b551cd22,Bs=C.a.f026a7fa,Ns=C.a.a5d4fda0,Us=C.a.ib067d6a,js=c.canUseDOM&&document.documentElement&&"scrollBehavior"in document.documentElement.style,Hs={element:"alt_text_prompt"},zs={component:"article_nudge"},Ws={viewType:"send_tweet"},Vs=Object.freeze({Original:"original",Reply:"reply",Quote:"quote",Thread:"thread"});class Gs extends s.a.Component{constructor(e,t){var a;super(e,t),this._getParentKey=()=>{const{isInline:e,parentTweetId:t}=this.props;return t||(e?yi.a.homeTimeline:yi.a.modal)},this._updateSingleComposer=(e,t)=>{const{updateSingleComposer:a}=this.props;return a({updates:e,index:t,parentKey:this._getParentKey()})},this._resetDraft=()=>{const{resetDraft:e}=this.props;e({parentKey:this._getParentKey(),isPreview:this.isPreview})},this._fetchAutotaggedLocationIfNeeded=()=>{const{createLocalApiErrorHandler:e,fetchAutotaggedLocationIfNeeded:t}=this.props;return t().catch(e())},this._syncTexts=()=>{const{composerData:e}=this.props,{textMap:t}=this.state;e.forEach(((e,a)=>{const n=t[e.key];"string"==typeof n&&n!==e.text&&this._updateSingleComposer({text:n},a)}))},this._hasGif=e=>e.gifMetadata||e.media.some((e=>e.mediaFile&&e.mediaFile.isGif)),this._hasPhoto=e=>e.media&&e.media.some((e=>e.mediaFile&&e.mediaFile.isImage)),this._hasVideo=e=>e.media&&e.media.some((e=>e.mediaFile&&e.mediaFile.isVideo&&!e.mediaFile.isGif)),this._handleDeletePreviewTweet=()=>{const{deletePreviewTweet:e,previewTweetId:t,removeToast:a}=this.props;t&&(a(),e(t))},this._handleAnimateComplete=()=>{const{activeComposerIndex:e,onHandleAppBarHeight:t}=this.props,a=ho.a.findDOMNode(this._composerRefs[e]);if(a instanceof window.Element){const{bottom:e,top:n}=a.getBoundingClientRect(),i=Math.max(n,window.scrollY);if(i<window.pageYOffset||e>window.innerHeight){const e=t?i-t()-14:i-14,a=Math.max(e,0);window.requestAnimationFrame((()=>{js?window.scrollTo({top:a,left:0,behavior:"smooth"}):window.scrollTo(0,a)}))}}},this._handleFetchTweetIfNeeded=()=>{const{createLocalApiErrorHandler:e,fetchTweetIfNeeded:t,inReplyToStatus:a,inReplyToStatusId:n,quotedStatus:i,quotedStatusId:o}=this.props;!a&&n&&t(n).catch(e(oo.a)),!i&&o&&t(o).catch(e(oo.a))},this._blockHistory=(e,t)=>{const{audienceControlsValue:a,isInline:n}=this.props,i=!n&&/unsent/.test(e.pathname),o=!n&&!/\/compose\/tweet\/?$/.test(e.pathname);return this.shouldShowDiscardConfirmation&&"POP"===t&&o?(this.setState({showDiscardTweetConfirmation:!0}),!1):this._canSaveDraft&&i&&"PUSH"===t?this.shouldShowDiscardConfirmation?(this.setState({showDiscardTweetConfirmation:!0,navigatingToOutbox:i}),!1):(this._resetDraft(),!0):this.shouldShowBackgroundSendConfirmation&&"POP"===t&&o?(this._cancelAllMediaUploads(),!1):!("POP"===t&&o&&this._areComposersEmptyOrUnchanged&&!Object(Ft.a)(a))||(this._resetDraft(),!0)},this._getKeyCommandHandlers=()=>{const{typeaheadActive:e}=this.state;return e?this._keyCommandHandlersForActiveTypeahead:this._keyCommandHandlers},this.handleTweetOrRetweet=()=>{this._scribe({section:"composition",element:"send_tweet",action:"click"});if(this._areComposersValid())return this.shouldShowAltTextPrompt?(this.setState({showAltTextPrompt:!0}),void this._scribe({...Hs,action:"show"})):this._handleTweetOrRetweet()},this._handleTweetOrRetweet=()=>this.isRetweet?this._handleRetweet():this._handleTweet(),this._renderReplyContext=()=>{const{activeUser:e,excludedRecipients:t,inReplyToStatus:a,isInline:n,isSelfThreadReply:i,selectedCommunityName:o}=this.props;if(a&&this._shouldBeExpanded())return s.a.createElement(pi,{communityName:o,excludedRecipients:t,inReplyToStatus:a,key:t.join(),loggedInUserId:e?e.id_str:void 0,onPress:this._handleViewRecipients,shouldDisplayRepliesText:!i,showParentTweet:!n})},this._renderAltTextPrompt=()=>{const{numberOfDescriptionsMissing:e,numberOfImages:t}=this._getAltTextMetadata();return s.a.createElement(ns.a,{Icon:so.a,cancelButtonLabel:Ts,confirmButtonLabel:vs({numOfDescriptions:e}),headline:_s,onCancel:this._handleIgnoreAltTextPrompt,onConfirm:this._handleAcceptAltTextPrompt,onMaskClick:this._handleCancelAltTextPrompt,text:Cs({numberOfDescriptionsMissing:e,numberOfImages:t})})},this._renderToxicReplyNudge=()=>{const e=this._getSingleComposerDataWithLatestText(this.props.composerData[0]),t=e.text,a=e.media;return s.a.createElement(ts,{media:a,nudgeId:this.state.nudgeId,onDeleteTweet:this._handleReplyNudgeDeleteTweet,onDismiss:this._handleReplyNudgeDismiss,onEditTweet:this._handleReplyNudgeEditTweet,onSendTweet:this._handleReplyNudgeSendTweet,tweetText:t})},this._handleAddComposer=()=>{const{addComposer:e,copyDataFromInlineComposerToModalComposer:t,isInline:a,parentTweetId:n}=this.props;this.isInlineReply?t(n):a&&t(yi.a.homeTimeline),e()},this._makeAddComposerLink=Object(Wt.a)(((e,t,a)=>Object(ps.c)({isInline:e,isSelfThreadReply:t,parentTweetId:a}))),this._handleReplyNudgeDeleteTweet=()=>{this._hideToxicReplyNudge(),this._handleConfirmDiscardTweet()},this._handleReplyNudgeDismiss=()=>{this._hideToxicReplyNudge()},this._handleReplyNudgeEditTweet=()=>{this._hideToxicReplyNudge()},this._handleReplyNudgeSendTweet=()=>{this._hideToxicReplyNudge(),this._handleSendTweet()},this._setRootRef=e=>{e&&(this._root=e)},this._handleTweet=()=>{const{composerData:e}=this.props,{scheduledFor:t}=e[0];this.setState({errorMessage:void 0}),t?Object(Bt.h)(t)&&this._handleScheduleTweet():this._checkToxicReplyAndSendTweet()},this._handleTweetError=(e,t)=>a=>{const{analytics:n,createLocalApiErrorHandler:i}=this.props;if(Object(ms.d)(a)&&a.code===lo.b.CANCELED)return n.scribeAction(e),Promise.resolve();const o=Object(ms.b)(a);if(o)return this.setState({errorMessage:o}),Promise.resolve();i({...t||Object(no.a)(void 0,!1)})(a);const s=a instanceof l.a&&(null==t?void 0:t[a.errors[0].code]);this.setState({errorMessage:{text:s?s.toast.text:Ns}})},this._handleScheduleTweet=()=>{const{addToast:e,composerData:t,excludedRecipients:a,inReplyToStatus:n,schedule:i}=this.props,o=this._getSingleComposerDataWithLatestText(t[0]);i({excludedRecipients:a,inReplyToStatus:n,scheduleData:o}).then((a=>{this.setState({tweetsSentOrScheduled:!0});const n=Object(Bt.c)(o.scheduledFor);if(n){const i=Object(Bt.b)(n),o=Object(Bt.i)(n),s=Fs({scheduleDate:i,scheduleTime:o});e({text:s,action:{label:Os,link:{pathname:"/compose/tweet/unsent/scheduled"}}}),this._scribeTweetSent(t[0],{...a,id_str:a.scheduled_id_str},{isScheduled:!0})}this._updateConvoCardState(),this._close()})).catch(this._handleTweetError("schedule_tweet_cancel"))},this._handleDraftTweet=()=>{const{addToast:e,composerData:t,draftTweet:a,excludedRecipients:n,inReplyToStatus:i}=this.props;a({excludedRecipients:n,inReplyToStatus:i,draftData:this._getSingleComposerDataWithLatestText(t[0])}).then((a=>{this.setState({showDiscardTweetConfirmation:!1}),e({text:As,action:{label:Os,link:{pathname:"/compose/tweet/unsent/drafts"}}}),this._scribeTweetSent(t[0],{...a,id_str:a.draft_id_str},{isDraftTweet:!0}),this._updateConvoCardState(),this._close()})).catch(this._handleTweetError("draft_tweet_cancel",go.a))},this._checkToxicReply=()=>{const{checkTweetForNudge:e,composerData:t,inReplyToStatus:a,inReplyToStatusId:n,parentTweetId:i}=this.props,o=e(this._getSingleComposerDataWithLatestText(t[0]).text,i||n,null==a?void 0:a.conversation_id_str).then((e=>{var t,a,n,i,o,s,r;if(!this.context.featureSwitches.getArrayValue("responsive_web_reply_nudge_supported_languages").includes(null==(t=e.create_nudge)||null==(a=t.nudge)?void 0:a.proposed_tweet_language))return!1;const l=null==e||null==(n=e.create_nudge)||null==(i=n.nudge)||null==(o=i.nudge_type)?void 0:o.__typename,c=null==e||null==(s=e.create_nudge)||null==(r=s.nudge)?void 0:r.id;return c&&this.setState({nudgeId:c}),!!l})),s=new Promise(((e,t)=>setTimeout(e,1e3,!1)));return Promise.race([o,s])},this._showToxicReplyNudge=()=>{this._scribe({page:"nudge",section:"dialog",action:"impression"},{items:[{nudge_id:this.state.nudgeId}]}),this.setState({showToxicReplyNudge:!0})},this._hideToxicReplyNudge=()=>this.setState({showToxicReplyNudge:!1}),this._checkToxicReplyAndSendTweet=()=>{const{composerData:e,isSelfThreadReply:t}=this.props,{nudgeId:a}=this.state;if(!(!this._getSingleComposerDataWithLatestText(e[0]).scheduledFor&&this.isReply&&!t&&this.context.featureSwitches.isTrue("responsive_web_reply_nudge_enabled")&&!a))return this._handleSendTweet();this._checkToxicReply().then((e=>{if(!e)return this._handleSendTweet();this.context.featureSwitches.isTrue("responsive_web_reply_nudge_show_nudge")&&this._showToxicReplyNudge()}))},this._handleSendTweet=()=>{const{activeUser:e,addToast:t,analytics:a,audienceControlsValue:n,composeSemanticCoreId:i,excludedRecipients:o,hasArticleNudge:s,history:r,inReplyToStatus:l,isSelfThreadReply:c,location:u,promotedContent:h,selectedCommunityName:p,send:m}=this.props,{conversationControlsValue:g,exclusivityControlValue:b,trustedFriendsValue:_,trustedFriendsMemberCount:y}=n,f=this.isPreview,w=this.props.composerData.map((e=>this._getSingleComposerDataWithLatestText(e))),C=Object(Bt.c)(w[0].scheduledFor);if(C){const e=Object(Bt.b)(C),a=Object(Bt.i)(C),n=Fs({scheduleDate:e,scheduleTime:a});return t({text:n,action:{label:Os,link:""}}),void this._close()}if(o.length>0&&a.scribe({element:"mentions",action:"edited"}),_&&a.scribe({action:"send_trusted_friends_tweet",data:{trusted_friends_control_details:{list_member_count:y}}}),this._conversationControlsCreationEnabled)if("community"===g)a.scribe({action:"send_community_tweet"});else if("by_invitation"===g){const e=this._getSingleComposerDataWithLatestText(w[0]).text,t=Object(d.d)(e);a.scribe({action:t?"send_mentioned_tweet_with_mentions":"send_mentioned_tweet_without_mentions"})}else"followers"===g&&a.scribe({action:"send_my_followers_tweet"});const v=(null==l?void 0:l.community_id_str)||n.communityIdValue||void 0,T=v?`8.31.${v}`:"",E=i?v?[i,T].join(","):i:T;m({sendData:w,communityIdValue:v,conversationControlsValue:g,excludedRecipients:o,exclusivityControlValue:b,inReplyToStatus:l,isSelfThreadReply:c,promotedContent:h,composeSemanticCoreId:E,isPreview:f,trustedFriendsValue:_,tweetType:this.tweetType}).then((a=>{f||this.setState({tweetsSentOrScheduled:!0}),a.map(((e,t)=>this._scribeTweetSent(w[t],e,{hasArticleNudge:s}))),a.length>1&&this._scribeThreadSent(w,a,"thread_send_success");let n=a.length>1?xs:Es;if(v&&p){const e=p,t=a.length;n=bs({numOfTweets:t,communityName:e})}const i=f&&this.isReply,o={label:Os,link:void 0,onAction:void 0};if(i||!f){const t=i?a[0].in_reply_to_status_id_str:a[0].id_str;o.link={pathname:`/${e?e.screen_name:"i"}/status/${t||""}`}}else o.onAction=Object(ps.a)(r,u,v);t({text:f?Ss:n,action:o}),this.isInlineReply&&this.setState({focused:!1}),this._updateConvoCardState(),this._close()})).catch((e=>{var t;const{sentTweets:n=[]}=e,i=Array.isArray(e.errors)&&(null==(t=e.errors[0])?void 0:t.code),o=null==e?void 0:e.url,l=null==e?void 0:e.status,c={message:e.type,event_info:i?`${i}`:void 0,status_code:l,url:o};throw n.map(((e,t)=>this._scribeTweetSent(w[t],e)),{hasArticleNudge:s}),Object(ms.d)(e)&&e.code===lo.b.CANCELED||a.scribe({action:"send_tweet_failure",data:c}),w.length>1&&this._scribeThreadSent(w,n,"thread_send_failure"),n.length&&r.replace({pathname:u.pathname,state:{...Object(ss.a)(u.state||{},"quotedStatus"),inReplyToStatusId:n[n.length-1].id_str,isSelfThreadReply:!0}}),e})).catch(this._handleTweetError("send_tweet_cancel",go.a))},this._setActiveParentKey=()=>{const{setActiveParentKey:e}=this.props;e(this._getParentKey())},this._scribeTweetSent=(e,t,{hasArticleNudge:a=!1,isDraftTweet:n=!1,isScheduled:i=!1}={})=>{const{nudgeId:o}=this.state,s=e.scheduledTweetId?"schedule_edit_":"schedule_",r=e.draftTweetId?"draft_edit_":"draft_",l=n?r:i?s:"send_",c={items:[mo.a.getTweetItem(t)]},d=e.pollActive&&e.pollValid,u=e.media.some((e=>{var t;return!(null==(t=e.mediaMetadata)||!t.altText)})),h=e.mediaTags.length,p=Object(rs.a)(e.media.map((e=>{var t;const a=null==(t=e.mediaMetadata)?void 0:t.sensitiveMediaWarning;return a?Array.from(a):void 0})).filter(Boolean).flat()),m=this.props.isInline?"inline_reply":"tweet_box_dialog";if(this._scribe({action:`${l}tweet`},c),n||!e.draftTweetId||e.scheduledTweetId||this._scribe({action:`${l}draft_tweet`},c),this.isQuoteTweet&&(this._scribe({action:"retweet_with_comment"},c),a&&this._scribe({...zs,element:"result",action:"retweet_with_comment"},c)),this.isReply&&this._scribe({component:m,action:`${l}reply`},c),d&&this._scribe({action:`${l}poll_tweet`},c),this._hasPhoto(e)&&(this._scribe({action:`${l}photo_tweet`},c),u&&this._scribe({action:`${l}photo_tweet_with_alt_text`},c),h&&this._scribe({action:`${l}photo_tweet_with_tags`},c)),this._hasVideo(e)&&(this._scribe({action:`${l}video_tweet`},c),h&&this._scribe({action:`${l}video_tweet_with_tags`},c)),p.size){const t=this._hasPhoto(e)?"photo":"video";p.forEach((e=>{this._scribe({action:`${l}${t}_tweet_with_${e}_warning`},c)}))}const g={page:"nudge",section:"dialog",element:"result"};if(o&&this.isReply&&!i&&(n?this._scribe({...g,action:"save"},{items:[{nudge_id:o}]}):this._scribe({...g,action:"sent"},{items:[{nudge_id:o}]})),o||n||!this.isReply||i||this._scribe({...g,action:"sent_no_nudge"}),e.gifMetadata){const a=t.id_str&&mo.a.getGifSearchItemForTweet(t.id_str,e.gifMetadata);this._scribe({element:"remote",action:`${l}gif_tweet`},{items:a?[a]:[]});const n=e.media.some((e=>{var t;return!(null==(t=e.mediaMetadata)||!t.defaultAltText)}));(u||n)&&this._scribe({element:"remote",action:`${l}gif_tweet_with_alt_text`},{event_info:u?"user_entered":"from_provider",items:a?[a]:[]}),h&&this._scribe({action:`${l}gif_tweet_with_tags`},c)}else this._hasGif(e)&&(this._scribe({element:"local",action:`${l}gif_tweet`},c),u&&this._scribe({element:"local",action:`${l}gif_tweet_with_alt_text`},c))},this._scribeThreadSent=(e,t,a)=>{const{inReplyToStatus:n}=this.props,i={items:[mo.a.getSendThreadItem(e,t.length,!!n)]};this._scribe({action:a},i)},this._scribeRetweet=e=>{const{hasArticleNudge:t}=this.props,a={items:[mo.a.getTweetItem(e)]};this._scribe({action:"retweet"},a),t&&this._scribe({...zs,element:"result",action:"retweet"},a)},this._handleRetweet=()=>{const{composerData:e,createLocalApiErrorHandler:t,retweet:a}=this.props,n=e[0].quotedStatus;n&&(this._scribeRetweet(n),a(n.id_str,{}).then((e=>{this.setState({tweetsSentOrScheduled:!0}),this._close()}),t(po.a)))},this.handleDismissComposer=()=>{this.shouldShowDiscardConfirmation?this.setState({showDiscardTweetConfirmation:!0}):this.shouldShowBackgroundSendConfirmation?this._cancelAllMediaUploads():this._close()},this._cancelAllMediaUploads=()=>{this.props.composerData.forEach((e=>e.media.forEach((e=>e.uploading&&e.uploader&&e.uploader.cancel()))))},this._handleConfirmDiscardTweet=()=>{const{analytics:e,hasArticleNudge:t}=this.props,a=this._canSaveDraft?"draft":"send";this.setState({showDiscardTweetConfirmation:!1}),this._close(),e.scribeAction(`${a}_tweet_discard`),t&&this._scribe({...zs,element:"result",action:"cancel"}),this.state.nudgeId&&this._scribe({page:"nudge",section:"dialog",element:"result",action:"cancel"},{items:[{nudge_id:this.state.nudgeId}]})},this._handleCancelDiscardTweet=()=>{this.setState({showDiscardTweetConfirmation:!1},(()=>{this._restoreFocusToActiveComposer()}))},this._handleAcceptAltTextPrompt=()=>{this.setState({showAltTextPrompt:!1});const{history:e}=this.props,{noDescriptionImageIDs:t}=this._getAltTextMetadata();t[0]&&(this._scribe({...Hs,action:"accepted"}),e.push("/compose/tweet/media",{mediaId:t[0],tab:ro.a.altText,hideTabs:!0,showAllMedia:!0}))},this._handleIgnoreAltTextPrompt=()=>{this._scribe({...Hs,action:"declined"}),this.setState({showAltTextPrompt:!1}),this._handleTweetOrRetweet()},this._handleCancelAltTextPrompt=()=>{this._scribe({...Hs,action:"cancel"}),this.setState({showAltTextPrompt:!1},(()=>{this._restoreFocusToActiveComposer()}))},this._restoreFocusToActiveComposer=()=>{const{activeComposerIndex:e}=this.props;void 0!==e&&this._composerRefs[e]&&this._composerRefs[e].focus()},this._close=()=>{const{history:e,isSending:t,onCloseComposer:a}=this.props;t||this._resetDraft(),this.state.navigatingToOutbox?this._canSaveDraft?e.push("/compose/tweet/unsent/drafts"):e.push("/compose/tweet/unsent/scheduled"):a&&a()},this._handleComposerFocus=e=>{this._composerRefs[e]?this.props.updateActiveComposerIndex(e):setTimeout((()=>{this._restoreFocusToActiveComposer()}),0)},this._handleFocus=()=>{const{focused:e}=this.state;e||(this.isInlineReply&&this._scribe({element:"inline_reply",action:"reply"}),this.setState({focused:!0}))},this._handleTypeaheadStateChange=e=>{this.setState({typeaheadActive:e})},this._handleRemoveComposer=()=>{const{activeComposerIndex:e,composerData:t,history:a,location:n,removeComposer:i}=this.props;0===e&&t[0].quotedStatus&&a.replace({pathname:n.pathname,state:Object(ss.a)(n.state||{},"quotedStatus")}),i(),setTimeout(this._restoreFocusToActiveComposer)},this._handleViewRecipients=()=>{const{excludedRecipients:e,history:t,inReplyToStatus:a}=this.props;this._setActiveParentKey(),t.push({pathname:"/compose/tweet/recipients",state:{excludedRecipients:e,inReplyToStatus:a}})},this._handleTextChange=(e,t)=>{const{textMap:a}=this.state,{activeComposerIndex:n,isInline:i,setValidity:o}=this.props;if(this.setState({textMap:{...a,[t]:e}},(()=>{o&&o(this._areComposersValid())})),this.setState({errorMessage:void 0}),as.b.isIOS()){const t=i?0:n;this._updateSingleComposer({text:e},t)}},this._handleTextOnBlur=Object(Wt.a)(((e,t)=>()=>{const{textMap:a,tweetsSentOrScheduled:n}=this.state,{composerData:i}=this.props,o=a[e],s=i.some((t=>t.key===e));"string"==typeof o&&!n&&s&&this._updateSingleComposer({text:o},t)})),this._updateAudienceControlsValue=e=>{const{composerData:t,updateAudienceControlsValue:a}=this.props,{errorMessage:n}=this.state;switch(e._type){case"conversation_controls":if(!this._conversationControlsCreationEnabled)return;break;case"community_members":if(!this._isCommunitiesEnabled)return;t[0].pollActive&&(this._updateSingleComposer({pollActive:!1},0),this.setState({errorMessage:{text:gs}})),(null==n?void 0:n.text)===gs&&this.setState({errorMessage:void 0})}a(e,this._getParentKey())},this._renderProgressBar=()=>{const{isSending:e,sendingProgress:t}=this.props;return s.a.createElement(is.a,{progress:e?Math.max(t,.02):0,style:Ks.progressBar})},this._updateConvoCardState=()=>{const{convoCardData:e,updateConvoCardState:t}=this.props;if(e){const{cardId:a,nextState:n}=e;n&&a&&t(a,{cardState:n})}},this._attachExternalMedia=e=>t=>Promise.all(t.map((e=>Object(io.a)(e)))).then(this._handleAddMediaFiles(e)),this._handleAddMediaFiles=e=>t=>{var a,n;const{addMedia:i,addToast:o,composerData:s,dataSaverMode:r,preUploadMedia:l,processMultipleMedia:c,removeMediaUpload:d}=this.props,u=s[e],h=u.pollActive,p=Object(us.e)(null==this||null==(a=this.context)?void 0:a.userClaims,null==this||null==(n=this.context)?void 0:n.featureSwitches);h||i(t,{location:us.d.Tweet,canUploadLongVideo:p}).then((t=>{const a=t.map((e=>e.id));if(Gs._validateMedia(u,t)){const n=u.media.map((e=>e.id));this._updateSingleComposer({mediaIds:Object(ls.a)(n.concat(a))},e),c(t,{onFailure:this._handleMediaRemoveFactory(e)}).then((e=>{r||l(e.map((e=>e.id)))}))}else o({text:Us}),d(a)}))},this._handleMediaRemoveFactory=e=>t=>this._handleMediaRemove(e,t),this._handleMediaRemove=(e,t)=>{const{composerData:a,removeMediaUpload:n}=this.props,{media:i,mediaTags:o}=a[e],s=((e,...t)=>Object(cs.a)(e,t))(i.map((e=>e.id)),t),r=s.length>0?o:[];this._updateSingleComposer({mediaIds:s,gifMetadata:void 0,mediaTags:r},e),n(t),this.setState({errorMessage:void 0})},this._setComposerRef=e=>t=>{this._composerRefs[e]=t},this._shouldBeExpanded=()=>{const{composerData:e,parentTweetId:t}=this.props,{focused:a}=this.state;if(a)return!0;const n=!Object(Ft.c)(this._getSingleComposerDataWithLatestText(e[0]));return!t||n},this._areComposersValid=()=>{const{audienceControlsValue:{_type:e},composerData:t}=this.props,a=t[0].quotedStatus,n=null==a?void 0:a.community_id_str,i="community_members"===e;return this.isRetweet&&!n&&!i||t.every((e=>Object(Ft.e)(this._getSingleComposerDataWithLatestText(e))))},this._areComposersEmptyOrUnchanged=()=>{const{composerData:e,prepopulatedText:t}=this.props;return e.every((e=>Object(Ft.d)(this._getSingleComposerDataWithLatestText(e),t)))},this._getAltTextMetadata=()=>{const{composerData:e}=this.props,t={numberOfDescriptionsMissing:0,numberOfImages:0,noDescriptionImageIDs:[]};return e.forEach((e=>{const a=(e.media||[]).filter((({mediaFile:e})=>(null==e?void 0:e.isImage)||(null==e?void 0:e.isGif))),n=a.filter((({mediaMetadata:e})=>!(null!=e&&e.altText))).map((e=>e.id));t.numberOfImages+=a.length,t.noDescriptionImageIDs.push(...n)})),t.numberOfDescriptionsMissing=t.noDescriptionImageIDs.length,t},this._getSingleComposerDataWithLatestText=e=>{const{textMap:t}=this.state;return"string"==typeof t[e.key]?{...e,text:t[e.key]}:e};const n=!(null==(a=e.location.state)||!a.focusComposer);this.state={focused:n,showAltTextPrompt:!1,showDiscardTweetConfirmation:!1,showToxicReplyNudge:!1,textMap:{},tweetsSentOrScheduled:!1,typeaheadActive:!1,shouldDisableButton:!1},this._composerRefs={},this._conversationControlsCreationEnabled=!0===this.context.featureSwitches.getValueWithoutScribeImpression("conversation_controls_limited_replies_creation_enabled"),this._throttledSyncTexts=Object(Ea.a)(this._syncTexts,1e3,{leading:!0,trailing:!1}),this._keyCommandHandlers={[hs.b]:this.handleTweetOrRetweet,[hs.a]:this.handleDismissComposer},this._keyCommandHandlersForActiveTypeahead={[hs.b]:this.handleTweetOrRetweet},this._isAltTextNudgeEnabled=!0===this.context.featureSwitches.getValueWithoutScribeImpression("responsive_web_alt_text_nudges_enabled"),this._isCommunitiesEnabled=this.context.featureSwitches.isTrue("c9s_enabled")}UNSAFE_componentWillMount(){const{onRef:e}=this.props;e&&e(this)}componentDidMount(){const{convoCardData:e,externalMedia:t,externalMediaFiles:a,fetchAltTextPromptPreferenceIfNeeded:n,history:i,isInline:o,isIntentRoute:s,location:r,prepopulatedText:l,setValidity:c}=this.props;if(this._unblockHistory=this.props.history.block(this._blockHistory),t.length>0&&this._attachExternalMedia(0)(t),a.length>0&&this._handleAddMediaFiles(0)(a),this._handleFetchTweetIfNeeded(),this._handleDeletePreviewTweet(),n(),l||e&&e.cardUrl){const t={};l&&(t.text=l),e&&e.cardUrl&&(t.cardUrl=e.cardUrl),this._updateSingleComposer(t)}(l||e&&e.cardUrl||t.length>0||a.length>0)&&!s&&i.replace({query:Object(bi.b)(r.query),search:"",pathname:r.pathname,state:Object(ss.a)(Object(bi.b)(r.state||{}),["defaultText","externalMedia","externalMediaFiles"])}),c&&c(this._areComposersValid()),o||this._setActiveParentKey(),this.isInlineReply&&this._root&&(this._height=this._root.getBoundingClientRect().height)}componentDidUpdate(e,t){const{addToast:a,composerData:n,copyDataFromInlineComposerToModalComposer:i,externalMedia:o,externalMediaFiles:s,onRef:r,parentTweetId:l,replyPressToggle:c,setValidity:d,windowWidth:u}=this.props;u!==e.windowWidth&&this._throttledSyncTexts(),e.onRef&&e.onRef!==r&&e.onRef(void 0),r&&r!==e.onRef&&r(this),n.length>=25&&e.composerData.length<25&&a({text:Bs}),o.length>0&&o!==e.externalMedia?this._attachExternalMedia(0)(o):s.length>0&&s!==e.externalMediaFiles&&this._handleAddMediaFiles(0)(s),d&&!Object(ds.a)(n,e.composerData)&&d&&d(this._areComposersValid()),c!==e.replyPressToggle&&i(l)}componentWillUnmount(){const{onRef:e}=this.props;this._unblockHistory&&this._unblockHistory(),e&&e(void 0),this._syncTexts()}render(){var e,t;const{activeUser:a,addToast:n,audienceControlsValue:o,composeHeader:r,composerData:l,customizePropsForSingleComposerItem:c,geoEnabled:d,history:u,inReplyToStatus:h,isInline:p,isModal:m,isSelfThreadReply:g,isSending:b,isSuperFollowsCreator:_,parentTweetId:y,positionCursorAtBeginning:f,richTextInputContext:w,scheduledFor:C,typeaheadWrapper:v,userLanguage:T,windowWidth:E}=this.props,{errorMessage:x,focused:S,shouldDisableButton:I,showAltTextPrompt:R,showDiscardTweetConfirmation:M,showToxicReplyNudge:D,typeaheadActive:L}=this.state,A=!m&&L,O=p?0:this.props.activeComposerIndex,F=A||p?[l[O]]:l,B=this._areComposersValid(),N=this.hasNonCompliantQuote&&this.isRetweet,U=p?k.a:os.a,j=p?{}:{onAnimateComplete:m?void 0:this._handleAnimateComplete},H=I||!B||N||this.isCommunityTweetFromProtectedUser,z=p&&bo.a.isOneColumnSquishedLayout(E)||this.isCommunityTweet,W=p&&bo.a.isOneColumnSquishedLayout(E)||this.isCommunityTweet||this.isExclusiveTweet;return s.a.createElement(k.a,{ref:this._setRootRef,style:!y&&Ks.root},p?this._renderProgressBar():null,x&&s.a.createElement(k.a,{style:Ks.inlineCallout},s.a.createElement(nt.a,{action:null!=(e=x.action)&&e.label&&null!=(t=x.action)&&t.link?{label:x.action.label,link:x.action.link}:void 0,text:x.text,type:"danger"})),s.a.createElement(k.a,{onFocus:this._handleFocus,style:[Ks.content,y&&Ks.contentInlineReply,m&&Ks.contentModal]},h?this._renderReplyContext():null,r,s.a.createElement(U,j,F.map(((e,t)=>{const r=Object(Bt.h)(e.scheduledFor),x=l.indexOf(e),I=c(e,t,F),R=m||p?s.a.createElement(P.a,{behavioralEventContext:Ws,disabled:H,onPress:this.handleTweetOrRetweet,size:"medium",style:Ks.inlineSendButton,testID:m?_o:yo,type:"brandFilled"},Object(ps.b)({inReplyToStatus:!!h,isSelfThreadReply:!!g,isQuoteTweet:!!this.isQuoteTweet,isRetweet:!!this.isRetweet,isScheduled:!!r,isThread:this.isThread})):null,M=this._getSingleComposerDataWithLatestText(e);return s.a.createElement(k.a,{key:e.key},s.a.createElement(ei,i()({addComposerLink:this._makeAddComposerLink(p,g,y),addToast:n,additionalToolbarContent:R,audienceControlsValue:o,autoFocus:this.isInlineReply&&S,data:M,disableAddTweet:l.length>=25,editable:!b&&!!a,fetchAutotaggedLocationIfNeeded:this._fetchAutotaggedLocationIfNeeded,geoEnabled:d,hidePoll:z,hideScheduling:W,history:u,index:x,isActive:x===O&&!b,isCommunityTweetFromProtectedUser:this.isCommunityTweetFromProtectedUser,isExpanded:0!==t||this._shouldBeExpanded(),isInline:p,isInlineReply:this.isInlineReply,isLast:p||x===l.length-1,isReply:!!h||this.isInlineReply,isSelfThreadReply:!!g,isSuperFollowsCreator:_,keyCommandHandlers:this._getKeyCommandHandlers(),loggedInUser:a,onAddComposer:this._handleAddComposer,onFilesAdded:this._handleAddMediaFiles(x),onFocus:this._handleComposerFocus,onRemoveComposer:this._handleRemoveComposer,onRemoveMedia:this._handleMediaRemove,onTextChange:this._handleTextChange,onTextInputBlur:this._handleTextOnBlur(M.key,t),onTypeaheadStateChange:this._handleTypeaheadStateChange,positionCursorAtBeginning:!!f,ref:this._setComposerRef(x),richTextInputContext:w,scheduledFor:C,setActiveParentKey:this._setActiveParentKey,twitterTextConfigurationVersion:"version3",typeaheadActive:L,typeaheadWrapper:v,updateAudienceControlsValue:this._updateAudienceControlsValue,updateSingleComposer:this._updateSingleComposer,userLanguage:T,windowWidth:E},I)))}))),M?this._canSaveDraft?s.a.createElement(ns.a,{cancelButtonLabel:Ps,confirmButtonLabel:Ls,headline:Ms,onCancel:this._handleConfirmDiscardTweet,onConfirm:this._handleDraftTweet,onMaskClick:this._handleCancelDiscardTweet,text:Ds}):s.a.createElement(ns.a,{confirmButtonLabel:Ps,confirmButtonType:"destructiveFilled",headline:this.isThread?ks:Is,onCancel:this._handleCancelDiscardTweet,onConfirm:this._handleConfirmDiscardTweet,text:Rs}):null,R?this._renderAltTextPrompt():null,D?this._renderToxicReplyNudge():null,s.a.createElement(k.a,{style:b&&Ks.mask})))}_scribe(e,t){const{analytics:a}=this.props;a.scribe({...e,data:t})}get isInlineReply(){const{parentTweetId:e}=this.props;return!!e}get isThread(){return this.props.composerData.length>1}get isRetweet(){const{composerData:e}=this.props,t=0===e[0].media.length,a=this._getSingleComposerDataWithLatestText(e[0]).text;return!this.isThread&&e[0].quotedStatus&&""===a&&t}get isQuoteTweet(){const{composerData:e}=this.props,t=this._getSingleComposerDataWithLatestText(e[0]).text;return!this.isThread&&e[0].quotedStatus&&t.length>0}get hasNonCompliantQuote(){var e;const{composerData:t}=this.props;return"non_compliant"===(null==(e=t[0].quotedStatus)?void 0:e.limited_actions)}get shouldShowDiscardConfirmation(){const{composerData:e,isSending:t}=this.props,{scheduledTweetId:a}=e[0],{showDiscardTweetConfirmation:n}=this.state,i=this._areComposersEmptyOrUnchanged();return!(t||i||n||a)}get shouldShowBackgroundSendConfirmation(){const{composerData:e,isSending:t}=this.props,a=e.some((e=>e.media.some((e=>e.uploading))));return t&&a}get shouldShowAltTextPrompt(){const{altTextNudgeType:e}=this.props;if(!this.context.featureSwitches.isTrue("responsive_web_alt_text_nudges_enabled")||e!==r.a.prompt)return!1;const{numberOfDescriptionsMissing:t}=this._getAltTextMetadata();return t>0}get _canSaveDraft(){const{composerData:e,isInline:t}=this.props;return!(this.isCommunityTweet||this.isExclusiveTweet||this.isThread||e[0].pollActive||0!==e[0].mediaTags.length||t)}get isCommunityTweet(){const{audienceControlsValue:e,inReplyToStatus:t}=this.props;return!!(null!=t&&t.community_id_str||"community_members"===e._type)}get isCommunityTweetFromProtectedUser(){var e;return!(!this.isCommunityTweet||null==(e=this.props.activeUser)||!e.protected)}get isReply(){return!(!this.props.inReplyToStatus&&!this.props.inReplyToStatusId)}get isExclusiveTweet(){const{audienceControlsValue:e}=this.props;return!!e.exclusivityControlValue}get isTrustedFriendsTweet(){const{audienceControlsValue:e}=this.props;return!!e.trustedFriendsValue}get tweetType(){return this.isQuoteTweet?Vs.Quote:this.isThread?Vs.Thread:this.isReply?Vs.Reply:Vs.Original}get isPreview(){var e,t;const{undoTweetSettings:a}=this.props;return(null==this||null==(e=this.context)||null==(t=e.userClaims)?void 0:t.isTrueAndEnabled("subscriptions_feature_1003"))&&(!a||void 0===a[this.tweetType]||a[this.tweetType])}}Gs.defaultProps={customizePropsForSingleComposerItem:(e,t,a)=>({}),externalMedia:[],externalMediaFiles:[],isSelfThreadReply:!1,isModal:!1,positionCursorAtBeginning:!1,prepopulatedText:"",setValidity:()=>{},typeaheadWrapper:co.a},Gs.contextType=K.a,Gs._validateMedia=(e,t)=>{const{media:a}=e;return Object(d.c)(a.concat(t))};const Ks=f.a.create((e=>({root:{paddingBottom:e.spaces.space4},content:{paddingVertical:e.spaces.space4,backgroundColor:e.colors.cellBackground},contentModal:{borderBottomLeftRadius:e.borderRadii.xLarge,borderBottomRightRadius:e.borderRadii.xLarge},contentInlineReply:{paddingVertical:e.componentDimensions.gutterVertical},mask:{...f.a.absoluteFillObject},inlineSendButton:{marginLeft:e.spaces.space12},progressBar:{position:"absolute",borderTopLeftRadius:e.borderRadii.small,borderTopRightRadius:e.borderRadii.small},inlineCallout:{paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical},hidden:{position:"absolute",visibility:"hidden",width:"100%"}})));t.a=Object(I.a)(ao(Gs))},hHEM:function(e,t,a){"use strict";var n=a("z4Oz"),i=a("LQrL"),o=a("zpdM");const s=(e,t)=>{let a=0;for(let n=0;n<e.length;n++){const i=e[n],o=i.getText().length;if(a+o>=t)return{blockKey:i.key,offset:t-a};a+=o+1}return Object.freeze({})},r=(e,t,a=0)=>{let n=a;const i=e.getBlockForKey(t);if(!i)return;const o=i.getEntityAt(a);if(void 0!==o){const t=o&&e.getEntity(o),s=t&&t.data&&t.data.id;if(void 0!==s)for(let t=a-1;t>=0;t--){const a=i.getEntityAt(t),o=a&&e.getEntity(a);if(!o||!o.data||o.data.id!==s){n=t+1;break}}}return n},l="TWEMOJI",c="IMMUTABLE";t.a={convertEmojiToEntities:e=>{const t=o.EditorState.set(e,{allowUndo:!1});let a=t.getCurrentContent(),i=0;return a.getBlocksAsArray().forEach((e=>{n.a.getTwemojiEntities(e.getText()).forEach((n=>{if(2!==(n.indices&&n.indices.length))return;const s=a.createEntity(l,c,{url:n.url||null,id:i});i+=1;const r=s.getLastCreatedEntityKey(),d=e.getKey(),u=t.getSelection().merge({anchorKey:d,anchorOffset:n.indices[0],focusKey:d,focusOffset:n.indices[1],isBackward:!1});a=o.Modifier.applyEntity(s,u,r)}))})),o.EditorState.set(t,{allowUndo:!0,currentContent:a})},getRelativeOffset:s,initEditorState:(e="",t={decorators:[i.b,i.f,i.a]})=>{const a=t.decorators,n=o.EditorState.createWithContent("string"==typeof e?o.ContentState.createFromText(e):Object(o.convertFromRaw)(e),new o.CompositeDecorator(a));return o.EditorState.moveSelectionToEnd(n)},insertTextAtCursor:(e,t)=>{const a=e.getCurrentContent(),n=e.getSelection(),i=o.Modifier.insertText(a,n,t);return o.EditorState.push(e,i,"insert-characters")},TWEMOJI_ENTITY_TYPE:l,updateOverflowStyle:(e,t,a=!1)=>{let n;const i=e.getSelection();let l=o.EditorState.set(e,{allowUndo:!1});const c=e.getCurrentContent().getSelectionBefore(),d=e.getCurrentContent().getSelectionAfter(),u=e.getCurrentContent().getBlocksAsArray(),h="number"==typeof t&&t>-1,p=h?s(u,t):Object.freeze({});if(a&&(l=((e,t)=>{const a=e.getCurrentContent(),n=a.getFirstBlock(),i=a.getLastBlock(),{blockKey:s=i.key,offset:r=i.getText().length}=t,l=e.getSelection().merge({anchorKey:n.key,anchorOffset:0,focusKey:s,focusOffset:r,isBackward:!1}),c=o.Modifier.removeInlineStyle(e.getCurrentContent(),l,"overflow");return o.EditorState.push(e,c,"change-inline-style")})(l,p),n=!0),h&&(l=((e,t)=>{const{blockKey:a,offset:n}=t,i=e.getCurrentContent(),s=i.getLastBlock(),l=r(i,a,n);if(a){const t=e.getSelection().merge({anchorKey:a,anchorOffset:l,focusKey:s.key,focusOffset:s.getText().length,isBackward:!1}),n=o.Modifier.applyInlineStyle(i,t,"overflow");return o.EditorState.push(e,n,"change-inline-style")}return e})(l,p),n=!0),n){l=o.EditorState.forceSelection(l,i);let t=l.getCurrentContent();t=t.set("selectionBefore",c),t=t.set("selectionAfter",d),l=o.EditorState.set(e,{allowUndo:!0,currentContent:t})}return l}}},hiGS:function(e,t,a){"use strict";var n=a("ERkP"),i=a.n(n),o=a("Lsrn"),s=a("k/Ka");const r=(e={})=>Object(s.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[o.a.root,e.style],viewBox:"0 0 24 24"},i.a.createElement("g",null,i.a.createElement("path",{d:"M20.746 5.236h-3.75V4.25c0-1.24-1.01-2.25-2.25-2.25h-5.5c-1.24 0-2.25 1.01-2.25 2.25v.986h-3.75c-.414 0-.75.336-.75.75s.336.75.75.75h.368l1.583 13.262c.216 1.193 1.31 2.027 2.658 2.027h8.282c1.35 0 2.442-.834 2.664-2.072l1.577-13.217h.368c.414 0 .75-.336.75-.75s-.335-.75-.75-.75zM8.496 4.25c0-.413.337-.75.75-.75h5.5c.413 0 .75.337.75.75v.986h-7V4.25zm8.822 15.48c-.1.55-.664.795-1.18.795H7.854c-.517 0-1.083-.246-1.175-.75L5.126 6.735h13.74L17.32 19.732z"}),i.a.createElement("path",{d:"M10 17.75c.414 0 .75-.336.75-.75v-7c0-.414-.336-.75-.75-.75s-.75.336-.75.75v7c0 .414.336.75.75.75zm4 0c.414 0 .75-.336.75-.75v-7c0-.414-.336-.75-.75-.75s-.75.336-.75.75v7c0 .414.336.75.75.75z"})));r.metadata={width:24,height:24},t.a=r},"ii+P":function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a("ERkP"),i=a.n(n),o=a("wtru");function s(e){const t=Object(o.b)();return[!!t&&!t.flags[e],i.a.useCallback((()=>{null==t||t.addFlag(e)}),[t,e])]}},jtO7:function(e,t,a){"use strict";var n=a("97Jx"),i=a.n(n),o=a("ERkP"),s=a.n(o),r=a("t62R"),l=a("I4+6"),c=a("cm6r"),d=a("rHpw"),u=a("MWbm");const h=d.a.create((e=>({container:{backgroundColor:e.colors.cellBackground},root:{justifyContent:"center",minHeight:e.spaces.space48,paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.spaces.space16}})));t.a=({align:e="center",color:t,label:a,...n})=>{const o=l.a.generate({backgroundColor:d.a.theme.colors.transparent,color:d.a.theme.colors[t],insetFocusRing:!0});return s.a.createElement(u.a,{style:h.container},s.a.createElement(c.a,i()({},n,{interactiveStyles:o,style:h.root}),s.a.createElement(r.b,{align:e,color:t},a)))}},kIAd:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return o}));var n=a("0vv5");const i=500,o={scoper:[{type:"dmUserSearch",regexp:/^[@]?(.*)|^$/,srcInputs:["compose_message"],scope:{result_type:"users",count:20}},{type:"username",regexp:/^[@](\w{1,20})/,srcInputs:["compose"],scope:{result_type:"users",count:20}},{type:"hashtag",regexp:a.n(n).a,srcInputs:["compose"],scope:{result_type:"topics",count:20}},{type:"topic",regexp:/(.+)/,srcInputs:["search_box"],scope:{result_type:"all"}},{type:"ttt",regexp:/(.+)/,srcInputs:["welcome_flow"],scope:{count:10,result_type:"topics,ttt"}}],WordBoundary:/[!'%&'()*+,\\\-./:;<=>?[\]^{|}~\s]|$/,WordEnd:/[^!'%&'()*+,\\\-./:;<=>?[\]^{|}~\s]+$/}},keCP:function(e,t,a){"use strict";var n=a("97Jx"),i=a.n(n),o=(a("kYxP"),a("MvUL"),a("SV7d")),s=a("rHpw");const r="singleline";var l=a("ERkP"),c=a.n(l),d=a("k/Ka"),u=a("PxJJ"),h=a("w9LO"),p=a("fs1G"),m=a("zpdM");const g=e=>Object(d.a)("div",e);let b=!1;t.a=c.a.forwardRef(((e,t)=>{const a=o.d();return c.a.createElement(_,i()({},e,{onFocus:t=>{e.onFocus&&e.onFocus(t),a("focus")},ref:t}))}));class _ extends c.a.Component{constructor(...e){super(...e),this._setSelectionToStart=()=>{const{editorState:e}=this.props,t=e.getCurrentContent().getFirstBlock().getKey();return m.EditorState.acceptSelection(e,new m.SelectionState({anchorKey:t,anchorOffset:0,focusKey:t,focusOffset:0,isBackward:!1}))},this._setFocusToStart=()=>{const e=this._setSelectionToStart();return m.EditorState.forceSelection(e,e.getSelection())},this._setFocusToEnd=()=>{const{autoFocus:e,editorState:t,onChange:a}=this.props;e?null==a||a(m.EditorState.moveFocusToEnd(t)):null==a||a(m.EditorState.moveSelectionToEnd(t))},this._setDraftJsStyle=()=>{const{placeholderTextColor:e}=this.props,t=document.createElement("style");t.innerHTML=(({placeholderTextColor:e=s.a.theme.colors.gray700})=>{const t=s.a.theme.spaces.space2;return`\n         .DraftEditor-editorContainer, .DraftEditor-root, .public-DraftEditor-content {\n            height: inherit;\n            max-height: inherit;\n            min-height: inherit;\n            overflow: auto;\n            text-align: initial;\n        }\n\n        .public-DraftEditor-content[contenteditable=true] {\n            -webkit-user-modify: read-write-plaintext-only\n        }\n\n        .DraftEditor-root {\n            width: 100%;\n            position: relative;\n            -webkit-user-select: none;\n        }\n\n        .DraftEditor-editorContainer {\n            background-color: rgba(255, 255, 255, 0);\n            border-left: .1px solid transparent;\n            position: relative;\n            z-index: 1;\n        }\n\n        .public-DraftEditor-block {\n            position: relative;\n        }\n\n        .DraftEditor-alignLeft .public-DraftStyleDefault-block {\n            text-align: left;\n        }\n\n        .DraftEditor-alignLeft .public-DraftEditorPlaceholder-root {\n            left: 0;\n            text-align: left;\n        }\n\n        .DraftEditor-alignCenter .public-DraftStyleDefault-block {\n            text-align: center\n        }\n\n        .DraftEditor-alignCenter .public-DraftEditorPlaceholder-root {\n            margin: 0 auto;\n            text-align: center;\n            width: 100%\n        }\n\n        .DraftEditor-alignRight .public-DraftStyleDefault-block {\n            text-align: right;\n        }\n\n        .DraftEditor-alignRight .public-DraftEditorPlaceholder-root {\n            right: 0;\n            text-align: right;\n        }\n\n        .public-DraftEditorPlaceholder-root {\n            color: ${e};\n            padding-bottom: ${t};\n            padding-top: ${t};\n            position: absolute;\n            z-index: 1;\n        }\n\n        .public-DraftEditorPlaceholder-inner {\n            user-select: none;\n            -webkit-user-select: none;\n        }\n\n        .public-DraftEditorPlaceholder-hasFocus {\n            color: ${e};\n        }\n\n        .DraftEditorPlaceholder-hidden {\n            display: none;\n        }\n\n        .public-DraftStyleDefault-block {\n            overflow:hidden;\n            padding-bottom: ${t};\n            padding-top: ${t};\n            position: relative;\n            white-space: pre-wrap;\n        }\n\n        /* Only a handful of CSS rules work on br tags and user-select isn't one */\n        div:only-child > .public-DraftStyleDefault-block br::selection {\n            background: transparent;\n        }\n\n        /*\n           Safari doesn't let you change ::selection on br elements,\n           but Chrome needs it here\n        */\n        div:only-child > .public-DraftStyleDefault-block::selection {\n            background: transparent;\n        }\n\n        .public-DraftStyleDefault-ltr {\n            direction: ltr;\n            text-align: left;\n        }\n\n        .public-DraftStyleDefault-rtl {\n            direction: rtl;\n            text-align: right;\n        }\n\n        .singleline .public-DraftStyleDefault-block {\n            overflow-x: auto;\n            scrollbar-width: none;\n            white-space: nowrap;\n            -ms-overflow-style: none;\n        }\n        .singleline .public-DraftStyleDefault-block::-webkit-scrollbar {\n            display: none;\n        }\n    `})({placeholderTextColor:e});const a=document.head;a&&a.insertBefore(t,a.firstChild)},this.focus=()=>{this._editor&&this._editor.focus()},this.blur=()=>{this._editor&&this._editor.blur()},this.getValue=()=>this.props.editorState.getCurrentContent().getPlainText(),this.getOffsetHeight=()=>{const{editor:e}=this._editor||{};return e&&e.offsetHeight||0},this.clear=()=>{},this._setEditorRef=e=>{this._editor=e},this._handleViewClick=()=>this.focus(),this._onPastedFiles=e=>{const{onFilesAdded:t}=this.props,a=[];if(e.forEach((e=>{e instanceof File&&a.push(e)})),a.length){return(null==t?void 0:t(a))?"handled":"not-handled"}return"not-handled"},this._removeNewLines=(e,t)=>m.EditorState.push(t,m.Modifier.replaceText(t.getCurrentContent(),t.getSelection(),e.replace(/[\r\n]+/g," ")),"insert-characters"),this._removeInvalidStylesFromContentBlock=e=>{const{pastedStylesAllowlist:t}=this.props,a=e.getCharacterList().map((e=>e.getStyle().filter((e=>!(null!=t&&t.includes(e)))).reduce(((e,t)=>m.CharacterMetadata.removeStyle(e,t)),e)));return(null!=t&&t.includes(e.getType())?e:e.set("type","unstyled")).set("characterList",a)},this._removeInvalidStyles=(e,t)=>{const{blockRenderMap:a}=this.props,n=e?Object(m.convertFromHTML)(e,void 0,a):void 0;if(n){var i;const e=null==n||null==(i=n.contentBlocks)?void 0:i.map(this._removeInvalidStylesFromContentBlock);if(e){const a=m.ContentState.createFromBlockArray(e,null==n?void 0:n.entityMap);return m.EditorState.push(t,m.Modifier.replaceWithFragment(t.getCurrentContent(),t.getSelection(),a.getBlockMap()),"insert-fragment")}}return null},this._onPastedText=(e,t,a)=>{const{multiline:n,onChange:i,pastedStylesAllowlist:o}=this.props;if(i){if(!n)return i(this._removeNewLines(e,a)),"handled";if(null!=o&&o.length){const e=this._removeInvalidStyles(t,a);if(e)return i(e),"handled"}}return"not-handled"},this._myKeyBindingFn=e=>{const{dismissComposerCommandName:t,sendTweetCommandName:a}=this.props,{hasCommandModifier:n}=m.KeyBindingUtil;return 13===e.keyCode&&n(e)?a:27===e.keyCode?t:Object(m.getDefaultKeyBinding)(e)},this._onKeyCommand=e=>{const{keyCommandHandlers:t}=this.props,a=t&&t[e];return a?(a(),"handled"):"not-handled"},this._onSingleLineReturn=(e,t)=>{const{handleReturn:a}=this.props;return null==a||a(e,t),"handled"},this._getContainerStyle=()=>{const{appTextSize:e,maxNumberOfLines:t,multiline:a,numberOfLines:n}=this.props,i=s.a.theme.lineHeightsPx[{small:"subtext2",normal:"body",large:"headline1",subtext2:"subtext2",body:"body",headline1:"headline1"}[e]];return{minHeight:(a&&n?n:1)*i,maxHeight:(a&&t?t:1)*i}}}componentDidMount(){const{onChange:e,positionCursorAtBeginning:t,positionCursorAtEnd:a}=this.props;a?this._setFocusToEnd():t?null==e||e(this._setFocusToStart()):this.props.autoFocus&&this.focus(),b||(this._setDraftJsStyle(),b=!0)}static getDerivedStateFromError(){return{}}componentDidCatch(e){u.a.report(e,{tags:{userVisible:!0,draftJs:!0}})}render(){const{ariaActiveDescendant:e,ariaAutocomplete:t,ariaControls:a,ariaLabel:n,blockRenderMap:i,blockRendererFn:o,editorState:l,handleReturn:d,multiline:u,onChange:p,onFocus:b,onKeyDown:_,onKeyPress:f,onKeyUp:w,pastedStylesAllowlist:C,placeholder:v,spellCheck:T,style:E,testID:x}=this.props;return c.a.createElement(g,{className:u?void 0:r,onClick:this._handleViewClick,style:[this._getContainerStyle(),E]},c.a.createElement(m.Editor,{ariaActiveDescendantID:e,ariaAutoComplete:t,ariaControls:a,ariaLabel:n,ariaMultiline:u,blockRenderMap:i,blockRendererFn:o,customAttrs:{[h.a.NO_REFOCUS_ATTRIBUTE]:"true",onKeyPress:f,onKeyUp:w},customStyleMap:y(s.a.theme),editorState:l,handleKeyCommand:this._onKeyCommand,handlePastedFiles:this._onPastedFiles,handlePastedText:this._onPastedText,handleReturn:u?d:this._onSingleLineReturn,keyBindingFn:this._myKeyBindingFn,onChange:p,onFocus:b,onKeyDown:_,placeholder:v,ref:this._setEditorRef,spellCheck:"false"!==T,stripPastedStyles:!(u&&null!=C&&C.length),tabIndex:0,webDriverTestID:x}))}}_.defaultProps={appTextSize:"body",autoFocus:!1,keyCommandHandlers:{},maxNumberOfLines:30,multiline:!0,numberOfLines:6,onFocus:p.a,positionCursorAtEnd:!1,spellCheck:"true"},_.propTypes={};const y=({colors:e})=>({overflow:{backgroundColor:e.red200}})},krmn:function(e,t,a){"use strict";a("kYxP");var n=a("ERkP"),i=a.n(n),o=a("zb92"),s=a("RuTB"),r=a("3XMw"),l=a.n(r);var c=Object(o.a)({loader:()=>l.a.emoji.then((()=>Promise.all([a.e(0),a.e(17),a.e(209)]).then(a.bind(null,"5RdJ")))),renderPlaceholder:(e,t)=>i.a.createElement(s.a,{hasError:e,onRetry:t})}),d=a.p+"twemoji_sprite.6d90d9d5.png",u=a.p+"twemoji_sprite_high_res.0b0faef5.png",h=a("rHpw"),p=a("U+bB"),m=a("kLqS"),g=a("MWbm");const b=h.a.create((e=>({content:{backgroundColor:e.colors.cellBackground},dimensions:{height:"400px",borderRadius:e.borderRadii.xLarge,width:10*e.spacesPx.space32,overflow:"hidden"},hidden:{display:"none"}})));var _=e=>{const{onSelect:t,partialRender:a}=e,n=m.a.get()>1?u:d;return i.a.createElement(i.a.Fragment,null,i.a.createElement(g.a,{style:[b.content,b.dimensions]},i.a.createElement(c,{onSelect:t,partialRender:a,rowSize:9,spriteUrl:n})),i.a.createElement(p.a,{source:n,style:b.hidden}))},y=a("pNJr"),f=a("2ZFc"),w=a("OiMc"),C=a("/yvb");const v=l.a.d4a4842d,T=i.a.createElement(y.a,null),E=l.a.fec16c1c,x={viewType:"emoji_picker"},S=e=>{const{disabled:t,onEmojiSelect:a,onPress:n,size:o,style:s,textInputRef:r}=e,[l,d]=i.a.useState(!0);i.a.useEffect((()=>{const e=setTimeout((()=>{c.preload(),f.a.get("emojiPicker2")}),5e3);return()=>{clearTimeout(e)}}),[]);return i.a.createElement(w.a,{enableEnterKeyToggle:!0,onAnimateComplete:()=>d(!1),onDismiss:()=>d(!0),onHoverCardUnmount:()=>{window.requestAnimationFrame((()=>r&&r.focus()))},renderContent:()=>i.a.createElement(_,{onSelect:a,partialRender:l}),withArrow:!0},i.a.createElement(C.a,{accessibilityHasPopup:"menu",accessibilityLabel:v,behavioralEventContext:x,disabled:t,hoverLabel:{label:E},icon:T,onPress:e=>n&&n(e),size:o,style:s,type:"brandText"}))};S.defaultProps={disabled:!1,size:"xSmall"};t.a=S},lsKC:function(e,t,a){"use strict";a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return d})),a.d(t,"c",(function(){return u}));var n=a("3XMw"),i=a.n(n);const o=i.a.g34f2c63,s=i.a.f70a36d0,r=i.a.d17df547,l=i.a.h735a98d,c=e=>{const t=e.inReplyToStatus&&!e.isSelfThreadReply;return e.isScheduled?l:t?r:e.isThread?s:o({verb:""})},d=(e,t,a)=>()=>{if(a){var n,i;(null==(n=t.state)||null==(i=n.previousPath)?void 0:i.includes(a))&&"/compose/tweet"===t.pathname?window.scrollTo(0,0):e.push(`/i/communities/${a}`,{lockScroll:!0})}else{var o,s;const a=(null==(o=t.state)||null==(s=o.previousPath)?void 0:s.includes("/home"))&&"/compose/tweet"===t.pathname;t.pathname.includes("/home")||a?window.scrollTo(0,0):e.push("/home",{lockScroll:!0})}},u=({isInline:e,isSelfThreadReply:t,parentTweetId:a})=>e?{pathname:"/compose/tweet",state:{inReplyToStatusId:a,isSelfThreadReply:t}}:void 0},oEoC:function(e,t,a){"use strict";a.d(t,"e",(function(){return s})),a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return l})),a.d(t,"g",(function(){return c})),a.d(t,"a",(function(){return d})),a.d(t,"d",(function(){return u})),a.d(t,"f",(function(){return p}));a("kYxP");var n=a("oQhu"),i=a("kIAd"),o=a("rHpw");function s(e,t){let a;const n=i.b.scoper.find((n=>{if(-1!==n.srcInputs.indexOf(t))return a=e.match(n.regexp),a}));let o="";return a&&(o=a&&(1===a.length?a[0]:a[1])),n?{...n.scope,src:t,q:o}:null}function r(e,t){const a=t.slice(0,e),n=t.slice(e,t.length),o=a.search(i.b.WordEnd),s=o>=0?a.slice(o):"",r=n.search(i.b.WordBoundary),l=s+n.slice(0,r);return l.trim()?{start:o,end:e+r,word:l}:{start:-1,end:-1,word:""}}function l(){return`typeaheadFocus-${Math.random()}`}function c(e){const{altKey:t,ctrlKey:a,metaKey:n}=e;return!(t||a||n)}function d(e,t){const a=[];e.forEach((e=>{const n=t.find((t=>t.id===e.id));n&&n.data&&n.data.result_context?a.push(n):a.push(e)}));const n=a.map((e=>e.id)),i=t.filter((e=>n.indexOf(e.id)<0));return[...a,...i]}const u=Object(n.a)((e=>({bottom:0,paddingBottom:`calc(2.5 * ${o.a.theme.spaces.space64})`,position:"fixed",top:`${e}px`,transform:[{translate3d:"0,0,0"}]})));let h=0;const p=()=>(h+=1,`typeaheadDropdown-${h}`)},"p+r5":function(e,t,a){"use strict";a.d(t,"a",(function(){return k}));var n=a("97Jx"),i=a.n(n),o=a("ERkP"),s=a.n(o),r=a("38/B"),l=a("t62R"),c=a("/yvb"),d=a("piX5"),u=a("3XMw"),h=a.n(u),p=a("tI3i"),m=a.n(p),g=a("oQhu"),b=a("rHpw"),_=a("aITJ"),y=a("MWbm"),f=a("n5fo"),w=a("5emT"),C=a("Oib4"),v=a("WtWS"),T=a("ioan");const E=e=>e.length,x=(e,t=E)=>t(e),S=h.a.de540c32,I=h.a.b4abfdb3;class k extends s.a.Component{constructor(e){super(e),this._blurOnBackspaceKeyUpForKaiOS=!1,this._isLabelLarge=()=>{const{actualCount:e,isFocused:t}=this.state;return!e&&!t},this._getTextInputStyle=Object(g.a)((e=>[R.root,!e&&R.disabled])),this._getTextInputType=()=>{const{showPasswordVisibilityIcon:e,type:t}=this.props,{isPasswordRevealed:a}=this.state;return"password"===t&&e?a?"text":"password":t},this._calculateLength=e=>x(e,this.props.calculateLength),this._shouldRenderDisplayCount=()=>{const{isFocused:e}=this.state,t=this._isFormInvalid();return Boolean((e||t)&&this._getMaxDisplayCount())},this._isInvalidNumber=()=>{var e,t,a,n,i;const{type:o}=this.props,s=null==(e=this._textInput)||null==(t=e.textInputNode)?void 0:t.value,r=null==(a=this._textInput)||null==(n=a.textInputNode)||null==(i=n.validity)?void 0:i.badInput;return"number"===o&&""===s&&!0===r},this._getActualCount=e=>{let t=e.length;return this._isInvalidNumber()&&(t=1),t},this._handleBlur=()=>{var e;const{onBlur:t}=this.props,a=(null==(e=this._textInput)?void 0:e.getValue())||"",n=this._calculateLength(a),i=this._getActualCount(a);this.setState({isFocused:!1,displayCount:n,actualCount:i}),t&&t()},this._handleChange=e=>{const{onChange:t}=this.props,{previousValue:a}=this.state,{value:n}=e.currentTarget,i=this._calculateLength(n),o=this._getActualCount(n),s=this._getAdjustedMaxLength();void 0!==s&&n.length>s&&a.length<n.length?e.currentTarget.value=a:(this.setState({isFocused:!0,displayCount:i,actualCount:o,previousValue:e.currentTarget.value}),t&&t(e))},this._handleFocus=()=>{const{onFocus:e}=this.props;this.setState({isFocused:!0}),e&&e()},this._handleKeyPress=e=>{const{multiline:t,onKeyPress:a,onSubmitEditing:n}=this.props;a&&a(e),e.isDefaultPrevented()||"Enter"!==e.key||e.shiftKey||t||!n||(e.preventDefault(),n(e))},this._handleKeyDown=e=>{const{onKeyDown:t}=this.props,{displayCount:a}=this.state,n=0===a;_.b.isKaiOS()&&"Backspace"===e.key&&n?this._blurOnBackspaceKeyUpForKaiOS=n:t&&t(e)},this._handleKeyUp=e=>{const{onKeyUp:t}=this.props;_.b.isKaiOS()&&"Backspace"===e.key&&this._blurOnBackspaceKeyUpForKaiOS&&(e.preventDefault(),this.blur()),t&&t(e)},this._handlePasswordVisibilityClick=e=>{this.setState((e=>({isPasswordRevealed:!e.isPasswordRevealed})))},this._setTextInputRef=e=>{this._textInput=e},this._checkComponentPropsUsageCorrectness=e=>{const{defaultValue:t,maxLength:a,onChange:n,validLength:i,value:o}=e,s=!!n,r="string"==typeof o,l="string"==typeof t;m()(!(!l&&r&&!s),"A controlled component, a component with a value prop, must have an onChange handler. The value prop cannot be undefined."),m()(!(a&&i&&i>a),"Max length should be equal or greater than valid length."),m()(!(void 0!==a&&a<=0||void 0!==i&&i<=0),"Set editable to false instead of limiting the valid character count to 0.")},this._exceedsValidLength=e=>{const t=this._getMaxDisplayCount();return!!t&&e>t},this._getMaxDisplayCount=()=>this.props.validLength||this.props.maxLength,this._getAdjustedMaxLength=()=>{const{maxLength:e}=this.props,t=this.getValue(),a=this._calculateLength(t);return e?e+t.length-a:void 0},this._checkComponentPropsUsageCorrectness(e);const{defaultValue:t,value:a}=e,n=a||t||"";this.state={displayCount:this._calculateLength(n),actualCount:E(n),isFocused:!1,isPasswordRevealed:!1,previousValue:n}}componentDidUpdate(e){const{maxLength:t,onChange:a,validLength:n,value:i}=this.props,{maxLength:o,onChange:s,validLength:r,value:l}=e;r===n&&t===o&&!!a===!!s&&"string"==typeof i===("string"==typeof l)||this._checkComponentPropsUsageCorrectness(this.props)}static getDerivedStateFromProps(e,t){const{calculateLength:a,value:n}=e,i="string"==typeof n?x(n,a):0;return"string"==typeof n&&i!==t.displayCount?{displayCount:i,actualCount:n.length}:null}render(){const{accessibilityLabel:e,editable:t,errorText:a,helperText:n,style:i}=this.props,{isFocused:o}=this.state,r=this._isFormInvalid();return s.a.createElement(y.a,{style:[P.root,i]},s.a.createElement(y.a,{accessibilityLabel:e,accessibilityRole:"label",style:[d.a.border,P.textInputFormStyle,r&&d.a.invalidBorderColor,o&&r&&d.a.focusedBorderInvalid,o&&!r&&d.a.focusedBorderValid,!t&&d.a.disabled]},s.a.createElement(y.a,{style:P.textInputFormWrapper},s.a.createElement(y.a,{style:P.textInputHeader},this._renderLabel(),this._shouldRenderDisplayCount()?this._renderDisplayCount():null),this._renderTextInput())),s.a.createElement(y.a,{style:[P.sidePadding,P.underTextInputForm]},s.a.createElement(y.a,{style:P.subtextWrapper},n?this._renderHelperText():null,r&&a?this._renderErrorText():null)))}_renderLabel(){const{label:e}=this.props,{isFocused:t}=this.state,a=t?"primary":"gray700",n=this._isFormInvalid()?"red500":a,i=this._isLabelLarge();return s.a.createElement(l.b,{color:i?"gray700":n,numberOfLines:1,size:i?"headline1":"subtext2",style:[P.textInputHeaderItem,i&&P.placeholderText,!r.a.reducedMotionEnabled&&P.transition]},e)}_renderTextInput(){const{Icon:e,accessibilityLabel:t,calculateLength:a,editable:n,errorText:o,helperText:r,invalid:c,label:d,maxLength:u,onBlur:h,onChange:p,onFocus:m,onKeyDown:g,onKeyPress:b,onKeyUp:_,onSubmitEditing:f,showPasswordVisibilityIcon:w,showValidationIcon:C,style:v,type:E,validLength:x,...S}=this.props;return s.a.createElement(y.a,{style:R.container},e&&!this._isLabelLarge()?this._renderIcon():null,s.a.createElement(l.b,{size:"headline1",style:R.wrapper},s.a.createElement(T.a,i()({},S,{editable:n,maxLength:this._getAdjustedMaxLength(),onBlur:this._handleBlur,onChange:this._handleChange,onFocus:this._handleFocus,onKeyDown:this._handleKeyDown,onKeyPress:this._handleKeyPress,onKeyUp:this._handleKeyUp,ref:this._setTextInputRef,style:this._getTextInputStyle(n),type:this._getTextInputType()}))),C&&!this._isLabelLarge()?this._renderValidationIcon():null,this._renderPasswordVisibilityIcon())}_renderPasswordVisibilityIcon(){const{showPasswordVisibilityIcon:e,type:t}=this.props,{isPasswordRevealed:a}=this.state;return"password"===t&&e?s.a.createElement(y.a,{style:P.passwordVisibilityIconContainer},s.a.createElement(c.a,{accessibilityLabel:a?I:S,focusable:!0,hoverLabel:{label:a?I:S},icon:a?s.a.createElement(f.a,null):s.a.createElement(w.a,null),onPress:this._handlePasswordVisibilityClick,size:"smallCompact",type:"primaryText"})):null}_renderHelperText(){return s.a.createElement(y.a,{accessibilityLiveRegion:"polite"},s.a.createElement(l.b,{color:"gray700",size:"subtext2",style:P.subtext},this.props.helperText))}_renderErrorText(){return s.a.createElement(y.a,{accessibilityLiveRegion:"assertive"},s.a.createElement(l.b,{color:"red500",size:"subtext2",style:P.subtext},this.props.errorText))}_renderDisplayCount(){const{displayCount:e}=this.state,t=this._getMaxDisplayCount(),a=this._exceedsValidLength(e),n=t&&h.a.ia24dc8c(t),i=h.a.ia24dc8c(e);return s.a.createElement(y.a,{accessibilityLiveRegion:"polite",style:[P.textInputHeaderItem,P.displayCount]},s.a.createElement(l.b,{color:a?"red500":"gray700",size:"subtext2"},n?`${i} / ${n}`:""))}_renderIcon(){const{Icon:e}=this.props,{isFocused:t}=this.state,a=[P.icon,t&&P.focusedIcon];return e&&s.a.createElement(e,{style:a})}_renderValidationIcon(){return this._isFormInvalid()?s.a.createElement(C.a,{style:[P.validationIcon,d.a.invalidColor]}):s.a.createElement(v.a,{style:[P.validationIcon,d.a.validColor]})}_isFormInvalid(){const{displayCount:e}=this.state;return!!this.props.invalid||this._exceedsValidLength(e)||this._isInvalidNumber()}blur(){this._textInput&&this._textInput.blur()}getValue(){return this._textInput&&this._textInput.getValue()||""}focus(){this._textInput&&this._textInput.focus()}isValidLength(){const e=this.getValue(),t=this._calculateLength(e);return!this._exceedsValidLength(t)}}k.defaultProps={autoComplete:"on",autoCorrect:!0,autoFocus:!1,editable:!0,invalid:!1},k.propTypes={};const R=b.a.create((e=>({container:{flexDirection:"row",flexGrow:1,flexShrink:1,overflow:"hidden",paddingBottom:e.spaces.space8,paddingHorizontal:e.spaces.space8,paddingTop:e.spaces.space12,marginTop:e.spaces.space16},root:{backgroundColor:"transparent",borderRadius:e.borderRadii.none,borderWidth:e.borderWidths.none,boxSizing:"border-box",color:"inherit",fontFamily:"inherit",fontSize:"inherit",textAlign:"inherit",outlineStyle:"none",padding:0},wrapper:{alignItems:"center",display:"flex",fontSize:e.fontSizes.headline2,width:"100%"},disabled:{color:e.colors.gray700}}))),P=b.a.create((e=>({root:{paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical},textInputFormStyle:{flexDirection:"row"},textInputFormWrapper:{flexGrow:1,flexShrink:1},textInputHeader:{flexDirection:"row",justifyContent:"space-between",position:"absolute",height:"100%",width:"100%"},textInputHeaderItem:{paddingTop:e.spaces.space8,paddingHorizontal:e.spaces.space8,fontSize:"small"},placeholderText:{paddingTop:e.spaces.space16,fontSize:e.fontSizes.headline2,userSelect:"none"},displayCount:{flexGrow:1,alignItems:"flex-end"},sidePadding:{paddingHorizontal:e.spaces.space8},underTextInputForm:{flexDirection:"row"},subtextWrapper:{flexDirection:"column",flex:1,paddingRight:e.spaces.space20,paddingTop:e.spaces.space2},subtext:{alignSelf:"flex-start"},focusedIcon:{color:e.colors.primary},icon:{alignSelf:"center",color:e.colors.gray700,paddingRight:e.spaces.space4},validationIcon:{alignSelf:"center",paddingLeft:e.spaces.space4},transition:{transition:"transform 150ms cubic-bezier(0.4, 0, 0.2, 1), color 150ms cubic-bezier(0.4, 0, 0.2, 1), font-size 150ms cubic-bezier(0.4, 0, 0.2, 1), padding-top 150ms cubic-bezier(0.4, 0, 0.2, 1)"},passwordVisibilityIconContainer:{alignSelf:"center",paddingLeft:e.spaces.space4},passwordVisibilityIcon:{color:e.colors.gray700}})))},pKoL:function(e,t,a){"use strict";a("kYxP");var n=a("ERkP"),i=a.n(n),o=a("HPNB"),s=a("9HgX"),r=a("3XMw"),l=a.n(r),c=a("LCtV"),d=a("eyty"),u=a("zb92"),h=a("RuTB"),p=Object(u.a)({loader:()=>Promise.all([a.e(0),a.e(6),a.e(178)]).then(a.bind(null,"EOJ2")).then((e=>({default:e.__DANGEROUS_IMPORT_VIDEOPLAYER__}))),renderPlaceholder:(e,t)=>i.a.createElement(h.a,{hasError:e,onRetry:t})}),m=a("k/Ka"),g=a("eXeu"),b=a("iOGT");class _ extends i.a.Component{constructor(...e){super(...e),this._setVideoRef=e=>{const{getVideoRef:t}=this.props;t&&t(e)}}render(){const{children:e,dataSaverMode:t,getVideoRef:a,style:n,variants:o,...s}=this.props,r=Object(b.b)(o,t?b.a.MEDIUM:b.a.HIGH)||[],l=Object(g.f)(r.map((e=>({src:e.url,type:e.content_type}))));return Object(m.a)("video",{...s,children:[l.map((e=>i.a.createElement("source",{key:e.src,src:e.src,type:e.type}))),e],ref:this._setVideoRef,style:n})}}_.defaultProps={dataSaverMode:!1,variants:[]};var y=a("62wY"),f=a("sjK1"),w=a("v6aA"),C=a("cHvH"),v=a("mXq/"),T=a("/yvb"),E=a("a6qo"),x=a("rHpw"),S=a("hOZg"),I=a("GCOQ"),k=a("tuke"),R=a("U+bB"),P=a("MWbm"),M=a("+/sI");const D=l.a.gd80afba,L=l.a.j322caee,A=l.a.abd845fd,O=l.a.df1b0707,F=l.a.cd959e5b,B=l.a.e68b09b4,N=l.a.add55c97;class U extends i.a.Component{constructor(...e){super(...e),this.state={isVideoPaused:!0,playGif:!1},this._handleGifClick=()=>{this.setState({playGif:!this.state.playGif})},this._handleMediaPreviewLayout=e=>{const{mediaItem:t,resizeIfNeeded:a}=this.props,n=t.mediaFile||t.externalMediaDetails;if(!n)return;const{nativeEvent:{layout:{height:i,width:o}}}=e,{height:s,width:r}=n,l=r/s;Math.abs(l-o/i)>.05&&this._mediaContainer&&("width"===a?this._mediaContainer.setNativeProps({style:{width:i*l}}):"height"===a&&this._mediaContainer.setNativeProps({style:{height:o/l}}))},this._handleVideoOnPlay=e=>{this.setState({isVideoPaused:!1})},this._handleVideoOnPause=e=>{this.setState({isVideoPaused:!0})},this._setMediaContainerRef=e=>{this._mediaContainer=e},this._setVideoRef=e=>{this._video=e},this.playVideo=()=>{if(this._video){const e=this._video.play();void 0!==e&&e.then((e=>{this._handleVideoOnPlay()})).catch()}},this.pauseVideo=()=>{this._video&&(this._video.pause(),this._handleVideoOnPause())}}render(){var e;const{accessibilityLabel:t,accessibilityRole:a,enableGif:n,mediaItem:r,onEdit:l,onEditSensitiveWarning:c,onRemove:d,style:u,withAltTextLabel:h,withCloseButton:p,withEditButton:m,withEditIcon:g,withEditSensitiveWarningButton:b}=this.props,{playGif:_}=this.state,y=r.externalMediaDetails&&r.externalMediaDetails.mediaType===s.a,f=y||n&&r.mediaFile&&r.mediaFile.isGif,w=!(null==(e=r.mediaFile)||!e.isVideo);return i.a.createElement(C.a,null,(({windowWidth:e})=>{const n=void 0!==g?g:!o.a.isTwoColumnLayout(e);return i.a.createElement(P.a,{accessibilityLabel:t||N,accessibilityRole:a,onLayout:this._handleMediaPreviewLayout,ref:this._setMediaContainerRef,style:[u,j.cursor,y&&j.gifPlayButton]},this._renderPreview(),y&&!_&&i.a.createElement(v.a,{accessibilityLabel:O,onPress:this._handleGifClick,size:"small"}),p?i.a.createElement(T.a,{accessibilityLabel:F,hoverLabel:{label:B},icon:i.a.createElement(S.a,null),onPress:d,size:"small",style:j.close,type:"onMediaDominantColorFilled"}):null,f?i.a.createElement(M.c,{type:M.a}):null,h&&!w?i.a.createElement(E.a,{align:"left",altLabel:t}):null,m?i.a.createElement(P.a,{style:[j.editMedia,w?j.editVideo:j.editImage]},b?i.a.createElement(T.a,{accessibilityLabel:L,icon:i.a.createElement(I.a,{style:j.editSensitiveWarningIcon}),onPress:c,size:"small",style:j.editSensitiveWarningButton,type:"onMediaDominantColorFilled"}):null,i.a.createElement(T.a,{accessibilityLabel:D,icon:n?i.a.createElement(k.a,null):void 0,onPress:l,size:n?"xSmall":"small",type:"onMediaDominantColorFilled"},n?void 0:A)):null)}))}_renderPreview(){var e;const{mediaItem:t}=this.props;if(t.externalMediaDetails){const e=t.externalMediaDetails.previewUrl,a=t.externalMediaDetails.stillMediaUrl;return this._renderGifPreview(e,a)}return null!=(e=t.mediaFile)&&e.isVideo?this._renderVideoPreview(t.mediaFile.type,t.mediaFile.url,t.id,t.mediaFile):i.a.createElement(P.a,{style:x.a.absoluteFill},this._renderImagePreview())}_renderGifPreview(e,t){const{playGif:a}=this.state,n={uri:a?e:t};return i.a.createElement(P.a,{onClick:this._handleGifClick,style:x.a.absoluteFill},i.a.createElement(R.a,{resizeMode:"cover",source:n,style:j.video}))}_renderImagePreview(){const{borderRadius:e,enableGif:t,imageResizeMode:a,mediaItem:n,onClick:o}=this.props;return i.a.createElement(c.b,{borderRadius:e,enableGif:t,mediaItem:n,onClick:o,resizeMode:a})}_renderVideoPreview(e,t,a,n){var o;this._configurableVideoPlayerEnabled=this.context.featureSwitches.isTrue("responsive_web_composer_configurable_video_player_enabled");const{mediaItem:s}=this.props,r=null==(o=s.mediaMetadata)?void 0:o.subtitles;if(this._configurableVideoPlayerEnabled&&n instanceof f.c){const o=Object(d.h)(n.fileHandle)?[{src:t,type:e}]:[],l=`${a}`;return i.a.createElement(p,{mediaFile:n,mediaId:l,subtitles:r,trimData:null==s?void 0:s.trimData,variants:o})}{var l;const a=Object(d.h)(n.fileHandle)?[{content_type:e,url:t}]:[],o=(null==r||null==(l=r.upload)?void 0:l.mediaFile)instanceof y.b?r.upload.mediaFile.vtt:void 0;return i.a.createElement(_,{autoPlay:!1,controls:!0,getVideoRef:this._setVideoRef,loop:!0,muted:!0,onPause:this._handleVideoOnPause,onPlay:this._handleVideoOnPlay,playsInline:!0,poster:n instanceof f.c?n.thumbnail:"",style:j.video,variants:a},r&&o?i.a.createElement("track",{default:!0,kind:"subtitles",label:r.displayName,src:o,srcLang:r.lang}):null)}}}U.contextType=w.a,U.defaultProps={enableGif:!0,withCloseButton:!0,withAltTextLabel:!1,withEditButton:!1,withEditSensitiveWarningButton:!1};const j=x.a.create((e=>({close:{position:"absolute",left:e.spaces.space4,top:e.spaces.space4},cursor:{cursor:"pointer"},editSensitiveWarningIcon:{color:e.colors.primary},editMedia:{display:"flex",flexDirection:"row",position:"absolute",right:e.spaces.space4},editImage:{bottom:e.spaces.space4},editVideo:{top:e.spaces.space4},editSensitiveWarningButton:{marginRight:e.spaces.space8},gifPlayButton:{alignItems:"center",justifyContent:"center"},video:{height:"100%",width:"100%"}})));t.a=U},pcjM:function(e,t,a){"use strict";a.r(t),a.d(t,"Compose",(function(){return ke}));a("kYxP"),a("MvUL");var n=a("ERkP"),i=a.n(n),o=a("HPNB"),s=a("h5NW"),r=a("xVN5"),l=a("pidX"),c=a("AspN"),d=a("XOJV"),u=a("G6rE"),h=a("xZGM"),p=a("0KEI"),m=a("hqKg"),g=a("oEGd"),b=a("rU/Q"),_=a("XpKj");const y=e=>(t,a)=>{const n=((e,t)=>t.location.state)(0,a);return n?e(n):void 0},f=Object(m.createSelector)(((e,t)=>t.activeUser),u.e.selectLoggedInUser,((e,t)=>e||t)),w=(e,t)=>{const{location:{query:a}}=t;return a&&"string"==typeof a.in_reply_to?a.in_reply_to:void 0},C=y((e=>e.inReplyToStatusId)),v=(e,t)=>t.location.pathname.indexOf("/intent/")>-1,T=y((e=>e.defaultText)),E=y((e=>e.quotedStatus)),x=({cardUrl:e,mediaIds:t,...a})=>a,S=y((e=>e.isSelfThreadReply)),I=y((e=>e.hideUnsentTweetsButton)),k=y((e=>e.headingSubtitle)),R=y((e=>e.headingTitle)),P=y((e=>e.selectedCommunityId)),M=Object(m.createSelector)((e=>r.k(e,"")),((e,t)=>{const a=T(e,t);return Object(l.a)(t.location)||a}),((e,t)=>t.quotedStatus?t.quotedStatus:E(e,t)),c.j,v,((e,t,a,n,i)=>e.map(((e,o)=>({...x(e),media:n.filter((t=>e.mediaIds.some((e=>e===t.id)))),quotedStatus:0===o?a:void 0,text:0===o&&t&&!i?t:e.text}))))),D=Object(m.createStructuredSelector)({activeUser:f,composerData:M,draftTweets:b.e,inReplyToStatus:(e,t)=>{const a=w(0,t)||C(e,t);return a?d.a.selectHydrated(e,a):void 0},inReplyToStatusId:w,isIntentRoute:v,isSelfThreadReply:S,isSending:e=>r.m(e,""),scheduledTweets:_.f,sendingProgress:r.o,composeSemanticCoreId:y((e=>e.composeSemanticCoreId)),hideUnsentTweetsButton:I,subtitle:k,title:R,selectedCommunityIdFromLocationState:P,shouldShowCommunityAudienceEducation:(e,t)=>Object(h.D)(e,h.e)}),L={createDraftTweetApiErrorHandler:Object(p.createLocalApiErrorHandlerWithContextFactory)(b.d),createScheduledTweetApiErrorHandler:Object(p.createLocalApiErrorHandlerWithContextFactory)(_.d),fetchScheduledTweets:_.c,fetchDraftTweets:b.c,addCommunityAudienceEducationFlag:()=>Object(h.z)(h.e),updateAudienceControlsValue:r.t};var A=Object(g.f)(D,L),O=a("RgK2"),F=a.n(O),B=a("jHSc"),N=a("lsKC"),U=a("3XMw"),j=a.n(U),H=a("iFPY"),z=a("QbaN"),W=a("v6aA"),V=a("rxPX");const G=e=>Object(h.D)(e,h.r);var K=Object(V.a)().propsFromState((()=>({shouldShowNewsletterCallout:G}))).propsFromActions((()=>({addFlag:h.z}))),q=a("Lsrn"),$=a("k/Ka");const Q=(e={})=>Object($.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[q.a.root,e.style],viewBox:"0 0 32 32"},i.a.createElement("g",null,i.a.createElement("path",{d:"M18.672 15.25H8.078c-.414 0-.75.336-.75.75s.336.75.75.75h10.594c.414 0 .75-.336.75-.75s-.336-.75-.75-.75zm0-5.297H8.078c-.414 0-.75.336-.75.75s.336.75.75.75h10.594c.414 0 .75-.336.75-.75s-.336-.75-.75-.75zm-4.304 10.594h-6.29c-.414 0-.75.336-.75.75s.336.75.75.75h6.29c.414 0 .75-.336.75-.75s-.336-.75-.75-.75z"}),i.a.createElement("path",{d:"M29.284 15.25h-4.548V5.736C24.736 4.228 23.51 3 22 3H4.75C3.24 3 2.014 4.228 2.014 5.736v20.527C2.014 27.773 3.24 29 4.75 29h21.885c1.874 0 3.4-1.524 3.4-3.398V16c0-.414-.337-.75-.75-.75zM3.514 26.264V5.736c0-.68.554-1.236 1.236-1.236H22c.682 0 1.236.555 1.236 1.236V25.6c0 .704.214 1.357.58 1.9H4.75c-.682 0-1.236-.555-1.236-1.236zm23.12 1.236c-1.046 0-1.897-.852-1.897-1.898V16.75h3.798v8.852c0 1.046-.853 1.898-1.9 1.898z"})));Q.metadata={width:32,height:32};var X=Q,Y=a("MWbm"),J=a("4zmP"),Z=a("rHpw");const ee=j.a.ed33a3b6,te=j.a.d5bda8b3,ae=j.a.i859a9d3,ne=Z.a.create((e=>({revueCallout:{marginBottom:e.spaces.space4,marginTop:e.spaces.space20}})));var ie=K((({addFlag:e,shouldShowNewsletterCallout:t})=>{const{featureSwitches:a}=i.a.useContext(W.a),n=a.isTrue("responsive_web_newsletters_callout_enabled");return t&&n?i.a.createElement(Y.a,{style:ne.revueCallout},i.a.createElement(J.a,{Icon:X,action:{label:ae,link:"https://www.getrevue.co?utm_source=twitter-threads&utm_campaign=announcement-callout&utm_content=learn-more"},headline:ee,onClose:()=>{e(h.r)},text:te,withCloseButton:!0})):null})),oe=a("7nmT"),se=a.n(oe),re=a("Dtul"),le=a("zh9S"),ce=a("7JQg"),de="tweetButton",ue=a("/yvb"),he=a("JYMr"),pe=a("cHvH"),me=a("feu+"),ge=a("7N4s"),be=a("oQhu"),_e=a("3A2y");const ye=j.a.b8f0483e,fe=j.a.a133d13e,we=j.a.a1183237,Ce=j.a.da2663f5,ve=j.a.j24c37b2,Te="compose",Ee={page:Te},xe={page:Te,section:"reply"},Se={context:"compose_intent_logged_in"},Ie={viewType:"send_tweet"};class ke extends i.a.Component{constructor(...e){super(...e),this.state={isValid:!1},this._handleDismissCommunityAudienceEducation=()=>{this.props.addCommunityAudienceEducationFlag()},this._handleAppBarHeight=Object(be.a)((()=>{const e=se.a.findDOMNode(this._appBarRef);return e&&e instanceof window.Element&&e.getBoundingClientRect().height||50})),this._handleBackClick=()=>{this._composeContainerRef&&this._composeContainerRef.handleDismissComposer()},this._handleCloseComposer=()=>{this._appBarRef&&this._appBarRef.goBack()},this._handleSendTweet=()=>{this._composeContainerRef&&this._composeContainerRef.handleTweetOrRetweet()},this._setValidity=e=>{e!==this.state.isValid&&this.setState({isValid:e})},this._getScribeNamespace=()=>this.props.inReplyToStatus||this.props.inReplyToStatusId?xe:Ee,this._getScribeData=()=>{const{activeUser:e,isIntentRoute:t}=this.props;return t&&e?Se:F.a},this._renderAppBarRightControl=()=>{const{isValid:e}=this.state,{isModal:t}=this.context,{activeUser:a,inReplyToStatus:n,isSelfThreadReply:o,isSending:s}=this.props,r=!e||s||!a;return t?void 0:i.a.createElement(ue.a,{behavioralEventContext:Ie,disabled:r,onPress:this._handleSendTweet,size:"small",testID:de,type:"brandFilled"},Object(N.b)({inReplyToStatus:!!n,isSelfThreadReply:!!o,isQuoteTweet:!!this.isQuoteTweet,isRetweet:!!this.isRetweet,isScheduled:!!this.isScheduled,isThread:this.isThread}))},this._renderHeaderWithProgressBar=e=>{const{isModal:t}=this.context,{isSending:a,sendingProgress:n}=this.props;return i.a.createElement(i.a.Fragment,null,i.a.createElement(he.a,{progress:a?Math.max(n,.02):0,style:[Re.progressBar,t&&Re.progressBarModal]}),e)},this._renderUnsentHeading=()=>{const{draftTweets:e,hideUnsentTweetsButton:t,scheduledTweets:a}=this.props;if(!t&&(a.length>0||e.length>0))return i.a.createElement(Y.a,{style:Re.unsentHeadingContainer},i.a.createElement(ue.a,{onPress:this._handleOpenUnsent,size:"small",type:"brandText"},fe))},this._handleOpenUnsent=()=>{const{history:e}=this.props;Object(le.c)({...this._getScribeNamespace(),element:"unsent_tweets",action:"click"}),e.push("/compose/tweet/unsent/drafts")},this._setAppBarRef=e=>{this._appBarRef=e},this._handleComposeContainerRef=e=>{this._composeContainerRef=e}}componentDidMount(){const{activeUser:e,createDraftTweetApiErrorHandler:t,createScheduledTweetApiErrorHandler:a,fetchDraftTweets:n,fetchScheduledTweets:i,history:o,inReplyToStatus:s,location:r,selectedCommunityIdFromLocationState:l,updateAudienceControlsValue:c}=this.props;this._unlockReload=re.a.acquire(),o.setModalRouteBreakpoint(o.location),e&&(i().catch(a()),n().catch(t())),l&&(c({_type:"community_members",communityIdValue:l,conversationControlsValue:"community_members"}),o.replace({pathname:r.pathname,state:Object(_e.a)(r.state||{},"selectedCommunityId")})),null!=s&&s.exclusivity_info?c({_type:"super_followers_exclusive",conversationControlsValue:"super_followers_exclusive",exclusivityControlValue:{}}):null!=s&&s.community_id_str?c({_type:"community_members",communityIdValue:s.community_id_str,conversationControlsValue:"community_members"}):null!=s&&s.trusted_friends_info&&c({_type:"trusted_friends_tweet",conversationControlsValue:"trusted_friends_tweet",trustedFriendsValue:{trusted_friends_list_id:"1482057446797373440"}})}componentWillUnmount(){this._unlockReload()}render(){const{activeUser:e,composeHeader:t,composeSemanticCoreId:a,composerData:n,customizePropsForSingleComposerItem:r,history:l,isIntentRoute:c,location:d,quotedStatus:u,richTextInputContext:h,subtitle:p,title:m,typeaheadWrapper:g}=this.props,b=c&&!e,{isModal:_}=this.context;return i.a.createElement(ce.c,{data:this._getScribeData(),namespace:this._getScribeNamespace()},i.a.createElement(pe.a,null,(({windowWidth:c})=>{const y=o.a.shouldRenderAsModal(c),f=(b||this.showCommunityAudienceEducation)&&y,w=(null==n?void 0:n.length)>1;return i.a.createElement(i.a.Fragment,null,this.showCommunityAudienceEducation?i.a.createElement(me.a,{actionLabel:ve,graphicDisplayMode:"none",headline:we,onAction:this._handleDismissCommunityAudienceEducation,onClose:this._handleDismissCommunityAudienceEducation,subtext:Ce,withCloseButton:!1}):null,b&&i.a.createElement(H.a,{history:l,location:d}),!f&&i.a.createElement(i.a.Fragment,null,i.a.createElement(B.b,{appBarRef:this._setAppBarRef,behavioralEventViewType:Te,documentTitle:ye,hideBackButton:!1,history:l,middleControl:this._renderUnsentHeading(),onBackClick:this._handleBackClick,renderHeader:this._renderHeaderWithProgressBar,rightControl:this._renderAppBarRightControl(),subtitle:p,title:m},i.a.createElement(s.a,{activeUser:e,composeHeader:t,composeSemanticCoreId:a,customizePropsForSingleComposerItem:r,history:l,isModal:_,location:d,onCloseComposer:this._handleCloseComposer,onHandleAppBarHeight:this._handleAppBarHeight,onRef:this._handleComposeContainerRef,quotedStatus:u,richTextInputContext:h,setValidity:this._setValidity,typeaheadWrapper:g,windowWidth:c})),w?i.a.createElement(ie,null):null))})))}get showCommunityAudienceEducation(){const{inReplyToStatus:e,selectedCommunityIdFromLocationState:t,shouldShowCommunityAudienceEducation:a}=this.props,n=!!(null!=e&&e.community_id_str||t);return a&&n}get isThread(){return this.props.composerData.length>1}get isRetweet(){const{composerData:e}=this.props,t=0===e[0].media.length;return!this.isThread&&e[0].quotedStatus&&""===e[0].text&&t}get isQuoteTweet(){const{composerData:e}=this.props;return!this.isThread&&!!e[0].quotedStatus}get isScheduled(){const{composerData:e}=this.props;return Object(z.h)(e[0].scheduledFor)}}ke.contextType=ge.b;const Re=Z.a.create((e=>({progressBar:{position:"fixed",borderTopLeftRadius:e.borderRadii.small,borderTopRightRadius:e.borderRadii.small,zIndex:e.componentZIndices.appBarZIndex+1},progressBarModal:{position:"absolute"},unsentHeadingContainer:{marginLeft:"auto"}})));t.default=A(ke)},piX5:function(e,t,a){"use strict";const n=a("rHpw").a.create((e=>({border:{borderRadius:e.borderRadii.small,borderWidth:e.borderWidths.small,borderColor:e.colors.gray200},focusedBorderValid:{boxShadow:`0 0 0 ${e.borderWidths.small} ${e.colors.primary}`,borderColor:e.colors.primary},focusedBorderInvalid:{boxShadow:`0 0 0 ${e.borderWidths.small} ${e.colors.red500}`},invalidBorderColor:{borderColor:e.colors.red500},invalidColor:{color:e.colors.red500},validColor:{color:e.colors.primary},disabled:{cursor:"default",opacity:.5,backgroundColor:e.colors.gray50,borderColor:e.colors.gray50}})));t.a=n},pidX:function(e,t,a){"use strict";a.d(t,"b",(function(){return l}));a("kYxP");var n=a("3XMw"),i=a.n(n),o=a("3A2y");const s=i.a.b2e94283,r=["title","screen_name","text","url","hashtags","via"];t.a=e=>{const t=e.state||{},a=e.query||{},[n,i,o,l,c,d]=r.map((e=>t[e]||a[e])),u=[n,i&&`@${i.toString()}`,o,l,c&&c.toString().split(",").map((e=>`#${e}`)).join(" "),d&&s({viaScreenName:d})].filter(Boolean).join(" ");return u?`${u} `:void 0};const l=e=>Object(o.a)(e,r)},qbku:function(e,t,a){"use strict";var n=a("97Jx"),i=a.n(n),o=a("ERkP"),s=a.n(o),r=a("rxPX"),l=Object(r.a)().withAnalytics({element:"social_proof"}),c=a("aTAq"),d=a("Nqmc"),u=a("x5Pi");const h=l((e=>{const t=s.a.useContext(u.b);if(t&&e.contextType===t)return null;const{analytics:a,link:n,...o}=e,r=n&&!Object(c.a)(n)?{...n,state:{...n.state,referringScribeNamespace:{...a.contextualScribeNamespace,action:"click"}}}:n;return s.a.createElement(d.a,i()({},o,{link:r,onClick:function(){const{analytics:t,onClick:a}=e;t.scribeAction("click"),a&&a()}}))}));t.a=h},rFBM:function(e,t,a){"use strict";a("kYxP");var n=a("ERkP"),i=a.n(n),o=a("rHpw"),s=a("k/Ka"),r=a("MWbm");const l=e=>Object(s.a)("div",e);class c extends i.a.Component{constructor(...e){super(...e),this._dragEnterCount=0,this.state={active:!1},this._handleDragDrop=e=>{const{onFilesAdded:t}=this.props;e.preventDefault();t(Array.from(e&&e.dataTransfer.files)),this._updateDragCount(0)},this._handleDragEnter=e=>{const{onDragEnter:t}=this.props;e.preventDefault(),t&&t(),this._updateDragCount(this._dragEnterCount+1)},this._handleDragLeave=e=>{e.preventDefault(),this._updateDragCount(this._dragEnterCount-1)},this._handleDragOver=e=>{e.preventDefault()}}render(){const{allowDragDrop:e,children:t,style:a}=this.props,{active:n}=this.state,o=e?d.dragBorderValid:d.dragBorderInvalid;return i.a.createElement(l,{onDragEnter:this._handleDragEnter,onDragLeave:this._handleDragLeave,onDragOver:this._handleDragOver,onDrop:this._handleDragDrop,style:[d.root,a,n&&o]},i.a.createElement(r.a,{style:d.inner},"function"==typeof t?t(n):t))}_updateDragCount(e){this._dragEnterCount=e,0===this._dragEnterCount?this.setState({active:!1}):this._dragEnterCount>0&&this.setState({active:!0})}}c.defaultProps={allowDragDrop:!0};const d=o.a.create((e=>({root:{display:"flex",flexDirection:"column"},dragBorderValid:{borderStyle:"dashed",borderWidth:e.spaces.space2,borderColor:e.colors.primary},dragBorderInvalid:{borderStyle:"dashed",borderWidth:e.spaces.space2,borderColor:e.colors.magenta500},inner:{flexGrow:1}})));t.a=c},rziq:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return i}));const n="send-tweet",i="dismiss-composer"},sCk0:function(e,t,a){"use strict";a("kYxP");var n=a("ERkP"),i=a.n(n),o=a("zfvc"),s=a("zrc3");const r=Object.freeze({in:"in",out:"out",static:"static"});class l extends i.a.Component{constructor(...e){super(...e),this.state={isAnimating:!1,renderChildren:i.a.Children.toArray(this.props.children).map((e=>({status:r.static,child:e})))},this._handleEachAnimateComplete=()=>{const{isAnimating:e}=this.state,{children:t,onAnimateComplete:a}=this.props;e&&(a&&a(),this.setState({renderChildren:i.a.Children.toArray(t).map((e=>({status:r.static,child:e}))),isAnimating:!1}))}}static getDerivedStateFromProps(e,t){const a=((e,t)=>{let a=0,n=0;const i=[];for(;n<e.length;){if(a>=t.length){i.push(...e.slice(n).map((e=>({child:e,status:r.out}))));break}const o=t[a],l=e[n];if(o.key===l.key)i.push({child:o,status:r.static}),a+=1;else{const e=Object(s.a)(t,(e=>e.key===l.key));e>=0?(i.push(...t.slice(a,e).map((e=>({child:e,status:r.in}))),{child:t[e],status:r.static}),a=e+1):i.push({child:l,status:r.out})}n+=1}return a<t.length&&i.push(...t.slice(a).map((e=>({child:e,status:r.in})))),i})(t.renderChildren.map((e=>e.child)),i.a.Children.toArray(e.children));return{renderChildren:a,isAnimating:!a.every((e=>e.status===r.static))}}render(){const{renderChildren:e}=this.state;return e.map((({child:e,status:t})=>i.a.createElement(o.a,{animateMount:t!==r.static,key:e.key,onAnimateComplete:this._handleEachAnimateComplete,show:t!==r.out},e)))}}t.a=l},sUoZ:function(e,t,a){"use strict";var n=a("ERkP"),i=a.n(n),o=a("Lsrn"),s=a("k/Ka");const r=(e={})=>Object(s.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[o.a.root,e.style],viewBox:"0 0 24 24"},i.a.createElement("g",null,i.a.createElement("path",{d:"M22.18 9.565c-.157-.487-.61-.82-1.126-.82h-5.928l-2.007-5.88c-.164-.476-.612-.8-1.12-.8s-.956.322-1.12.8L8.874 8.743H2.945c-.513 0-.97.332-1.126.82-.158.49.02 1.02.44 1.318l4.735 3.357-2.018 5.908c-.164.484 0 1.02.415 1.324.415.304.97.31 1.39.016L12 17.782l5.22 3.703c.206.146.446.218.686.218.25 0 .497-.08.705-.233.41-.305.577-.84.41-1.324l-2.015-5.906 4.735-3.356c.414-.3.595-.83.44-1.32z"})));r.metadata={width:24,height:24},t.a=r},tuke:function(e,t,a){"use strict";var n=a("ERkP"),i=a.n(n),o=a("Lsrn"),s=a("k/Ka");const r=(e={})=>Object(s.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[o.a.root,e.style],viewBox:"0 0 24 24"},i.a.createElement("g",null,i.a.createElement("path",{d:"M21.592 5.576c.877-.967.882-2.298.006-3.174-.877-.877-2.208-.87-3.174.006 0 0-.003 0-.004.002l-.006.006-.005.004s-.002 0-.002.002L8.398 11.27c-1.716-.214-3.424.31-4.534 1.42-3.872 3.874-1.523 9.616-1.422 9.858.1.24.32.41.577.45.037.007.075.01.113.01.218 0 .428-.095.57-.265 1.83-2.15 3.043-2.023 4.328-1.89 1.164.122 2.477.258 3.834-1.282.975-1.106 1.302-2.585.922-4.03l8.792-9.948h.002l.004-.006.006-.006.002-.004zm-1.055-2.113c.305.305.28.74-.06 1.11-.003.003-.004.007-.006.01 0 0-.003 0-.004.003l-5.662 6.406-1.796-1.796 6.406-5.662c.002 0 .002-.003.004-.005.002-.003.006-.004.008-.006.37-.34.807-.365 1.11-.06zm-8.62 10.797L9.74 12.084l2.142-1.894 1.927 1.927-1.894 2.143zm-1.178 4.32c-.848.96-1.488.895-2.552.78-1.27-.13-2.808-.293-4.722 1.463-.415-1.673-.784-4.83 1.457-7.072.807-.805 2.086-1.168 3.377-.983l2.977 2.976c.333 1.03.15 2.057-.538 2.836z"})));r.metadata={width:24,height:24},t.a=r},ude7:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a("A0bJ"),i=a("hJBK"),o=a("1auM");const s=1,r=2,l=3,c=e=>{if(Object(o.b)(e)){if(e.isGif){const{height:t,img:a,orientation:o,width:s}=e;return Object(i.b)(a,s,t,o).then((e=>Object(i.a)(e)),(e=>{throw new n.a("Gif preview could not be generated",l)}))}{const e=new n.a("The provided image must be a gif",r);return Promise.reject(e)}}{const e=new n.a("The provided file is not a valid image",s);return Promise.reject(e)}}},w3n3:function(e,t,a){"use strict";var n=a("ERkP"),i=a.n(n),o=a("/yvb"),s=a("3XMw"),r=a.n(s),l=a("3rWK"),c=a("Irs7");const d=r.a.a4993fa1,u=i.a.createElement(l.a,null),h=r.a.i0db46e6,p={viewType:"gif_search"};t.a=({dmConversationId:e,enabled:t=!0,gifSearchKeySource:a,history:n,onPress:s,style:r,testID:l})=>{const m=Object(c.b)(),g=i.a.useCallback((()=>{s&&s(),m.scribe({element:"found_media_button",action:"click"}),n.push({pathname:"/i/foundmedia/search",state:{gifSearchKeySource:a,dmConversationId:e}})}),[e,m,a,n,s]);return i.a.createElement(o.a,{accessibilityLabel:d,behavioralEventContext:p,disabled:!t,hoverLabel:{label:h},icon:u,onPress:g,size:"medium",style:r,testID:l,type:"brandText"})}},wpu3:function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return h})),a.d(t,"c",(function(){return p})),a.d(t,"d",(function(){return m}));a("kYxP"),a("qd3W");var n=a("oEoC"),i=a("1auM"),o=a("kIAd"),s=a("VAyw"),r=a("/Ikv"),l=a("s1N3"),c=a("lnti");const d=({excludeReplyUser:e,inReplyToStatus:t,loggedInUserId:a})=>{const{retweeted_status:n}=t,{entities:i,unmentioned_user_ids:o,user:r}=n||t,d=n?n.user:{},h=n?t.user:{},p=(null==i?void 0:i.user_mentions)||[],m=s.a.mergeTaggedUsers((null==i?void 0:i.media)||[]),g=u(n||t)||{},b={[d.id_str]:d,[h.id_str]:h,[r.id_str]:r,[g.id_str]:g};p.forEach((e=>{b[e.id_str]=e})),m.forEach((({name:e,screen_name:t,user_id:a})=>{b[a]={id_str:a,name:e,screen_name:t}}));const _=e=>{const t=null==o?void 0:o.includes(e.id_str),a=e.id_str===r.id_str;return!t||a?[e.id_str]:[]},y=Object(l.a)(Object(c.a)([..._(d),..._(h),r.id_str,...p.flatMap((e=>_(e))),...m.map((e=>e.user_id))])).filter((e=>e!==a));let f=a&&r.id_str===a?[a,...y]:y;return e&&(f=f.filter((e=>e!==r.id_str))),f.map((e=>b[e]))},u=({card:e})=>{let t=null;if(e){const a=r.a.getBindingValue(e.binding_values,"site");a&&e.users&&(t=e.users[a.id_str])}return t},h=({maxNumberOfPhotos:e})=>t=>{if(0===t.length)return!0;const a=t.some((e=>!!e.externalMediaDetails)),n=!a&&t.some((e=>e.mediaFile&&e.mediaFile.isGif)),o=t.some((e=>e.mediaFile&&!(e.mediaFile instanceof i.a)&&e.mediaFile.isVideo));if(n||a||o)return 1===t.length;{const a=t.length<=e,n=t.every((e=>e.mediaFile&&e.mediaFile.isImage));return a&&n}},p=h({maxNumberOfPhotos:4}),m=(e,t=!1)=>{const a=e.split(o.b.WordBoundary);return t&&a.pop(),!!a.find((e=>{const t=Object(n.e)(e,"compose");return t&&"users"===t.result_type}))}},x8Sc:function(e,t,a){"use strict";a.r(t),a.d(t,"InlineComposeContainer",(function(){return d}));var n=a("ERkP"),i=a.n(n),o=a("h5NW"),s=a("MWbm"),r=a("7N4s"),l=a("cHvH"),c=a("rHpw");const d=({history:e,location:t,parentTweetId:a,replyPressToggle:n,richTextInputContext:c,typeaheadWrapper:d})=>{const{isModal:h}=i.a.useContext(r.b);return i.a.createElement(l.a,null,(({windowWidth:r})=>i.a.createElement(s.a,{style:u.root},i.a.createElement(o.a,{history:e,isInline:!0,isModal:h,location:t,parentTweetId:a,replyPressToggle:n,richTextInputContext:c,typeaheadWrapper:d,windowWidth:r}))))},u=c.a.create((e=>({root:{backgroundColor:e.colors.cellBackground,zIndex:1}})));t.default=d},yTN1:function(e,t,a){"use strict";var n=a("ERkP"),i=a.n(n),o=a("WOwf"),s=a("3XMw"),r=a.n(s),l=a("k6Ei"),c=a("rHpw"),d=a("+/1j"),u=a("MWbm");const h=r.a.c2fc878c,p=r.a.db11b27f,m=e=>e,g=c.a.create((({colors:e})=>({root:{alignItems:"flex-start",minHeight:30,minWidth:30},center:{alignItems:"center",justifyContent:"center",margin:"auto"},progressCircle:{transitionDuration:"0.2s",transitionProperty:"opacity"},hide:{opacity:0},text:{fontSize:13,lineHeight:.8,minWidth:16,textAlign:"center"},gray700:{color:e.gray700},red500:{color:e.red500}})));t.a=e=>{const{count:t,maxCount:a,formatNumber:n=m,warningCount:s}=e,r=a-t,b=r>=0?p({count:n(r)}):h({count:n(t-a)}),_=t>=s?i.a.createElement(d.a,{accessibilityAtomic:!0,accessibilityLiveRegion:"polite",style:c.a.visuallyHidden},b):null,y=Object(o.a)(r,a),f=t>=a?"red500":t>=s?"yellow500":"primary",w=i.a.createElement(l.a,{color:f,progress:y,size:t>=s?30:20,style:[g.progressCircle,r<=-10&&g.hide]}),C=t>=s?i.a.createElement(d.a,{style:[g.text,r>0?g.gray700:g.red500]},n(r)):null;return i.a.createElement(u.a,{style:[g.root,g.center]},_,w,i.a.createElement(u.a,{style:[c.a.absoluteFill,g.center]},C))}},yZqq:function(e,t,a){"use strict";var n=a("97Jx"),i=a.n(n),o=(a("kYxP"),a("ERkP")),s=a.n(o),r=a("H7Rt"),l=a("3XMw"),c=a.n(l),d=a("MWbm"),u=a("t62R"),h=a("CKsB"),p=a("/yvb"),m=a("rHpw"),g=a("Zg3A"),b=a("Lsrn"),_=a("k/Ka");const y=(e={})=>Object(_.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[b.a.root,e.style],viewBox:"0 0 24 24"},s.a.createElement("g",null,s.a.createElement("path",{d:"M10.43 12.24c-1.37 0-2.89-.15-3.87-1.26-.82-.95-1.09-2.39-.81-4.43C6.13 3.7 7.88 2 10.43 2s4.3 1.7 4.68 4.55c.27 2.04.01 3.49-.81 4.42-.98 1.12-2.51 1.27-3.87 1.27zm0-8.73c-2.39 0-3.03 2.03-3.19 3.24-.21 1.56-.06 2.65.45 3.23.46.53 1.28.75 2.73.75 1.46 0 2.28-.22 2.74-.75.51-.58.66-1.67.45-3.23-.16-1.21-.79-3.24-3.18-3.24zm2.01 18.99H4.22c-.7 0-1.33-.3-1.75-.83-.43-.54-.57-1.26-.4-1.95.88-3.55 4.31-6.03 8.34-6.03.42 0 .75.34.75.75 0 .42-.34.75-.75.75-3.34 0-6.17 2.01-6.88 4.89-.06.25-.02.49.12.66.13.16.32.25.56.25h8.22c.42 0 .75.34.75.75.01.42-.32.76-.74.76zm9.15-10.87l-4.2 8.46c-.01.03-.02.05-.04.07-.02.06-.06.11-.1.15-.05.05-.1.09-.15.13h-.01c-.06.04-.12.06-.19.08-.07.02-.13.03-.2.03-.05 0-.11 0-.17-.02-.06-.01-.11-.03-.16-.06-.06-.03-.12-.07-.18-.12-.01-.01-.03-.02-.04-.03l-3.08-3.27c-.28-.3-.27-.78.04-1.06.3-.29.77-.27 1.06.03l2.34 2.48 3.74-7.53c.18-.37.63-.52 1-.34.37.17.52.63.34 1z"}),s.a.createElement("path",{d:"M17.1 20.44c.05-.04.1-.08.15-.13 0 .01-.02.03-.03.04-.04.04-.08.06-.12.09z"})));y.metadata={width:24,height:24};var f=y,w=a("boUI"),C=a("EweD");const v=c.a.g6185a9e,T=c.a.g2d04222,E=c.a.baffe39a,x=c.a.af293dc2,S=c.a.h1053f7e,I=c.a.bf994ab2,k=c.a.cf7f7e39,R=c.a.cfd2f35d,P=m.a.create((e=>({root:{flexDirection:"column",paddingTop:e.spaces.space16,paddingBottom:e.spaces.space4,borderRadius:e.borderRadii.xLarge},popover:{maxWidth:5*e.spacesPx.space64},modal:{borderRadius:e.borderRadii.none},title:{flexDirection:"column",paddingHorizontal:e.spaces.space16,marginBottom:e.spaces.space12},menuRow:{flexDirection:"row",paddingTop:e.spaces.space12,paddingBottom:e.spaces.space12,alignItems:"center",borderRadius:e.borderRadii.small},cancelButton:{marginHorizontal:e.spaces.space16,marginVertical:e.spaces.space16}})));var M=e=>{var t,a;const{dismiss:n,isModal:i,midConversationTweet:o,value:l}=e,c=t=>()=>{e.onChange(t),e.dismiss()},m=!!o,b=m&&!(null!=o&&null!=(t=o.entities)&&null!=(a=t.user_mentions)&&a.some((e=>e.id_str!==o.user.id_str)));let _=S;return b?_=I:m&&(_=k),s.a.createElement(d.a,{accessibilityDescribedBy:"conversation-controls-details",accessibilityLabelledBy:"conversation-controls-title",accessibilityRole:"dialog",style:[P.root,i?P.modal:P.popover]},s.a.createElement(d.a,{style:P.title},s.a.createElement(u.b,{nativeID:"conversation-controls-title",weight:"bold"},v),s.a.createElement(u.b,{color:"gray700",nativeID:"conversation-controls-details",size:"body"},T)),s.a.createElement(d.a,null,s.a.createElement(h.a,{Icon:g.a,actionText:E,isSelected:r.a.all===l,onClick:c(r.a.all),selectable:!0,style:P.menuRow,withIconAsThumbnail:!0}),s.a.createElement(h.a,{Icon:f,actionText:x,isSelected:r.a.community===l,onClick:c(r.a.community),selectable:!0,style:P.menuRow,withIconAsThumbnail:!0}),s.a.createElement(h.a,{Icon:b?w.a:C.a,actionText:_,isSelected:r.a.by_invitation===l,onClick:c(r.a.by_invitation),selectable:!0,style:P.menuRow,withIconAsThumbnail:!0}),e.isModal?s.a.createElement(p.a,{key:"button_cancel",onPress:n,size:"large",style:P.cancelButton,type:"primaryOutlined"},R):null))},D=a("OiMc"),L=a("efqG");t.a=e=>{const{children:t,controlled:a=!1,disabled:n}=e,[o,r]=s.a.useState(!1),l=s.a.useCallback((()=>r(!0)),[]),c=s.a.useCallback((()=>r(!1)),[]),d=a?o?D.a.VISIBILITY_BEHAVIOR.forceVisible:D.a.VISIBILITY_BEHAVIOR.forceHidden:void 0,u="function"==typeof t?t({openPopover:l,closePopover:c}):t;return s.a.createElement(L.a,{disabled:n,onDismiss:c,renderContent:(t,a)=>{const{children:n,controlled:o,...r}=e;return s.a.createElement(M,i()({},r,{dismiss:t,isModal:"sheet"===a}))},visibilityBehavior:d},u)}},zmS9:function(e,t,a){"use strict";var n=a("ERkP"),i=a.n(n),o=a("3XMw"),s=a.n(o),r=a("J0mu"),l=a("t62R"),c=a("rHpw"),d=a("QbaN");const u=s.a.bfb895b1,h=c.a.create((e=>({icon:{fontSize:e.fontSizes.body,paddingRight:e.spaces.space12,textAlignVertical:"middle"}})));t.a=({onPress:e,scheduledFor:t,testID:a})=>{const n=Object(d.c)(t),o=!!n&&(Object(d.h)(t)&&!Object(d.g)(n)&&!Object(d.f)(n)),s=Boolean(e);return n&&o?i.a.createElement(l.b,{color:"gray700",onPress:e,size:"subtext2",testID:a,withInteractiveStyling:s},i.a.createElement(r.a,{style:h.icon}),u({date:Object(d.b)(n),time:Object(d.i)(n)})):null}}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/bundle.RichTextCompose.22a9d1e5.js.map